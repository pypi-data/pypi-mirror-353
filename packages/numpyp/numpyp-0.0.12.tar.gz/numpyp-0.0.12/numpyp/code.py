import pyperclip

def z_1_1():
    answer = f"""
# –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ
a = 1e308
b = 1e308
c = a * b  # –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç 'inf' (–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å)
print(c)
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_1_2():
    answer = f"""
# –ü–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏
a = 0.1 + 0.2
b = 0.3
print(f'a = ', a, ', b = ', b, ', a == b: ',a == b')  # –û–∂–∏–¥–∞–µ—Ç—Å—è True, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç False
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_1_3():
    answer = f"""
# –û—à–∏–±–∫–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è
a = 1.0000000000000001
b = 1.000000000000002
print(a + b)  # –û–∂–∏–¥–∞–µ–º 2.0000000000000021, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–∏–º –∏–∑-–∑–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_1_4():
    answer = f"""
# –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
sum = 0.0
for i in range(100000):
    sum += 0.0001
print(sum)  # –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ 10, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏ —á–∏—Å–µ–ª"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_1_5():
    answer = f"""
# –ü–æ—Ç–µ—Ä—è –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏
a = 1.0000000000000001
b = 1.0000000000000002
print(a + b)   # –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–∫–∞–∂–µ–Ω–∞ –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_1_6():
    answer = f"""
def kahan_sum(x):
    s = 0.0
    c = 0.0
    for i in range(len(x)):
        y = x[i] - c
        t = s + y
        c = (t - s) - y
        s = t
    return s"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_1_7():
    answer = f"""
import numpy as np
import time
from numba import jit

n = 10**6

np.random.seed(42)
x = np.random.uniform(-1,1,n).astype(np.float32)

true_sum = np.sum(x, dtype=np.float64)

def naive_sum(x):
    s = np.float32(0.0)
    for i in range(len(x)):
        s += x[i]
    return s

@jit(nopython=True)
def kahan_sum(x):
    s = np.float32(0.0)
    c = np.float32(0.0)
    for i in range(len(x)):
        y = x[i] - c
        t = s + y
        c = (t - s) - y
        s = t
    return s

start = time.time()
d_sum = naive_sum(x)
time_naive = time.time() - start

start = time.time()
k_sum = kahan_sum(x)
time_kahan = time.time() - start

start = time.time()
np_sum = np.sum(x, dtype=np.float32)
time_numpy = time.time() - start

print("–û—à–∏–±–∫–∞ –≤ naive sum: ",d_sum - true_sum)
print("–û—à–∏–±–∫–∞ –≤ Kahan sum: ",k_sum - true_sum)
print("–û—à–∏–±–∫–∞ –≤ NumPy sum: ",np_sum - true_sum)

print("\n–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:")
print(f"Naive sum: ", time_naive, "—Å–µ–∫")
print(f"Kahan sum: ", time_kahan, "—Å–µ–∫")
print(f"NumPy sum: ", time_numpy, "—Å–µ–∫")"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_2_1():
    answer = f"""
import numpy as np

def simple_iteration(x0, y0, eps=1e-3, max_iter=100):
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    x = x0
    y = y0

    # –í—ã–≤–æ–¥–∏–º –Ω–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ
    print("–ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ:")
    print("x =", round(x, 5))
    print("y =", round(y, 5))
    print("-----------------------")

    # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏—Ç–µ—Ä–∞—Ü–∏–π
    for k in range(1, max_iter + 1):
        # –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è x –∏ y –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º –º–µ—Ç–æ–¥–∞
        # x = (1/4)*cos(y) + 1
        x_new = 0.25 * np.cos(y) + 1

        # y = (1/5)*sin(x)
        y_new = 0.2 * np.sin(x)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:
        # –ï—Å–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ x –∏ y –º–µ–Ω—å—à–µ –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
        if max(abs(x_new - x), abs(y_new - y)) < eps:
            print("\n–†–µ—à–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ –∑–∞", k, "–∏—Ç–µ—Ä–∞—Ü–∏–π!")
            return x_new, y_new, k

        # –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        x = x_new
        y = y_new

        # –í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        print("–ò—Ç–µ—Ä–∞—Ü–∏—è", k)
        print("x =", round(x, 5))
        print("y =", round(y, 5))
        print("-----------------------")

    # –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
    print("\n–î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º –∏—Ç–µ—Ä–∞—Ü–∏–π!")
    return x, y, max_iter

# –ó–∞–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
x_start = 0.5
y_start = 0.5
precision = 1e-3  # –¢–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

# –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
x_final, y_final, iters = simple_iteration(x_start, y_start, precision)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
print("\n–§–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:")
print("x =", round(x_final, 5))
print("y =", round(y_final, 5))

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è
print("\n–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—à–µ–Ω–∏—è:")
# –í—ã—á–∏—Å–ª—è–µ–º –Ω–µ–≤—è–∑–∫–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏–π
check1 = x_final - 0.25 * np.cos(y_final) - 1
check2 = y_final - 0.2 * np.sin(x_final)
print("–ü–µ—Ä–≤–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~0):", round(check1, 6))
print("–í—Ç–æ—Ä–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~0):", round(check2, 6))    
    """
    pyperclip.copy(answer)
    pyperclip.paste()

def z_2_2():
    answer = f"""
import numpy as np

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–º —Ö–æ—Ä–¥
def chord_method(f, x0, x1, eps=1e-6, max_iter=100):
    # –ù–∞—á–∏–Ω–∞–µ–º –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
    for n in range(max_iter):
        # –í—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–µ–∫—É—â–∏—Ö —Ç–æ—á–∫–∞—Ö
        fx0 = f(x0)
        fx1 = f(x1)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏ –º—ã –Ω—É–∂–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
        if abs(fx1) < eps:
            return x1, n  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ—Ä–µ–Ω—å –∏ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

        # –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –º–µ—Ç–æ–¥–∞ —Ö–æ—Ä–¥:
        # x_new = x1 - f(x1)*(x1-x0)/(f(x1)-f(x0))
        x_new = x1 - fx1 * (x1 - x0) / (fx1 - fx0)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è x
        if abs(x_new - x1) < eps:
            return x_new, n  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ —Ç–æ—á–Ω–æ—Å—Ç—å

        # –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ—á–∫–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        x0, x1 = x1, x_new

    # –ï—Å–ª–∏ –≤—ã—à–ª–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∏—Ç–µ—Ä–∞—Ü–∏–π
    print("–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π!")
    return x1, max_iter

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ä–µ–Ω—å –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏
# –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ: x^3 - 2x - 5 = 0
def f(x):
    return x**3 - 2*x - 5

# –ó–∞–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è
# –í–∞–∂–Ω–æ: –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —ç—Ç–∏—Ö —Ç–æ—á–∫–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
x_start1 = 2.0
x_start2 = 3.0

# –ó–∞–¥–∞–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
tolerance = 1e-6

# –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ —Ö–æ—Ä–¥ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏—è
solution, num_iterations = chord_method(f, x_start1, x_start2, eps=tolerance)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
print("\n–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—à–µ–Ω–∏—è:")
print("–ù–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ—Ä–µ–Ω—å: x =", round(solution, 6))
print("–ó–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ—Ä–Ω–µ: f(x) =", round(f(solution), 6))
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π:", num_iterations)"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_2_3():
    answer = f"""
import numpy as np

def wegstein_method(f, x0, x1, eps=1e-6, max_iter=100):
    # –í—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö
    fx0 = f(x0)
    fx1 = f(x1)

    # –ù–∞—á–∏–Ω–∞–µ–º –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–Ω–∞—á–∏–Ω–∞–µ–º —Å 2, —Ç–∞–∫ –∫–∞–∫ –Ω—É–∂–Ω–æ 2 –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è)
    for n in range(2, max_iter + 1):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏ –º—ã –Ω—É–∂–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é —Ñ—É–Ω–∫—Ü–∏–∏
        if abs(fx1) < eps:
            return x1, n - 1  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—É—â–µ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

        # –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –º–µ—Ç–æ–¥–∞ –í–µ–≥—Å—Ç–µ–π–Ω–∞:
        # x_new = x1 - f(x1)*(x1-x0)/(f(x1)-f(x0))
        x_new = x1 - fx1 * (x1 - x0) / (fx1 - fx0)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è x (–≤—Ç–æ—Ä–∞—è —É—Å–ª–æ–≤–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
        if abs(x_new - x1) < eps:
            return x_new, n

        # –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:
        # –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏
        x0, x1 = x1, x_new
        fx0, fx1 = fx1, f(x_new)  # –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

    # –ï—Å–ª–∏ –≤—ã—à–ª–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∏—Ç–µ—Ä–∞—Ü–∏–π
    print("–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π!")
    return x1, max_iter

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ä–µ–Ω—å –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏
# –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Ä–µ—à–∞–µ–º —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: x^3 - 2x - 5 = 0
def our_function(x):
    return x**3 - 2*x - 5

# –ó–∞–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è
initial_guess1 = 2.0
initial_guess2 = 3.0

# –ó–∞–¥–∞–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
tolerance = 1e-6

# –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –í–µ–≥—Å—Ç–µ–π–Ω–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏—è
solution, iterations_needed = wegstein_method(our_function, initial_guess1, initial_guess2, eps=tolerance)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
print("\n–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—à–µ–Ω–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏—è x^3 - 2x - 5 = 0")
print("–ù–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ—Ä–µ–Ω—å: x =", round(solution, 6))
print("–ó–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ—Ä–Ω–µ: f(x) =", round(our_function(solution), 6))
print("–ü–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –∏—Ç–µ—Ä–∞—Ü–∏–π:", iterations_needed)"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_2_4():
    answer = f"""
import numpy as np

def newton_method(f, df, x0, eps=1e-6, max_iter=100):
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
    x = x0

    # –û—Å–Ω–æ–≤–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
    for n in range(max_iter):
        # –í—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –µ—ë –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π –≤ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–µ
        fx = f(x)
        dfx = df(x)

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
        if abs(fx) < eps:
            return x, n

        # –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è –Ω–µ —Ä–∞–≤–Ω–∞ –Ω—É–ª—é (–∏–Ω–∞—á–µ –¥–µ–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ)
        if dfx == 0:
            raise ValueError("–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è —Ä–∞–≤–Ω–∞ –Ω—É–ª—é - –º–µ—Ç–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å—Å—è")

        # –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –º–µ—Ç–æ–¥–∞ –ù—å—é—Ç–æ–Ω–∞: x_new = x - f(x)/f'(x)
        x_new = x - fx / dfx

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è x (–≤—Ç–æ—Ä–æ–π –∫—Ä–∏—Ç–µ—Ä–∏–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
        if abs(x_new - x) < eps:
            return x_new, n + 1

        # –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ x –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        x = x_new

    # –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
    print("–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π!")
    return x, max_iter

# –ü—Ä–∏–º–µ—Ä 1: –†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è x - cos(x) = 0
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∏ –µ—ë –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é
def func1(x):
    return x - np.cos(x)

def dfunc1(x):
    return 1 + np.sin(x)

# –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ (–≤—ã–±–∏—Ä–∞–µ–º x0=0.5 —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª—É –≤—ã–±–æ—Ä–∞)
initial_guess1 = 0.5

# –†–µ—à–∞–µ–º —É—Ä–∞–≤–Ω–µ–Ω–∏–µ
solution1, iter1 = newton_method(func1, dfunc1, initial_guess1)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
print("\n–ü—Ä–∏–º–µ—Ä 1: –†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è x - cos(x) = 0")
print("–ù–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ—Ä–µ–Ω—å: x =", round(solution1, 6))
print("–ó–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ—Ä–Ω–µ:", round(func1(solution1), 6))
print("–ü–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –∏—Ç–µ—Ä–∞—Ü–∏–π:", iter1)

# –ü—Ä–∏–º–µ—Ä 2: –†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è x^2 - 2 = 0 (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ ‚àö2)
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∏ –µ—ë –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—É—é
def func2(x):
    return x**2 - 2

def dfunc2(x):
    return 2 * x

# –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ
initial_guess2 = 2.0

# –†–µ—à–∞–µ–º —É—Ä–∞–≤–Ω–µ–Ω–∏–µ
solution2, iter2 = newton_method(func2, dfunc2, initial_guess2)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
print("\n–ü—Ä–∏–º–µ—Ä 2: –†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è x^2 - 2 = 0 (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ ‚àö2)")
print("–ù–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ—Ä–µ–Ω—å: x =", round(solution2, 6))
print("–ó–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ—Ä–Ω–µ:", round(func2(solution2), 6))
print("–ü–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –∏—Ç–µ—Ä–∞—Ü–∏–π:", iter2)
print("–ü—Ä–æ–≤–µ—Ä–∫–∞: –∫–≤–∞–¥—Ä–∞—Ç –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–æ—Ä–Ω—è =", round(solution2**2, 6))"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_3():
    answer = f"""
import numpy as np

def dichotomy_method(f, a, b, epsilon=1e-5):
    "
    –ú–µ—Ç–æ–¥ –ø–æ–ª–æ–≤–∏–Ω–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –º–∏–Ω–∏–º—É–º–∞ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    f: —Ñ—É–Ω–∫—Ü–∏—è, –º–∏–Ω–∏–º—É–º –∫–æ—Ç–æ—Ä–æ–π –∏—â–µ–º
    a, b: –≥—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
    epsilon: —Ç–æ—á–Ω–æ—Å—Ç—å, –¥–æ –∫–æ—Ç–æ—Ä–æ–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –º–∏–Ω–∏–º—É–º
    "
    
    # –ù–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    c = (a + b) / 2
    
    # –ò—Ç–µ—Ä–∞—Ü–∏–∏
    while (b - a) / 2 > epsilon:
        left = f(c - epsilon / 2)
        right = f(c + epsilon / 2)
        
        if left < right:
            b = c
        else:
            a = c
            
        c = (a + b) / 2
    
    return c

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
def example_function(x):
    return x**2 - 4*x + 4  # –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏

# –ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –º–∏–Ω–∏–º—É–º–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ [0, 5]
minimum = dichotomy_method(example_function, 0, 5)
print('–ú–∏–Ω–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ—á–∫–µ x = ',minimum')
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_4_1():
    answer = f"""
import numpy as np
import matplotlib.pyplot as plt


# –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π
def solve_nonlinear_system():
    # –ü—Ä–∏–º–µ—Ä —Å–∏—Å—Ç–µ–º—ã —É—Ä–∞–≤–Ω–µ–Ω–∏–π:
    # x^2 + y^2 = 4
    # x - y = 1

    # –ü–µ—Ä–µ–ø–∏—à–µ–º —Å–∏—Å—Ç–µ–º—É –≤ –≤–∏–¥–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–π –¥–ª—è –º–µ—Ç–æ–¥–∞ –ø—Ä–æ—Å—Ç—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π:
    # x = sqrt(4 - y^2)
    # y = x - 1

    def g1(y):  # x = sqrt(4 - y^2)
        return np.sqrt(4 - y**2)

    def g2(x):  # y = x - 1
        return x - 1

    # –ù–∞—á–∞–ª—å–Ω—ã–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è
    x_init = 1.0
    y_init = 1.0

    tol = 1e-6  # –ü–æ—Ä–æ–≥ —Ç–æ—á–Ω–æ—Å—Ç–∏
    max_iters = 1000  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

    # –ò—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
    for it in range(max_iters):
        x_new = g1(y_init)  # –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ x
        y_new = g2(x_init)  # –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ y

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å
        if abs(x_new - x_init) < tol and abs(y_new - y_init) < tol:
            break  # –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–∞, –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞

        # –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è x –∏ y –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        x_init = x_new
        y_init = y_new

    return x_new, y_new, it + 1  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç


tol = 1e-6         # –ü–æ—Ä–æ–≥ —Ç–æ—á–Ω–æ—Å—Ç–∏
max_iters = 1000   # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π


# –†–µ—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π
x, y, iterations = solve_nonlinear_system()
print(f"\n–†–µ—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π:")
print('x = ',x, 'y = ',y:.6f,' –∏—Ç–µ—Ä–∞—Ü–∏–π = ',iterations)"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_4_2():
    answer = f"""
import numpy as np
#sin(x)‚àí0.5‚àíy=1.5
#2ùë• ‚àícosùë¶ = 0,6
# –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–π –ø–æ –º–µ—Ç–æ–¥—É –ó–µ–π–¥–µ–ª—è
def f1(y):
    return 0.5 * np.cos(y) + 0.3  # –§—É–Ω–∫—Ü–∏—è –¥–ª—è x —Ç—É—Ç –≤—ã—Ä–∞–∂–∞–µ–º —á–µ—Ä–µ–∑ –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

def f2(x):
    return np.sin(x) - 0.5 - 1.5  # –§—É–Ω–∫—Ü–∏—è –¥–ª—è y

# –ú–µ—Ç–æ–¥ –ó–µ–π–¥–µ–ª—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π
def seidel_method(x_init, y_init, tol, max_iters):
    x = x_init
    y = y_init
    
    for k in range(max_iters):
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ x –∏ y –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ
        x_new = f1(y)  # –ù–æ–≤—ã–π x –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ä–æ–≥–æ y
        y_new = f2(x_new)  # –ù–æ–≤—ã–π y –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–≤–æ–≥–æ x
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
        if abs(x_new - x) < tol and abs(y_new - y) < tol:
            break  # –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–∞, –æ—Å—Ç–∞–Ω–æ–≤–∏–º –∏—Ç–µ—Ä–∞—Ü–∏–∏
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        x = x_new
        y = y_new
    
    return x_new, y_new, k + 1  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ –ó–µ–π–¥–µ–ª—è
x_init = 0.13  # –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è x
y_init = -1.8  # –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è y
tol = 0.001  # –ü–æ—Ä–æ–≥ —Ç–æ—á–Ω–æ—Å—Ç–∏
max_iters = 1000  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

x, y, iterations = seidel_method(x_init, y_init, tol, max_iters)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
print(f"–†–µ—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É—Ä–∞–≤–Ω–µ–Ω–∏–π –º–µ—Ç–æ–¥–æ–º –ó–µ–π–¥–µ–ª—è:")
print('x =', x,' y = ',y, '–∏—Ç–µ—Ä–∞—Ü–∏–π =',iterations)    
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_4_3():
    answer = f"""
import numpy as np
#F1(x,y) = sin x - 0,5-y = 1,5
#F2(x,y) = 2x-cosy=0,6
#–∏—Ö –Ω—É–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –≤–∏–¥—É —á—Ç–æ–±—ã —Å–ø—Ä–∞–≤–∞ –±—ã–ª –Ω–æ–ª—å
# –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã
def F1(x, y):
    return np.sin(x) - 0.5 - y - 1.5

def F2(x, y):
    return 2*x - np.cos(y) - 0.6

# –ß–∞—Å—Ç–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ
def dF1_dx(x, y):
    return np.cos(x)

def dF1_dy(x, y):
    return -1

def dF2_dx(x, y):
    return 2

def dF2_dy(x, y):
    return np.sin(y)

# –ú–µ—Ç–æ–¥ –ù—å—é—Ç–æ–Ω–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π
def newton_method(x_init, y_init, tol, max_iters):
    x = x_init
    y = y_init
    
    for k in range(max_iters):
        # –í—ã—á–∏—Å–ª—è–µ–º —á–∞—Å—Ç–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –≤ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–µ
        jacobian = np.array([
            [dF1_dx(x, y), dF1_dy(x, y)],
            [dF2_dx(x, y), dF2_dy(x, y)]
        ])
        
        # –í–µ–∫—Ç–æ—Ä –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ (–∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–µ)
        F_values = np.array([F1(x, y), F2(x, y)])
        
        # –†–µ—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π –¥–ª—è –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–π
        delta = np.linalg.solve(jacobian, -F_values)
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
        x_new = x + delta[0]
        y_new = y + delta[1]
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å
        if np.max(np.abs(delta)) < tol:
            break
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        x, y = x_new, y_new
    
    return x_new, y_new, k + 1  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ—à–µ–Ω–∏–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

# –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ –ù—å—é—Ç–æ–Ω–∞
x_init = 0.13  # –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è x
y_init = -1.8  # –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è y
tol = 0.001  # –ü–æ—Ä–æ–≥ —Ç–æ—á–Ω–æ—Å—Ç–∏
max_iters = 1000  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

x, y, iterations = newton_method(x_init, y_init, tol, max_iters)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
print(f"–†–µ—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É—Ä–∞–≤–Ω–µ–Ω–∏–π –º–µ—Ç–æ–¥–æ–º –ù—å—é—Ç–æ–Ω–∞:")
print('x = ',x,' y = ',y,' –∏—Ç–µ—Ä–∞—Ü–∏–π = ',iterations) 
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_4_4():
    answer = f"""
import numpy as np
#F1(x,y) = sin x - 0,5-y = 1,5
#F2(x,y) = 2x-cosy=0,6
#–∏—Ö –Ω—É–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –≤–∏–¥—É —á—Ç–æ–±—ã —Å–ø—Ä–∞–≤–∞ –±—ã–ª –Ω–æ–ª—å
# –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã
def F1(x, y):
    return np.sin(x) - 0.5 - y - 1.5

def F2(x, y):
    return 2*x - np.cos(y) - 0.6

# –ß–∞—Å—Ç–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–µ
def dF1_dx(x, y):
    return np.cos(x)

def dF1_dy(x, y):
    return -1

def dF2_dx(x, y):
    return 2

def dF2_dy(x, y):
    return np.sin(y)

# –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ù—å—é—Ç–æ–Ω–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π
def modified_newton_method(x_init, y_init, tol, max_iters):
    x = x_init
    y = y_init
    
    # –í—ã—á–∏—Å–ª—è–µ–º —á–∞—Å—Ç–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–µ (—Ñ–∏–∫—Å–∏—Ä—É–µ–º –∏—Ö)
    jacobian = np.array([
        [dF1_dx(x, y), dF1_dy(x, y)],
        [dF2_dx(x, y), dF2_dy(x, y)]
    ])
    
    # –í–µ–∫—Ç–æ—Ä –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ (–∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–µ–∫—É—â–µ–π —Ç–æ—á–∫–µ)
    F_values = np.array([F1(x, y), F2(x, y)])
    
    for k in range(max_iters):
        # –†–µ—à–∞–µ–º —Å–∏—Å—Ç–µ–º—É –ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π –¥–ª—è –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–π
        delta = np.linalg.solve(jacobian, -F_values)
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
        x_new = x + delta[0]
        y_new = y + delta[1]
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å
        if np.max(np.abs(delta)) < tol:
            break
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        x, y = x_new, y_new
        # –û–±–Ω–æ–≤–ª—è–µ–º F_values –¥–ª—è –Ω–æ–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
        F_values = np.array([F1(x, y), F2(x, y)])
    
    return x_new, y_new, k + 1  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ—à–µ–Ω–∏–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

# –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å –ø–æ–º–æ—â—å—é –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –ù—å—é—Ç–æ–Ω–∞
x_init = 0.13  # –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è x
y_init = -1.8  # –ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è y
tol = 0.001  # –ü–æ—Ä–æ–≥ —Ç–æ—á–Ω–æ—Å—Ç–∏
max_iters = 1000  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π

x, y, iterations = modified_newton_method(x_init, y_init, tol, max_iters)

# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
print(f"–†–µ—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É—Ä–∞–≤–Ω–µ–Ω–∏–π –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º –ù—å—é—Ç–æ–Ω–∞:")
print(f"x = ',x,' y = ',y,' –∏—Ç–µ—Ä–∞—Ü–∏–π = ',iterations')
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_1():
    answer = f"""
# 1. –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è ‚Äì —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –≤—Å–µ —Ç–æ—á–∫–∏. –°–ø–æ—Å–æ–± –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤–µ–ª–∏—á–∏–Ω—ã –ø–æ –∏–º–µ—é—â–µ–º—É—Å—è –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–º—É –Ω–∞–±–æ—Ä—É –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
# 2. –≠–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è ‚Äì –æ—Å–æ–±—ã–π —Ç–∏–ø –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏—è –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É–µ—Ç—Å—è –≤–Ω–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞, –∞ –Ω–µ –º–µ–∂–¥—É –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.
# 3. –ê–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–≥—Ä–µ—Å—Å–∏—è/–º–µ—Ç–æ–¥ –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤) ‚Äì –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –≤—Å–µ —Ç–æ—á–∫–∏. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–º–µ–Ω–∞ –æ–¥–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –¥—Ä—É–≥–∏–º–∏, –≤ –∫–∞–∫–æ–º-—Ç–æ —Å–º—ã—Å–ª–µ –±–ª–∏–∑–∫–∏–º–∏ –∫ –∏—Å—Ö–æ–¥–Ω—ã–º, –Ω–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º–∏.
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_2():
    answer = f"""
# –ü–†–û–°–¢–ï–ô–®–ò–ï –°–ü–û–°–û–ë–´ –ò–ù–¢–ï–†–ü–û–õ–Ø–¶–ò–ò

# –ü—Ä–æ—Å—Ç–µ–π—à–∏–º —Å–ø–æ—Å–æ–±–æ–º –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ f –ø–æ —Ç–∞–±–ª–∏—Ü–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—É–ø–µ–Ω—á–∞—Ç–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è. –û–¥–∏–Ω –∏–∑ –µ–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç—Å—è —Ç–∞–∫:

# ùëìÃÉ(ùë•) = ùëì(ùë•·µ¢), i: ‚àÄj ‚â† i, |ùë• ‚àí ùë•‚±º| > |ùë• ‚àí ùë•·µ¢|

# –¢–æ –µ—Å—Ç—å –∑–∞ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ ùëìÃÉ(ùë•) –±–µ—Ä–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ f –≤ —Ç–æ—á–∫–µ, –±–ª–∏–∂–∞–π—à–µ–π –∫ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º–æ–π. –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –∫—É—Å–æ—á–Ω–æ-–ª–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –∑–Ω–∞—á–µ–Ω–∏–µ ùëì(ùë•) –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø–æ –¥–≤—É–º —Å–æ—Å–µ–¥–Ω–∏–º —Å —Ç–æ—á–∫–æ–π x —Ç–æ—á–∫–∞–º.

# ùëìÃÉ(ùë•) = (f(x·µ¢)(x·µ¢‚Çä‚ÇÅ ‚àí x) + f(x·µ¢‚Çä‚ÇÅ)(x ‚àí x·µ¢)) / (x·µ¢‚Çä‚ÇÅ ‚àí x·µ¢), i: ùë•·µ¢ < ùë• < ùë•·µ¢‚Çä‚ÇÅ

# (–∑–¥–µ—Å—å –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ ùë•·µ¢)

# –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø–æ–Ω—è—Ç—å, —Å –∫–∞–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—Ç —Ñ—É–Ω–∫—Ü–∏—é f. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–∏ f –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –≤–µ–ª–∏—á–∏–Ω–æ–π g. –¢–æ–≥–¥–∞ –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ [ùë•·µ¢, ùë•·µ¢‚Çä‚ÇÅ ] —Ñ—É–Ω–∫—Ü–∏—è f –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å—Å—è –æ—Ç –ª–∏–Ω–µ–π–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ –±–æ–ª–µ–µ, —á–µ–º –Ω–∞ h(g - |(f(x·µ¢‚Çä‚ÇÅ)-f(x·µ¢)) / (x·µ¢‚Çä‚ÇÅ ‚àí x·µ¢)|).


def interpolate_nearest(x, xs, fs):
    "
    –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ—Ç–æ–¥–æ–º –±–ª–∏–∂–∞–π—à–µ–≥–æ —Å–æ—Å–µ–¥–∞.

    :param x: —Ç–æ—á–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
    :param xs: —Å–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É–∑–ª–æ–≤
    :param fs: —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —É–∑–ª–∞—Ö xs
    :return: –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–æ—á–∫–µ x
    "
    # –ù–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å —É–∑–ª–∞, –±–ª–∏–∂–∞–π—à–µ–≥–æ –∫ x
    distances = [abs(x - xi) for xi in xs]
    idx = distances.index(min(distances))
    return fs[idx]


def interpolate_linear(x, xs, fs):
    "
    –ö—É—Å–æ—á–Ω–æ-–ª–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è.

    :param x: —Ç–æ—á–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
    :param xs: —Å–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É–∑–ª–æ–≤ (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ xs –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é)
    :param fs: —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —É–∑–ª–∞—Ö xs
    :return: –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–æ—á–∫–µ x
    "
    # –ï—Å–ª–∏ x –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ xs, –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫—Ä–∞–π–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    if x <= xs[0]:
        return fs[0]
    if x >= xs[-1]:
        return fs[-1]

    # –ù–∞—Ö–æ–¥–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π x
    for i in range(len(xs) - 1):
        if xs[i] <= x <= xs[i + 1]:
            # –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–æ—Ä–º—É–ª—É –ª–∏–Ω–µ–π–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏:
            # f(x) = f(x_i) * (x_i+1 - x) / (x_i+1 - x_i) + f(x_i+1) * (x - x_i) / (x_i+1 - x_i)
            return fs[i] * (xs[i + 1] - x) / (xs[i + 1] - xs[i]) + fs[i + 1] * (x - xs[i]) / (xs[i + 1] - xs[i])

    # –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω (—á—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –≤—Ö–æ–¥–µ)
    return None


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
if __name__ == "__main__":
    # –¢–∞–±–ª–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π: –ø—É—Å—Ç—å f(x) = x^2
    xs = [0, 1, 2, 3, 4]
    fs = [0, 1, 4, 9, 16]

    x_val = 2.5
    nearest = interpolate_nearest(x_val, xs, fs)
    linear = interpolate_linear(x_val, xs, fs)

    print("–ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ—Ç–æ–¥–æ–º –±–ª–∏–∂–∞–π—à–µ–≥–æ —Å–æ—Å–µ–¥–∞ –¥–ª—è x =", x_val, ":", nearest)
    print("–ö—É—Å–æ—á–Ω–æ-–ª–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –¥–ª—è x =", x_val, ":", linear)


def linear_interpolation(x_values, y_values, x_new):
    for i in range(len(x_values) - 1):
        if x_values[i] <= x_new <= x_values[i+1]:
            y_new = y_values[i]+(y_values[i+1]-y_values[i])*(x_new-x_values[i])/(x_values[i+1]-x_values[i])
            return y_new
    return None

x = [0, 1, 2]
y = [1, 3, 2]

y_hat = linear_interpolation(x, y, 1.5)
print('–ò–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: ',y_hat)
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_3():
    answer = f"""
# –§—É–Ω–∫—Ü–∏—è ùë¶(ùë•) –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —á–∞—Å—Ç–∏—á–Ω–æ–º –æ—Ç—Ä–µ–∑–∫–µ –ø—Ä—è–º–æ–π.
# (ùë• ‚àí ùë•·µ¢) / (ùë•·µ¢‚Çä‚ÇÅ ‚àí ùë•·µ¢) = (ùë¶ ‚àí ùë¶·µ¢) / (ùë¶·µ¢‚Çä‚ÇÅ ‚àí ùë¶·µ¢)
#ùë¶ = ùë¶·µ¢ + ((ùë• ‚àí ùë•·µ¢) / (ùë•·µ¢‚Çä‚ÇÅ ‚àí ùë•·µ¢)) √ó (ùë¶·µ¢‚Çä‚ÇÅ ‚àí ùë¶·µ¢)

def linear_interpolation(x, x_i, y_i, x_i_plus_1, y_i_plus_1):
    "
    –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è y(x) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–∏–Ω–µ–π–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏.

    :param x: –¢–æ—á–∫–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ y
    :param x_i: x-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –ø–µ—Ä–≤–æ–π —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
    :param y_i: y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –ø–µ—Ä–≤–æ–π —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
    :param x_i_plus_1: x-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤—Ç–æ—Ä–æ–π —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
    :param y_i_plus_1: y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤—Ç–æ—Ä–æ–π —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
    :return: –ó–Ω–∞—á–µ–Ω–∏–µ y(x)
    "
    # –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
    return y_i + ((x - x_i) / (x_i_plus_1 - x_i)) * (y_i_plus_1 - y_i)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
x_i = 1
y_i = 2
x_i_plus_1 = 3
y_i_plus_1 = 6

# –¢–æ—á–∫–∞ x, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ y
x = 2

y = linear_interpolation(x, x_i, y_i, x_i_plus_1, y_i_plus_1)
print('–ó–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–æ—á–∫–µ x = ',x,': y = ',y)"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_4():
    answer = f"""
#–ê–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–º –º–Ω–æ–≥–æ—á–ª–µ–Ω–æ–º P‚Çô(x, f, x‚ÇÄ,..., x‚Çô) –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ—á–ª–µ–Ω P‚Çô(x) = c‚ÇÄ + c‚ÇÅx + c‚ÇÇx¬≤ + ... + c‚Çôx‚Åø —Å—Ç–µ–ø–µ–Ω–∏ –Ω–µ –≤—ã—à–µ n, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –≤ —Ç–æ—á–∫–∞—Ö x‚ÇÄ, x‚ÇÅ, ..., x‚Çô –∑–Ω–∞—á–µ–Ω–∏—è f(x‚ÇÄ), f(x‚ÇÅ), ..., f(x‚Çô).

#–¢–µ–æ—Ä–µ–º–∞. –ï—Å–ª–∏ –∑–∞–¥–∞–Ω—ã –ø–æ–ø–∞—Ä–Ω–æ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É–∑–ª—ã x‚ÇÄ, x‚ÇÅ, x‚ÇÇ, ..., x‚Çô –∏ –∑–Ω–∞—á–µ–Ω–∏—è f(x‚ÇÄ), f(x‚ÇÅ), ..., f(x‚Çô), —Ç–æ –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–µ–Ω.

#–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ. –°–Ω–∞—á–∞–ª–∞ –¥–æ–∫–∞–∂–µ–º, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ –±–æ–ª–µ–µ —á–µ–º –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω, –∞ –∑–∞—Ç–µ–º –ø–æ—Å—Ç—Ä–æ–∏–º –µ–≥–æ. –ï—Å–ª–∏ –±—ã –∏—Ö –±—ã–ª–æ –¥–≤–∞, —Ç–æ –∏—Ö —Ä–∞–∑–Ω–æ—Å—Ç—å ‚Äì –º–Ω–æ–≥–æ—á–ª–µ–Ω —Å—Ç–µ–ø–µ–Ω–∏ –Ω–µ –±–æ–ª—å—à–µ n, –æ–±—Ä–∞—â–∞–ª–∞—Å—å –±—ã –≤ 0 –≤ n + 1 —Ç–æ—á–∫–µ ‚Äì x‚ÇÄ, x‚ÇÅ, ..., x‚Çô, —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–ª—è –Ω–µ–Ω—É–ª–µ–≤–æ–≥–æ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞.

#–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞ –º–æ–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω –õ–∞–≥—Ä–∞–Ω–∂–∞.


import numpy as np

# –ë–∞–∑–∏—Å–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω –õ–∞–≥—Ä–∞–Ω–∂–∞
def lagrange_basis(x, x_points, i):
    result = 1
    for j in range(len(x_points)):
        if j != i:
            result *= (x - x_points[j]) / (x_points[i] - x_points[j])
    return result

# –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω –õ–∞–≥—Ä–∞–Ω–∂–∞
def lagrange_interpolation(x, x_points, y_points):
    n = len(x_points)
    result = 0
    for i in range(n):
        result += y_points[i] * lagrange_basis(x, x_points, i)
    return result

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
x_points = np.array([0, 1, 2])
y_points = np.array([1, 2, 0])

# –¢–æ—á–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞
x = 1.5

# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞ –≤ —Ç–æ—á–∫–µ x
y = lagrange_interpolation(x, x_points, y_points)
print('–ó–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞ –≤ —Ç–æ—á–∫–µ x = ', x, ': y = ', y)"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_5():
    answer = f"""
#–ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω –õ–∞–≥—Ä–∞–Ω–∂–∞ ‚Äî –º–Ω–æ–≥–æ—á–ª–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–µ–ø–µ–Ω–∏, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –¥–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –¥–∞–Ω–Ω–æ–º –Ω–∞–±–æ—Ä–µ —Ç–æ—á–µ–∫.

#–î–ª—è n + 1 –ø–∞—Ä —á–∏—Å–µ–ª (x‚ÇÄ, y‚ÇÄ), (x‚ÇÅ, y‚ÇÅ), ..., (x‚Çô, y‚Çô), –≥–¥–µ –≤—Å–µ x·µ¢ —Ä–∞–∑–ª–∏—á–Ω—ã, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¢–û–õ–¨–ö–û –û–î–ò–ù –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω L(x) —Å—Ç–µ–ø–µ–Ω–∏ –Ω–µ –±–æ–ª–µ–µ n, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ L(x·µ¢) = y·µ¢:

#F(x) = ‚àë·µ¢‚Çå‚ÇÄ‚Åø y·µ¢L·µ¢(x),

#–í –ø—Ä–æ—Å—Ç–µ–π—à–µ–º —Å–ª—É—á–∞–µ (n = 1) ‚Äî —ç—Ç–æ –ª–∏–Ω–µ–π–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω, –≥—Ä–∞—Ñ–∏–∫ –∫–æ—Ç–æ—Ä–æ–≥–æ ‚Äî –ø—Ä—è–º–∞—è, –ø—Ä–æ—Ö–æ–¥—è—â–∞—è —á–µ—Ä–µ–∑ –¥–≤–µ –∑–∞–¥–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏.

#–í –∫–∞—á–µ—Å—Ç–≤–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ F(x) –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –º–Ω–æ–≥–æ—á–ª–µ–Ω —Å—Ç–µ–ø–µ–Ω–∏ –Ω–µ –±–æ–ª—å—à–µ n, —Ç–∞–∫–æ–π, —á—Ç–æ:

#F(x·µ¢) = y·µ¢.

#–§–æ—Ä–º–∞ –õ–∞–≥—Ä–∞–Ω–∂–∞:

#L·µ¢(x) = ((x - x‚ÇÄ)...(x - x·µ¢‚Çã‚ÇÅ)(x - x·µ¢‚Çä‚ÇÅ)...(x - x‚Çô)) / ((x·µ¢ - x‚ÇÄ)...(x·µ¢ - x·µ¢‚Çã‚ÇÅ)(x·µ¢ - x·µ¢‚Çä‚ÇÅ)...(x·µ¢ - x‚Çô))

#–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω –ø–æ–ª–∏–Ω–æ–º L(x) = A‚ÇÄ + A‚ÇÅx + A‚ÇÇx¬≤ + ...A‚Çôx‚Åø, –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –≤ —Ç–æ—á–∫–∞—Ö x·µ¢ –±—É–¥—É—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å y·µ¢.


import numpy as np

def lagrange_basis(x, x_points, i):
    "
    –í—ã—á–∏—Å–ª—è–µ—Ç i-–π –±–∞–∑–∏—Å–Ω—ã–π –º–Ω–æ–≥–æ—á–ª–µ–Ω –õ–∞–≥—Ä–∞–Ω–∂–∞ L·µ¢(x)
    "
    result = 1
    for j in range(len(x_points)):
        if j != i:
            result *= (x - x_points[j]) / (x_points[i] - x_points[j])
    return result

def lagrange_interpolation(x, x_points, y_points):
    "
    –í—ã—á–∏—Å–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞ L(x) –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
    L(x) = ‚àë[i=0..n] y·µ¢ * L·µ¢(x)
    "
    n = len(x_points)
    result = 0
    for i in range(n):
        result += y_points[i] * lagrange_basis(x, x_points, i)
    return result

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
# –ó–∞–¥–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏: (0, 1), (1, 3), (2, 2)
x_points = np.array([0, 1, 2])
y_points = np.array([1, 3, 2])

# –¢–æ—á–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞
x = 1.5

# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏ –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
result = lagrange_interpolation(x, x_points, y_points)
print("–ó–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–Ω–æ–≥–æ—á–ª–µ–Ω–∞ –≤ —Ç–æ—á–∫–µ", x, "—Ä–∞–≤–Ω–æ", result)
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_6():
    answer = f"""
def cubic_spline_interpolation(x, y, new_x):
    "
    –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –∫—É–±–∏—á–µ—Å–∫–∏–º —Å–ø–ª–∞–π–Ω–æ–º (–Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Å–ø–ª–∞–π–Ω).

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        x, y: –º–∞—Å—Å–∏–≤—ã –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. x –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é.
        new_x: –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞—Ç—å

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        new_y: –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è new_x
    "
    # –ü—Ä–∏–≤–µ–¥–µ–º x –∏ y –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–æ–≤ numpy
    x = np.array(x, dtype=float)
    y = np.array(y, dtype=float)

    n = len(x)
    if n < 3:
        raise ValueError('–î–ª—è –∫—É–±–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–ª–∞–π–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –º–∏–Ω–∏–º—É–º 3 —Ç–æ—á–∫–∏')

    # –í—ã—á–∏—Å–ª—è–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã h
    h = np.diff(x)  # –¥–ª–∏–Ω–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, —Ä–∞–∑–º–µ—Ä n-1

    # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö (M_i)
    # –ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Å–ø–ª–∞–π–Ω: M_0 = M_n-1= 0
    A = np.zeros(n)
    B = np.zeros(n)
    C = np.zeros(n)
    D = np.zeros(n)

    # –ó–∞–ø–æ–ª–Ω—è–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —É—Ä–∞–≤–Ω–µ–Ω–∏–π i = 1 ... n-2
    for i in range(1, n - 1):
        A[i] = h[i - 1]
        B[i] = 2 * (h[i - 1] + h[i])
        C[i] = h[i]
        D[i] = 6 * ((y[i + 1] - y[i]) / h[i] - (y[i] - y[i - 1]) / h[i - 1])

    # –ü—Ä–∏–º–µ–Ω—è–µ–º –º–µ—Ç–æ–¥ –ø—Ä–æ–≥–æ–Ω–∫–∏ (Thomas algorithm) –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Å tridiagonal matrix.
    # –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è: M_0 = 0, M_n-1 = 0
    M = np.zeros(n)
    cp = np.zeros(n)  # –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã C
    dp = np.zeros(n)  # –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã D

    # –ù–∞—á–∞–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ –¥–ª—è –ø—Ä–æ–≥–æ–Ω–∫–∏ (i = 1)
    cp[1] = C[1] / B[1]
    dp[1] = D[1] / B[1]
    
    for i in range(2, n - 1):
        denom = B[i] - A[i] * cp[i - 1]
        cp[i] = C[i] / denom
        dp[i] = (D[i] - A[i] * dp[i - 1]) / denom

    # –û–±—Ä–∞—Ç–Ω—ã–π —Ö–æ–¥
    for i in range(n - 2, 0, -1):
        M[i] = dp[i] - cp[i] * M[i + 1]
    # M[0] –∏ M[n-1] –æ—Å—Ç–∞—é—Ç—Å—è 0

    # –í—ã—á–∏—Å–ª—è–µ–º –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ new_x
    def spline_eval(x_val):
        # –ù–∞—Ö–æ–¥–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç x_val
        if x_val < x[0] or x_val > x[-1]:
            raise ValueError('–ó–Ω–∞—á–µ–Ω–∏–µ x –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏')
        # –ù–∞–π–¥–µ–º –∏–Ω–¥–µ–∫—Å i —Ç–∞–∫–æ–π, —á—Ç–æ x[i] <= x_val <= x[i+1]
        i = np.searchsorted(x, x_val) - 1
        if i < 0:
            i = 0
        if i >= n - 1:
            i = n - 2
        hi = x[i + 1] - x[i]
        A_i = (x[i + 1] - x_val) / hi
        B_i = (x_val - x[i]) / hi
        term1 = A_i * y[i] + B_i * y[i + 1]
        term2 = ((A_i**3 - A_i) * M[i] + (B_i**3 - B_i) * M[i + 1]) * (hi**2) / 6.0
        return term1 + term2

    # –ï—Å–ª–∏ new_x - —Å–∫–∞–ª—è—Ä, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∫–∞–ª—è—Ä;
    # –µ—Å–ª–∏ —ç—Ç–æ –º–∞—Å—Å–∏–≤, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∞—Å—Å–∏–≤
    if np.isscalar(new_x) or isinstance(new_x, float) or isinstance(new_x, int):
        return spline_eval(new_x)
    else:
        new_x = np.array(new_x, dtype=float)
        return np.array([spline_eval(xi) for xi in new_x])
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_7():
    answer = f"""
def quadratic_interpolation(x, y, new_x):
    "
    –ö–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è (–ø–æ–ª–∏–Ω–æ–º–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –≤—Ç–æ—Ä–æ–π —Å—Ç–µ–ø–µ–Ω–∏).

    –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è new_x –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —Ç—Ä–∏ –±–ª–∏–∂–∞–π—à–∏–µ —Ç–æ—á–∫–∏ –∏
    –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ–æ—Ä–º—É–ª—ã –õ–∞–≥—Ä–∞–Ω–∂–∞.

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        x, y: –º–∞—Å—Å–∏–≤—ã —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (x –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω).
        new_x: –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        –ò–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π
    "
    x = np.array(x, dtype=float)
    y = np.array(y, dtype=float)
    n = len(x)
    
    def lagrange_quad(x_pts, y_pts, xi):
        # –¢—Ä–∏ —Ç–æ—á–∫–∏: x0, x1, x2
        L0 = ((xi - x_pts[1]) * (xi - x_pts[2])) / ((x_pts[0] - x_pts[1]) * (x_pts[0] - x_pts[2]))
        L1 = ((xi - x_pts[0]) * (xi - x_pts[2])) / ((x_pts[1] - x_pts[0]) * (x_pts[1] - x_pts[2]))
        L2 = ((xi - x_pts[0]) * (xi - x_pts[1])) / ((x_pts[2] - x_pts[0]) * (x_pts[2] - x_pts[1]))
        return L0 * y_pts[0] + L1 * y_pts[1] + L2 * y_pts[2]

    def interpolate_point(xi):
        # –ù–∞–π–¥–µ–º –∏–Ω–¥–µ–∫—Å, —Ç–∞–∫ —á—Ç–æ x[i] <= xi <= x[i+1], –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–µ–º 3 —Ç–æ—á–∫–∏: –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –æ–¥–∏–Ω –¥–æ, —Ç–µ–∫—É—â–∏–π, –ø–æ—Å–ª–µ
        if xi < x[0] or xi > x[-1]:
            raise ValueError('–ó–Ω–∞—á–µ–Ω–∏–µ x –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏')
        idx = np.searchsorted(x, xi)
        if idx == 0:
            indices = [0, 1, 2]  # –∫—Ä–∞–π–Ω—è—è –ª–µ–≤–∞—è –æ–±–ª–∞—Å—Ç—å
        elif idx >= n - 1:
            indices = [n - 3, n - 2, n - 1]  
        else:
            # –ï—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –≤—ã–±–∏—Ä–∞–µ–º –æ–¥–∏–Ω –ø–µ—Ä–µ–¥ –∏ –æ–¥–∏–Ω –ø–æ—Å–ª–µ
            indices = [idx - 1, idx, idx + 1]
        x_pts = x[indices]
        y_pts = y[indices]
        return lagrange_quad(x_pts, y_pts, xi)

    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ new_x —Å–∫–∞–ª—è—Ä –∏–ª–∏ –º–∞—Å—Å–∏–≤
    if np.isscalar(new_x) or isinstance(new_x, float) or isinstance(new_x, int):
        return interpolate_point(new_x)
    else:
        new_x = np.array(new_x, dtype=float)
        return np.array([interpolate_point(xi) for xi in new_x])
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_8():
    answer = f"""
def linear_spline_interpolation(x, y, new_x):
    "
    –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å–ø–ª–∞–π–Ω–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–∏–Ω–µ–π–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏.

    –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è x, –Ω–∞—Ö–æ–¥–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏ –ø—Ä–æ–≤–æ–¥–∏–º –ª–∏–Ω–µ–π–Ω—É—é –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é.

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        x, y: –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (x –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã).
        new_x: –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        –ò–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π
    "
    x = np.array(x, dtype=float)
    y = np.array(y, dtype=float)
    n = len(x)

    def lin_interp(x_val):
        if x_val < x[0] or x_val > x[-1]:
            raise ValueError('–ó–Ω–∞—á–µ–Ω–∏–µ x –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏')
        i = np.searchsorted(x, x_val) - 1
        if i < 0:
            i = 0
        if i >= n - 1:
            i = n - 2
        # –ü—Ä—è–º–∞—è –ª–∏–Ω–∏—è –º–µ–∂–¥—É (x[i], y[i]) –∏ (x[i+1], y[i+1])
        t = (x_val - x[i]) / (x[i+1] - x[i])
        return y[i] + t * (y[i+1] - y[i])

    if np.isscalar(new_x) or isinstance(new_x, float) or isinstance(new_x, int):
        return lin_interp(new_x)
    else:
        new_x = np.array(new_x, dtype=float)
        return np.array([lin_interp(xi) for xi in new_x])
"""
    pyperclip.copy(answer)
    pyperclip.paste()

def z_5_9():
    answer = f"""
def least_squares_method(x, y, degree):
    "
    –ú–µ—Ç–æ–¥ –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –ø–æ–ª–∏–Ω–æ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å—Ç–µ–ø–µ–Ω–∏,
    –∫–æ—Ç–æ—Ä—ã–π –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ.

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        x, y: –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        degree: —Å—Ç–µ–ø–µ–Ω—å –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–µ–≥–æ –ø–æ–ª–∏–Ω–æ–º–∞

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        coeffs: –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ–ª–∏–Ω–æ–º–∞ (–æ—Ç —Å—Ç–∞—Ä—à–µ–π —Å—Ç–µ–ø–µ–Ω–∏ –∫ –Ω—É–ª–µ–≤–æ–π)
        y_fit: –∑–Ω–∞—á–µ–Ω–∏—è –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–µ–≥–æ –ø–æ–ª–∏–Ω–æ–º–∞, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –≤ —Ç–æ—á–∫–∞—Ö x
    "
    x = np.array(x, dtype=float)
    y = np.array(y, dtype=float)

    # –§–æ—Ä–º–∏—Ä—É–µ–º –º–∞—Ç—Ä–∏—Ü—É –í–∞–Ω–¥–µ—Ä–º–æ–Ω–¥–µ –¥–ª—è –ø–æ–ª–∏–Ω–æ–º–∏–∞–ª—å–Ω–æ–π –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏
    # np.vander –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–æ–ª–±—Ü—ã –æ—Ç —Å—Ç–∞—Ä—à–µ–π —Å—Ç–µ–ø–µ–Ω–∏ –∫ –Ω—É–ª–µ–≤–æ–π
    A = np.vander(x, degree + 1)

    # –†–µ—à–∞–µ–º —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ê * coeffs = y –ø–æ –º–µ—Ç–æ–¥—É –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤
    coeffs, residuals, rank, s = np.linalg.lstsq(A, y, rcond=None)

    # –í—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–µ–≥–æ –ø–æ–ª–∏–Ω–æ–º–∞
    y_fit = A.dot(coeffs)

    return coeffs, y_fit
  
   np.random.seed(0)
    x_data = np.linspace(0, 10, 11)
    y_data = np.sin(x_data) + np.random.normal(scale=0.1, size=x_data.shape)

    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ DataFrame
    df = pd.DataFrame({'x': x_data, 'y': y_data})
    print('–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:')
    print(df)

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏
    x_new = np.linspace(x_data[0], x_data[-1], 100)

    # –ö—É–±–∏—á–µ—Å–∫–∏–π —Å–ø–ª–∞–π–Ω
    y_cubic = cubic_spline_interpolation(x_data, y_data, x_new)

    # –ö–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
    y_quadratic = quadratic_interpolation(x_data, y_data, x_new)

    # –õ–∏–Ω–µ–π–Ω–∞—è —Å–ø–ª–∞–π–Ω-–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
    y_linear = linear_spline_interpolation(x_data, y_data, x_new)

    # –ê–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–º –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ (–ø–æ–ª–∏–Ω–æ–º 3-–π —Å—Ç–µ–ø–µ–Ω–∏)
    coeffs, y_ls = least_squares_method(x_data, y_data, degree=3)
    print('\n–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ–ª–∏–Ω–æ–º–∞ (–º–µ—Ç–æ–¥ –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤, —Å—Ç–µ–ø–µ–Ω—å 3):')
    print(coeffs)

    # –ì—Ä–∞—Ñ–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    plt.figure(figsize=(10, 8))
    plt.plot(x_data, y_data, 'ko', label='–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ')
    plt.plot(x_new, y_cubic, 'b-', label='–ö—É–±–∏—á–µ—Å–∫–∏–π —Å–ø–ª–∞–π–Ω')
    plt.plot(x_new, y_quadratic, 'r--', label='–ö–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è')
    plt.plot(x_new, y_linear, 'g-.', label='–õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è')
    plt.plot(x_data, y_ls, 'ms', label='–ú–µ—Ç–æ–¥ –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ —É–∑–ª—ã)')
    plt.legend()
    plt.xlabel('x')
    plt.ylabel('y')
    plt.title('–†–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ –∏ –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏')
    plt.grid(True)
    plt.show()
"""
    pyperclip.copy(answer)
    pyperclip.paste()


