var bn=Object.defineProperty;var xn=(r,e,s)=>e in r?bn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var ce=(r,e,s)=>xn(r,typeof e!="symbol"?e+"":e,s);import{L as Sn,M as On,N as Rn,O as An,P as Tn,s as at,Q as et,S as Ye,T as je,U as Zt,V as Gr,W as ir,X as _t,Y as Wr,Z as Nt,_ as Dn,$ as In,a0 as Jt,a1 as Ln,a2 as En,a3 as Mn,a4 as Nn,a5 as Vn,a6 as Fn,a7 as Hn}from"../chunks/backend.CuvxjHSt.mjs";import{e as Bn,f as zn,b as Gn}from"../chunks/utils.Ob_-Fxqc.mjs";import{s as m,b4 as hs,g as a,F as ys,E as k,_ as Ot,o as Wn,b5 as jn,p as me,f as re,b as he,Z as qn,X as cr,Y as Qn,c as Q,N as $,r as I,t as R,n as ee,l as le,a as Fe,m as F,M as Be,a$ as Pe,aD as de,a1 as Un}from"../chunks/runtime.NF8NW0fQ.mjs";import{w as Ae,g as Re,d as Yn,r as Cs,a as Kn}from"../chunks/index.BmKPAsrv.mjs";import{c as Lt}from"../chunks/cloneDeep.CIeA7YEG.mjs";import{b as dr,i as jr,a as Xn,S as Zn}from"../chunks/Select.D1WFSjx-.mjs";import{c as Ge,a as d,b as X,t as Z}from"../chunks/disclose-version.CZXCSga2.mjs";import{i as Ce}from"../chunks/legacy.Cvgq_wkp.mjs";import{b as xt}from"../chunks/this.COGKo2H1.mjs";import{p as W,i as be,s as ws}from"../chunks/props.C4_rjmFK.mjs";import{s as Jn,c as _s,o as fr,a as ea}from"../chunks/index-client.CMnCpbS1.mjs";import{dU as ks,u as He,dV as or,as as st,dW as ta,dX as ra,t as pt,dY as gr,dZ as sa,d_ as Ps,d$ as na,e0 as qr,e1 as aa,e2 as Qr,e3 as ia,e4 as oa,e5 as la,e6 as ua,e7 as ca,e8 as da,e9 as fa,ea as ga,eb as va,ec as $a,ed as pa,ee as ma,ef as ha,eg as Ur,eh as ya,ei as Ca,ej as wa,ek as _a,el as Yr,em as ka,en as Pa,eo as ba,ep as xa,eq as Sa,er as Oa,es as Ra,et as Aa,eu as Ta,ev as Da,ew as bs,ex as Ia,ey as La,ez as Ea,eA as Ma,eB as Na,eC as Va,eD as Fa,eE as Ha,eF as Ba,eG as za,eH as Ga,eI as Wa,eJ as ja,eK as qa,eL as Qa,eM as Ua,eN as Ya,eO as Ka,eP as Xa,eQ as Za,eR as Ja,eS as ei,eT as ti,eU as ri,eV as si,eW as ni,eX as ai,eY as ii,eZ as oi,e_ as li,e$ as ui,f0 as ci,f1 as di,f2 as fi,f3 as gi,f4 as vi,f5 as $i,f6 as Kr,f7 as pi,f8 as mi,f9 as hi,fa as yi,fb as Ci,fc as wi,fd as _i,fe as Xr,ff as ki,fg as Pi,fh as bi,fi as xi,fj as xs,fk as Ss,fl as Os,fm as Si,fn as Oi,fo as Ri,fp as Ai,fq as Ti,fr as Di,fs as Ii,ft as Li,fu as Ei,fv as Et,fw as Zr,fx as Jr,fy as Rs,fz as Mi,fA as As,fB as Ni,fC as Vi,fD as Fi,fE as Hi,b3 as ut,fF as es,fG as Bi,fH as zi,fI as Gi,fJ as Wi,fK as ji,fL as qi,fM as Qi,fN as Ui,fO as Yi,fP as Ki,fQ as Xi,fR as ts,ci as Zi,cg as Ji,cw as Ts,fS as eo,cN as to,cj as ro,fT as er,fU as so,fV as no,fW as ao,fX as io,fY as Ds,fZ as Is,f_ as tr,f$ as oo,g0 as lo,g1 as uo,g2 as Ls,g3 as rs,g4 as co,g5 as fo,g6 as go,g7 as vo,g8 as $o,g9 as po,ga as mo,dq as ho,gb as yo,q as kt,gc as Co,gd as wo,ge as _o,gf as ko,gg as Es,gh as Po,gi as bo,gj as xo,gk as So,gl as Oo,gm as Ro,gn as Ao,go as To,T as Do,gp as Io,gq as Lo,gr as Eo,gs as Mo,gt as No,gu as Vo,gv as Fo,gw as Ho,gx as Bo,gy as Ms,gz as ss,gA as zo,gB as Go,gC as Wo,gD as jo,gE as qo,gF as Qo,gG as Uo,gH as Yo,gI as Ko,gJ as Xo,gK as Zo,gL as ns,gM as Jo,gN as el,gO as tl,gP as rl,gQ as sl,gR as nl,gS as al,gT as as,gU as il,gV as ol,gW as ll,gX as ul,gY as cl,gZ as dl,g_ as fl,g$ as gl,h0 as vl,h1 as $l,h2 as pl,h3 as ml,h4 as hl}from"../chunks/runtime-require.ClQzQQRm.mjs";import{c as Te,C as yl}from"../chunks/Container.C0RC8RQ7.mjs";import{I as Cl,b as Ie}from"../chunks/IconButton.DdPSxNFx.mjs";import{s as xe,b as fe,r as mt,p as it,a as H,v as Ns,e as _e,q as te,t as wl}from"../chunks/store.CrzbHEEA.mjs";import{R as Se}from"../chunks/Row.BoykZ5Sj.mjs";import{e as Rt,i as Ft,s as _l,p as kl}from"../chunks/theme.DvYw8rH4.mjs";import{c as lr}from"../chunks/svelte-component.DD8aMSCp.mjs";import{T as Qe}from"../chunks/TitledContainer.e0Zsj5mE.mjs";import{C as ct,R as At,H as $e,c as Ne,a as ne,b as Ze,S as qe,E as rt,M as Pl}from"../chunks/EnumSelectorRow.BCzJKMB7.mjs";import{c as Tt,M as Vs,S as bl,l as xl,u as Sl,v as Ol,w as Rl,d as Al,W as Tl,P as Dl,D as Pt,t as Il}from"../chunks/Badge.DeIA0KIp.mjs";import{a as Dt,b as rr}from"../chunks/input.Cvf2xTFQ.mjs";import{I as Vt,ab as Ll,J as El,f as is,h as Fs,ac as Ml,S as Nl,g as Vl,p as Fl}from"../chunks/Shortcut.6Snuvz9J.mjs";import{C as ot}from"../chunks/Col.CeswaxYB.mjs";import{m as Hs}from"../chunks/context-keys.Dbye-yJ_.mjs";import{L as Hl,S as Bl}from"../chunks/LabelButton.CsMTQuqp.mjs";import{W as ze}from"../chunks/Warning.DegpN-vE.mjs";import{r as Mt}from"../chunks/progress.CDY_0XMd.mjs";import{ac as vr,y as os,z as ls,A as us,C as zl,B as Gl,D as Wl,E as jl,H as cs,F as ql,G as ds,b as Ql,I as Ul,M as Yl,K as Kl,J as Xl,N as Zl,L as Jl}from"../chunks/HoverColumns.msZBrzf5.mjs";import{t as sr,b as Ke,c as eu,u as tu,e as ru}from"../chunks/time.CAj5JaQP.mjs";import{t as su}from"../chunks/time.DB6l0vbb.mjs";import{I as nu,i as au,c as iu,C as ou,T as lu}from"../chunks/TableData.CPKdL1e6.mjs";import{S as fs,a as uu}from"../chunks/isObject.DB8w6JNV.mjs";function cu(r){m(r,r.v+1)}function du(r){let e=0,s=Wn(0),t;return()=>{hs()&&(a(s),ys(()=>(e===0&&(t=k(()=>r(()=>cu(s)))),e+=1,()=>{Ot().then(()=>{e-=1,e===0&&(t==null||t(),t=void 0)})})))}}function fu(r,e){let s=r();const t=Ae(s,n=>{let i=s!==r();const f=jn(()=>{ys(()=>{const u=r();i&&n(u)})});return i=!0,f});return e?{set:e,update:n=>e(n(r())),subscribe:t.subscribe}:{subscribe:t.subscribe}}function gu(r){let e;const s=du(n=>{let i=!1;const f=r.subscribe(u=>{e=u,i&&n()});return i=!0,f});function t(){return hs()?(s(),e):Re(r)}return"set"in r?{get current(){return t()},set current(n){r.set(n)}}:{get current(){return t()}}}const vu=Object.freeze(Object.defineProperty({__proto__:null,derived:Yn,fromStore:gu,get:Re,readable:Cs,readonly:Kn,toStore:fu,writable:Ae},Symbol.toStringTag,{value:"Module"}));function $u(r,e,...s){return pu(r,au,e,s)}function pu(r,e,s,t){return function n(i,f){if(f>=t.length)return s(i);const u=new nu,l=t[f++];let g=-1;for(const p of i){const h=l(p,++g,i),v=u.get(h);v?v.push(p):u.set(h,[p])}for(const[p,h]of u)u.set(p,n(h,f));return e(u)}(r,0)}const mu=iu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function hu(r,e){for(var s=-1,t=r==null?0:r.length,n=Array(t);++s<t;)n[s]=e(r[s],s,r);return n}var gs=fs?fs.prototype:void 0,vs=gs?gs.toString:void 0;function Bs(r){if(typeof r=="string")return r;if(Tt(r))return hu(r,Bs)+"";if(vr(r))return vs?vs.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function yu(r){return r}var Cu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wu=/^\w*$/;function $r(r,e){if(Tt(r))return!1;var s=typeof r;return s=="number"||s=="symbol"||s=="boolean"||r==null||vr(r)?!0:wu.test(r)||!Cu.test(r)||e!=null&&r in Object(e)}var _u="Expected a function";function pr(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(_u);var s=function(){var t=arguments,n=e?e.apply(this,t):t[0],i=s.cache;if(i.has(n))return i.get(n);var f=r.apply(this,t);return s.cache=i.set(n,f)||i,f};return s.cache=new(pr.Cache||Vs),s}pr.Cache=Vs;var ku=500;function Pu(r){var e=pr(r,function(t){return s.size===ku&&s.clear(),t}),s=e.cache;return e}var bu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xu=/\\(\\)?/g,Su=Pu(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(bu,function(s,t,n,i){e.push(n?i.replace(xu,"$1"):t||s)}),e});function Ou(r){return r==null?"":Bs(r)}function zs(r,e){return Tt(r)?r:$r(r,e)?[r]:Su(Ou(r))}function Ht(r){if(typeof r=="string"||vr(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function Gs(r,e){e=zs(e,r);for(var s=0,t=e.length;r!=null&&s<t;)r=r[Ht(e[s++])];return s&&s==t?r:void 0}function Ru(r,e,s){var t=r==null?void 0:Gs(r,e);return t===void 0?s:t}var Au=1,Tu=2;function Du(r,e,s,t){var n=s.length,i=n;if(r==null)return!i;for(r=Object(r);n--;){var f=s[n];if(f[2]?f[1]!==r[f[0]]:!(f[0]in r))return!1}for(;++n<i;){f=s[n];var u=f[0],l=r[u],g=f[1];if(f[2]){if(l===void 0&&!(u in r))return!1}else{var p=new bl,h;if(!(h===void 0?dr(g,l,Au|Tu,t,p):h))return!1}}return!0}function Ws(r){return r===r&&!uu(r)}function Iu(r){for(var e=xl(r),s=e.length;s--;){var t=e[s],n=r[t];e[s]=[t,n,Ws(n)]}return e}function js(r,e){return function(s){return s==null?!1:s[r]===e&&(e!==void 0||r in Object(s))}}function Lu(r){var e=Iu(r);return e.length==1&&e[0][2]?js(e[0][0],e[0][1]):function(s){return s===r||Du(s,r,e)}}function Eu(r,e){return r!=null&&e in Object(r)}function Mu(r,e,s){e=zs(e,r);for(var t=-1,n=e.length,i=!1;++t<n;){var f=Ht(e[t]);if(!(i=r!=null&&s(r,f)))break;r=r[f]}return i||++t!=n?i:(n=r==null?0:r.length,!!n&&Sl(n)&&Ol(f,n)&&(Tt(r)||Rl(r)))}function Nu(r,e){return r!=null&&Mu(r,e,Eu)}var Vu=1,Fu=2;function Hu(r,e){return $r(r)&&Ws(e)?js(Ht(r),e):function(s){var t=Ru(s,r);return t===void 0&&t===e?Nu(s,r):dr(e,t,Vu|Fu)}}function Bu(r){return function(e){return e==null?void 0:e[r]}}function zu(r){return function(e){return Gs(e,r)}}function Gu(r){return $r(r)?Bu(Ht(r)):zu(r)}function Wu(r){return typeof r=="function"?r:r==null?yu:typeof r=="object"?Tt(r)?Hu(r[0],r[1]):Lu(r):Gu(r)}function ju(r,e,s){s=typeof s=="function"?s:void 0;var t=s?s(r,e):void 0;return t===void 0?dr(r,e,void 0,s):!!t}function qu(r,e){for(var s,t=-1,n=r.length;++t<n;){var i=e(r[t]);i!==void 0&&(s=s===void 0?i:s+i)}return s}function Qu(r,e){return r&&r.length?qu(r,Wu(e)):0}function ur(){let r;return[new Promise(s=>r=s),r]}class Uu{constructor(e,s){ce(this,"currentConfig");ce(this,"currentAuxData");ce(this,"configList");ce(this,"cardStateCustomizer");ce(this,"currentDeck");ce(this,"deckLimits");ce(this,"defaults");ce(this,"addonComponents");ce(this,"newCardsIgnoreReviewLimit");ce(this,"applyAllParentLimits");ce(this,"fsrs");ce(this,"fsrsReschedule",Ae(!1));ce(this,"daysSinceLastOptimization");ce(this,"currentPresetName");ce(this,"originalConfigsPromise");ce(this,"originalConfigsResolve");ce(this,"targetDeckId");ce(this,"configs");ce(this,"selectedIdx");ce(this,"configListSetter");ce(this,"modifiedConfigs",new Set);ce(this,"removedConfigs",[]);ce(this,"schemaModified");ce(this,"_presetAssignmentsChanged",!1);ce(this,"loadedPresets",new Set);var t,n;this.targetDeckId=e,this.currentDeck=s.currentDeck,this.defaults=s.defaults.config,this.configs=s.allConfig.map(i=>({config:i.config,useCount:i.useCount})),this.selectedIdx=Math.max(0,this.configs.findIndex(i=>i.config.id===this.currentDeck.configId)),this.sortConfigs(),this.cardStateCustomizer=Ae(s.cardStateCustomizer),this.deckLimits=Ae((n=(t=s.currentDeck)==null?void 0:t.limits)!=null?n:Ku()),this.newCardsIgnoreReviewLimit=Ae(s.newCardsIgnoreReviewLimit),this.applyAllParentLimits=Ae(s.applyAllParentLimits),this.fsrs=Ae(s.fsrs),this.daysSinceLastOptimization=Ae(s.daysSinceLastFsrsOptimize),this.configs[this.selectedIdx].useCount-=1,this.currentConfig=Ae(this.getCurrentConfig()),this.currentAuxData=Ae(this.getCurrentAuxData()),this.currentPresetName=Ae(this.configs[this.selectedIdx].config.name),this.configList=Cs(this.getConfigList(),i=>{this.configListSetter=i}),this.schemaModified=s.schemaModified,this.addonComponents=Ae([]),Re(this.configList),this.currentConfig.subscribe(i=>this.onCurrentConfigChanged(i)),this.currentAuxData.subscribe(i=>this.onCurrentAuxDataChanged(i)),this.loadedPresets.add(this.configs[this.selectedIdx].config.id),[this.originalConfigsPromise,this.originalConfigsResolve]=ur()}async markCurrentPresetAsLoaded(){const e=this.configs[this.selectedIdx].config.id,s=this.loadedPresets;if(e&&!s.has(e)){s.add(e);const t=await this.originalConfigsPromise,n=t.configs.findIndex(i=>i.id===e);n!==-1&&(t.configs[n]=Lt(this.configs[this.selectedIdx].config))}}setCurrentIndex(e){this.selectedIdx=e,this._presetAssignmentsChanged=!0,this.updateCurrentConfig(),this.updateConfigList(),Ot().then(()=>this.markCurrentPresetAsLoaded())}getCurrentName(){return this.configs[this.selectedIdx].config.name}getCurrentNameForSearch(){return this.getCurrentName().replace(/([\\"])/g,"\\$1")}setCurrentName(e){if(this.configs[this.selectedIdx].config.name===e)return;const s=this.ensureNewNameUnique(e),t=this.configs[this.selectedIdx].config;t.name=s,t.id&&this.modifiedConfigs.add(t.id),this.sortConfigs(),this.updateConfigList()}addConfig(e){this.addConfigFrom(e,this.defaults)}cloneConfig(e){this.addConfigFrom(e,this.configs[this.selectedIdx].config.config)}addConfigFrom(e,s){const t=this.ensureNewNameUnique(e),i={config:new Sn({id:0n,name:t,config:new On(Lt(s))}),useCount:0};this.configs.push(i),this.selectedIdx=this.configs.length-1,this._presetAssignmentsChanged=!0,this.sortConfigs(),this.updateCurrentConfig(),this.updateConfigList()}removalWilLForceFullSync(){return!this.schemaModified&&this.configs[this.selectedIdx].config.id!==0n}defaultConfigSelected(){return this.configs[this.selectedIdx].config.id===1n}removeCurrentConfig(){const e=this.configs[this.selectedIdx].config.id;if(e===1n)throw Error("can't remove default config");e!==0n&&(this.removedConfigs.push(e),this.schemaModified=!0),this.configs.splice(this.selectedIdx,1);const s=Math.max(0,this.selectedIdx-1);this.setCurrentIndex(s)}dataForSaving(e){const t=[...this.configs.map(n=>n.config).filter((n,i)=>i!==this.selectedIdx&&(n.id===0n||this.modifiedConfigs.has(n.id))),this.configs[this.selectedIdx].config];return{targetDeckId:this.targetDeckId,removedConfigIds:this.removedConfigs,configs:t,mode:e,cardStateCustomizer:Re(this.cardStateCustomizer),limits:Re(this.deckLimits),newCardsIgnoreReviewLimit:Re(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Re(this.applyAllParentLimits),fsrs:Re(this.fsrs),fsrsReschedule:Re(this.fsrsReschedule)}}presetAssignmentsChanged(){return this._presetAssignmentsChanged}async save(e){await Rn(this.dataForSaving(e))}onCurrentConfigChanged(e){const s=this.configs[this.selectedIdx].config;jr(e,s.config)||(s.config=e,s.id&&this.modifiedConfigs.add(s.id))}onCurrentAuxDataChanged(e){const s=this.getCurrentAuxData();jr(s,e)||this.currentConfig.update(t=>{const n=new TextEncoder().encode(JSON.stringify(e));return t.other=n,t})}ensureNewNameUnique(e){return this.configs.findIndex(t=>t.config.name===e)!==-1?e+(new Date().getTime()/1e3).toFixed(0):e}updateCurrentConfig(){this.currentConfig.set(this.getCurrentConfig()),this.currentAuxData.set(this.getCurrentAuxData())}updateConfigList(){var e;(e=this.configListSetter)==null||e.call(this,this.getConfigList()),this.currentPresetName.set(this.configs[this.selectedIdx].config.name)}getCurrentConfig(){return Lt(this.configs[this.selectedIdx].config.config)}getCurrentAuxData(){const e=this.configs[this.selectedIdx].config.config;return Yu(e.other)}sortConfigs(){const e=this.configs[this.selectedIdx].config.name;this.configs.sort((s,t)=>Bn(s.config.name,t.config.name,{sensitivity:"base"})),this.selectedIdx=this.configs.findIndex(s=>s.config.name==e)}getConfigList(){return this.configs.map((s,t)=>{const n=s.useCount+(t===this.selectedIdx?1:0);return{name:s.config.name,current:t===this.selectedIdx,idx:t,useCount:n}})}getAllConfigs(){return Lt({configs:this.configs.map(e=>e.config),cardStateCustomizer:Re(this.cardStateCustomizer),limits:Re(this.deckLimits),newCardsIgnoreReviewLimit:Re(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Re(this.applyAllParentLimits),fsrs:Re(this.fsrs),fsrsReschedule:Re(this.fsrsReschedule),currentConfig:Re(this.currentConfig)})}async isModified(){const e=await this.originalConfigsPromise,s=this.getAllConfigs();return!ju(e,s,(t,n)=>{if(typeof t=="number"&&typeof n=="number")return Math.fround(t)===Math.fround(n)})}resolveOriginalConfigs(){this.originalConfigsResolve(this.getAllConfigs())}}function Yu(r){if(!r.length)return{};let e;try{e=JSON.parse(new TextDecoder().decode(r))}catch{return console.log("invalid json in deck config"),{}}return e.constructor!==Object?(console.log("invalid object in deck config"),{}):e}function Ku(){return new An({})}class nt{constructor(e,s,t,n,i){ce(this,"title");ce(this,"value");ce(this,"setter");ce(this,"disabledValue");ce(this,"startValue");ce(this,"initialValue");this.title=e,this.value=this.initialValue=s,this.setter=t,this.disabledValue=n,this.startValue=i}reset(){this.setter(this.initialValue)}disable(){this.setter(this.disabledValue)}enable(e){var s,t;this.value=(t=(s=this.value)!=null?s:this.startValue)!=null?t:e,this.setter(this.value)}setValue(e){this.value=e,this.setter(e)}}async function mr(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),await Ot()}function bt(r){return r.fsrsParams5?r.fsrsParams5:r.fsrsParams4}const Xu=async({params:r})=>{const e=Number(r.deckId),s=BigInt(e),t=await Tn({did:s});return{state:new Uu(BigInt(s),t)}},Ef=Object.freeze(Object.defineProperty({__proto__:null,load:Xu},Symbol.toStringTag,{value:"Module"}));ks("svelte",Jn);ks("svelte/store",vu);function Zu(r,e){me(e,!1);const s=xe(),t=()=>fe(f,"$components",s),n=()=>fe(u,"$auxData",s);let i=W(e,"state",8);const f=i().addonComponents,u=i().currentAuxData;Ce();var l=Ge(),g=re(l);{var p=h=>{Qe(h,{title:"Add-ons",children:(v,L)=>{var C=Ge(),D=re(C);Rt(D,1,t,Ft,(_,x)=>{var S=Ge(),E=re(S);lr(E,()=>a(x).component,(M,U)=>{U(M,ws(()=>a(x),{get data(){return mt(),n()},set data(z){it(u,z)},$$legacy:!0}))}),d(_,S)}),d(v,C)},$$slots:{default:!0}})};be(g,h=>{t().length&&h(p)})}d(r,l),he()}function nr(r,e){let s,t;if(e instanceof Element){if(s=e,t=Array.prototype.indexOf.call(r,s),t<0)return null}else if(typeof e=="string"){const n=r.namedItem(e);if(!n||(s=n,t=Array.prototype.indexOf.call(r,s),t<0))return null}else if(e<0){t=r.length+e;const n=r.item(t);if(!n)return null;s=n}else{t=e;const n=r.item(t);if(!n)return null;s=n}return[s,t]}class Ju{constructor(e){ce(this,"parent");this.parent=e}insertElement(e,s){const t=nr(this.parent.children,s);if(!t)return-1;const[n,i]=t;return this.parent.insertBefore(e,n[0]),i}appendElement(e,s){var u;const t=nr(this.parent.children,s);if(!t)return-1;const[n,i]=t,f=(u=n.nextElementSibling)!=null?u:null;return this.parent.insertBefore(e,f),i+1}updateElement(e,s){const t=nr(this.parent.children,s);return t?(e(...t),!0):!1}}function ec(r){return new Ju(r)}function tc(r){return r.nodeType===Node.ELEMENT_NODE}function rc(r){function e(t){qn(r,t)}return[{get(){return cr(r)},available(){return Qn(r)}},e]}function sc(r,e,s,t){const n=Ae([]);n.subscribe(e);function i(C,D){n.update(_=>(_.splice(C,0,D),_))}const[f,u]=ur(),l=f.then(ec),g=Ae([]);async function p(C,D){const[_,x]=ur(),S=await l,E=r();function M(T){return!C.id||T.id===C.id}async function U(T,G){for(const P of T)for(const w of P.addedNodes){if(!tc(w)||!M(w))continue;const O=D(w,S);return O>=0&&i(O,E),x(void 0),G.disconnect()}}new MutationObserver(U).observe(S.parent,{childList:!0});const j={component:C,hostProps:E};return g.update(T=>(T.push(j),T)),await _,{destroy(){g.update(T=>(Xn(T,j),T))}}}async function h(C,D){return(await l).updateElement((x,S)=>{n.update(E=>(E[S]=C(E[S]),E))},D)}const v=t({addComponent:p,updateProps:h});function L(){const C=r();return n.update(D=>(D.push(C),D)),C}return s({getProps:L}),{dynamicSlotted:g,resolveSlotContainer:u,slotsInterface:v}}function nc(){return{detach:Ae(!1)}}function ac({addComponent:r,updateProps:e}){function s(u,l=0){return r(u,(g,p)=>p.insertElement(g,l))}function t(u,l=-1){return r(u,(g,p)=>p.appendElement(g,l))}function n(u){return e(l=>(l.detach.set(!1),l),u)}function i(u){return e(l=>(l.detach.set(!0),l),u)}function f(u){return e(l=>(l.detach.update(g=>!g),l),u)}return{insert:s,append:t,show:n,hide:i,toggle:f}}const ic=Symbol("dynamicSlotting"),[$s,oc]=rc(ic);var lc=X('<div class="dynamically-slottable svelte-8in7my"><!> <!></div>');function Xe(r,e){me(e,!1);const s=xe(),t=()=>fe(v,"$dynamicSlotted",s);function n(x){return x}let i=W(e,"slotHost",8),f=W(e,"createProps",8,nc),u=W(e,"updatePropsList",8,n),l=W(e,"setSlotHostContext",8,oc),g=W(e,"createInterface",8,ac);const{slotsInterface:p,resolveSlotContainer:h,dynamicSlotted:v}=sc(f(),u(),l(),g());let L=W(e,"api",8);Object.assign(L(),p),Ce();var C=lc(),D=Q(C);at(D,e,"default",{});var _=$(D,2);Rt(_,1,t,({component:x,hostProps:S})=>x.id,(x,S)=>{let E=()=>a(S).component,M=()=>a(S).hostProps;var U=Ge(),z=re(U);lr(z,i,(j,T)=>{T(j,{get id(){return E().id},get hostProps(){return M()},children:(G,P)=>{var w=Ge(),o=re(w);lr(o,()=>E().component,(O,b)=>{b(O,ws(()=>E().props))}),d(G,w)},$$slots:{default:!0}})}),d(x,U)}),I(C),Al(C,x=>h==null?void 0:h(x)),d(r,C),he()}var uc=X('<div class="item svelte-u5rx4p"><!></div>');function K(r,e){var p;me(e,!1);const s=xe(),t=()=>fe(f,"$detach",s);let n=W(e,"id",8,void 0),i=W(e,"hostProps",8,void 0);$s.available()||console.log("Item: should always have a slotHostContext");const{detach:f}=(p=i())!=null?p:$s.get().getProps();Ce();var u=uc(),l=Q(u);{var g=h=>{var v=Ge(),L=re(v);at(L,e,"default",{}),d(h,v)};be(l,h=>{t()||h(g)})}I(u),R(()=>He(u,"id",n())),d(r,u),he()}var cc=X(' <div class="inline-icon svelte-cpy9wq"><!></div>',1);function St(r,e){me(e,!1);let s=W(e,"title",8);Ce(),ee();var t=cc(),n=re(t),i=$(n);R(()=>He(i,"title",or()));var f=Q(i);Vt(f,{icon:Ll}),I(i),R(()=>{var u;return H(n,`${(u=s())!=null?u:""} `)}),d(r,t),he()}var dc=X('<details><summary><!></summary> <div class="text svelte-pjduvg"><textarea class="card-state-customizer form-control svelte-pjduvg" spellcheck="false" autocapitalize="none"></textarea></div></details>'),fc=X('<div class="m-2"><!></div>');function gc(r,e){let s=W(e,"value",12),t=W(e,"title",8);var n=fc(),i=Q(n);ct(i,{children:(f,u)=>{var l=dc(),g=Q(l),p=Q(g);St(p,{get title(){return t()}}),I(g);var h=$(g,2),v=Q(h);Ns(v),I(h),I(l),Dt(v,s),d(f,l)},$$slots:{default:!0,revert:(f,u)=>{At(f,{slot:"revert",defaultValue:"",get value(){return s()},set value(l){s(l)},$$legacy:!0})}}}),I(n),d(r,n)}var vc=X('<span class="invisible svelte-xwrhci"> </span>'),$c=X('<span class="suffix svelte-xwrhci"></span>'),pc=X('<div class="spinner decrement svelte-xwrhci" tabindex="-1" role="button"><!></div> <div class="spinner increment svelte-xwrhci" tabindex="-1" role="button"><!></div>',1),mc=X('<div class="spin-box svelte-xwrhci"><input type="number" pattern="[0-9]*" inputmode="numeric" class="svelte-xwrhci"> <!> <!></div>');function qs(r,e){me(e,!1);const s=F();let t=W(e,"value",12),n=W(e,"step",8,1),i=W(e,"min",8,1),f=W(e,"max",8,9999),u=W(e,"percentage",8,!1),l=F(),g=F(!1),p=F();function h(y){Number.isNaN(y)||t(Math.min(f(),Math.max(i(),y))),Ot().then(()=>{Pe(l,a(l).value=a(L)),E(a(L))})}function v(y){if(Math.floor(y)===y)return 0;const N=y.toString().split(".")[1].length||0,V=u()?N-2:N;return Math.max(0,V)}let L=F();function C(){h(parseFloat(this.value)/a(p))}function D(y){a(g)&&(h(t()+(y.deltaY<0?n():-n())),y.preventDefault())}function _(y){h(t()+y),a(z)&&setTimeout(()=>_(y),j)}const x=[1500,1250,1e3,750,500,250];async function S(y){m(z,!0),j=128,m(T,setTimeout(y,250));for(const N of x)j=await new Promise(V=>setTimeout(()=>V(a(z)?j/2:128),N))}function E(y){m(U,sa({pct:y}).replaceAll("%","-%-").split("-"))}function M(){E(a(l).value)}let U=F(),z=F(!1),j,T=F();le(()=>Be(u()),()=>{m(p,u()?100:1)}),le(()=>(Be(t()),a(p),Be(n())),()=>{m(L,(t()*a(p)).toFixed(v(n())))}),le(()=>a(L),()=>{E(a(L))}),le(()=>(Be(u()),a(U)),()=>{m(s,u()&&!a(U)[0]?"2.2ch":void 0)}),Fe(),Ce();var G=mc(),P=Q(G);st(P),xt(P,y=>m(l,y),()=>a(l));var w=$(P,2);{var o=y=>{var N=$c();Rt(N,5,()=>a(U),Ft,(V,q)=>{var A=Ge(),B=re(A);{var J=ae=>{var we=Z("%");d(ae,we)},ue=ae=>{var we=vc(),ge=Q(we,!0);I(we),R(()=>H(ge,a(q))),d(ae,we)};be(B,ae=>{a(q)=="%"?ae(J):ae(ue,!1)})}d(V,A)}),I(N),d(y,N)};be(w,y=>{u()&&y(o)})}var O=$(w,2);{var b=y=>{var N=pc(),V=re(N);R(()=>He(V,"title",ta()));var q=Q(V);is(q,{children:(J,ue)=>{Vt(J,{icon:Fs})},$$slots:{default:!0}}),I(V);var A=$(V,2);R(()=>He(A,"title",ra()));var B=Q(A);is(B,{children:(J,ue)=>{Vt(J,{icon:Ml})},$$slots:{default:!0}}),I(A),R(()=>{pt(V,"active",t()>i()),pt(A,"active",t()<f())}),_e("click",V,()=>{a(l).focus(),t()>i()&&_(-n())}),_e("mousedown",V,()=>S(()=>{t()>i()&&_(-n())})),_e("mouseup",V,()=>{clearTimeout(a(T)),m(z,!1)}),_e("click",A,()=>{a(l).focus(),t()<f()&&_(n())}),_e("mousedown",A,()=>S(()=>{t()<f()&&_(n())})),_e("mouseup",A,()=>{clearTimeout(a(T)),m(z,!1)}),d(y,N)};be(O,y=>{El()&&y(b)})}I(G),R(()=>{He(P,"min",i()*a(p)),He(P,"max",f()*a(p)),He(P,"step",n()*a(p)),gr(P,a(L)),_l(P,"padding-left",a(s))}),_e("blur",P,C),_e("input",P,M),_e("focusin",P,()=>m(g,!0)),_e("focusout",P,()=>m(g,!1)),_e("wheel",G,D),d(r,G),he()}var hc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),yc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function tt(r,e){let s=W(e,"value",12),t=W(e,"defaultValue",8),n=W(e,"min",8,0),i=W(e,"max",8,9999),f=W(e,"step",8,.01),u=W(e,"percentage",8,!1);var l=yc(),g=re(l);Te(g,()=>({"--cols":13})),Se(g.lastChild,{children:(p,h)=>{var v=hc(),L=re(v);Te(L,()=>({"--col-size":7})),ot(L.lastChild,{breakpoint:"xs",children:(D,_)=>{var x=Ge(),S=re(x);at(S,e,"default",{}),d(D,x)},$$slots:{default:!0}}),I(L);var C=$(L,2);Te(C,()=>({"--col-size":6})),ot(C.lastChild,{breakpoint:"xs",children:(D,_)=>{ct(D,{children:(x,S)=>{qs(x,{get min(){return n()},get max(){return i()},get step(){return f()},get percentage(){return u()},get value(){return s()},set value(E){s(E)},$$legacy:!0})},$$slots:{default:!0,revert:(x,S)=>{At(x,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(E){s(E)},$$legacy:!0})}}})},$$slots:{default:!0}}),I(C),d(p,v)},$$slots:{default:!0}}),I(g),d(r,l)}var Cc=X("<!> <!>",1),wc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),_c=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Ve(r,e){let s=W(e,"value",12),t=W(e,"defaultValue",8),n=W(e,"min",8,0),i=W(e,"max",8,9999);var f=_c(),u=re(f);Te(u,()=>({"--cols":13})),Se(u.lastChild,{children:(l,g)=>{var p=wc(),h=re(p);Te(h,()=>({"--col-size":7})),ot(h.lastChild,{breakpoint:"xs",children:(L,C)=>{var D=Ge(),_=re(D);at(_,e,"default",{}),d(L,D)},$$slots:{default:!0}}),I(h);var v=$(h,2);Te(v,()=>({"--col-size":6})),ot(v.lastChild,{breakpoint:"xs",children:(L,C)=>{Se(L,{class:"flex-grow-1",children:(D,_)=>{var x=Cc(),S=re(x);at(S,e,"tabs",{});var E=$(S,2);ct(E,{children:(M,U)=>{qs(M,{get min(){return n()},get max(){return i()},get value(){return s()},set value(z){s(z)},$$legacy:!0})},$$slots:{default:!0,revert:(M,U)=>{At(M,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(z){s(z)},$$legacy:!0})}}}),d(D,x)},$$slots:{default:!0}})},$$slots:{default:!0}}),I(v),d(l,p)},$$slots:{default:!0}}),I(u),d(r,f)}var kc=X('<input type="date" class="svelte-ora9c4">'),Pc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),bc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),xc=X("<div><!></div>");function Sc(r,e){me(e,!1);let s=W(e,"date",12);le(()=>Be(s()),()=>{s(s()?s():"1970-01-01")}),Fe();var t=xc(),n=Q(t);ct(n,{children:(i,f)=>{var u=bc(),l=re(u);Te(l,()=>({"--cols":13})),Se(l.lastChild,{children:(g,p)=>{var h=Pc(),v=re(h);Te(v,()=>({"--col-size":7})),ot(v.lastChild,{breakpoint:"xs",children:(C,D)=>{var _=Ge(),x=re(_);at(x,e,"default",{}),d(C,_)},$$slots:{default:!0}}),I(v);var L=$(v,2);Te(L,()=>({"--col-size":6})),ot(L.lastChild,{breakpoint:"xs",children:(C,D)=>{var _=kc();st(_),Dt(_,s),d(C,_)},$$slots:{default:!0}}),I(L),d(g,h)},$$slots:{default:!0}}),I(l),d(i,u)},$$slots:{default:!0}}),I(t),d(r,t),he()}var Oc=X("<!> <!> <!> <!> <!>",1),Rc=X("<!> <!>",1),Ac=X("<!> <!> <!>",1);function Tc(r,e){me(e,!1);const s=xe(),t=()=>fe(h,"$fsrs",s),n=()=>fe(l,"$config",s),i=()=>fe(p,"$cardStateCustomizer",s);let f=W(e,"state",8),u=W(e,"api",8);const l=f().currentConfig,g=f().defaults,p=f().cardStateCustomizer,h=f().fsrs,v={maximumInterval:{title:Ps(),help:na(),url:$e.DeckOptions.maximumInterval},historicalRetention:{title:qr(),help:aa(),sched:Ne.FSRS},ignoreRevlogsBeforeMs:{title:Qr(),help:ia(),sched:Ne.FSRS},startingEase:{title:oa(),help:la(),url:$e.DeckOptions.startingEase,sched:Ne.SM2},easyBonus:{title:ua(),help:ca(),url:$e.DeckOptions.easyBonus,sched:Ne.SM2},intervalModifier:{title:da(),help:fa(),url:$e.DeckOptions.intervalModifier,sched:Ne.SM2},hardInterval:{title:ga(),help:va(),url:$e.DeckOptions.hardInterval,sched:Ne.SM2},newInterval:{title:$a(),help:pa(),url:$e.DeckOptions.newInterval,sched:Ne.SM2},customScheduling:{title:ma(),help:ha(),url:"https://faqs.ankiweb.net/the-2021-scheduler.html#add-ons-and-custom-scheduling"}},L=Object.values(v);let C=F(),D=F();function _(S){a(C).show(),a(D).to(S)}Ce();var x=de(()=>Ur());Qe(r,{get title(){return a(x)},children:(S,E)=>{Xe(S,{slotHost:K,get api(){return u()},children:(M,U)=>{var z=Ac(),j=re(z);K(j,{children:(o,O)=>{Ve(o,{get defaultValue(){return g.maximumReviewInterval},min:1,max:365*100,get value(){return n().maximumReviewInterval},set value(b){te(l,k(n).maximumReviewInterval=b,k(n))},children:(b,y)=>{ne(b,{$$events:{click:()=>_(Object.keys(v).indexOf("maximumInterval"))},children:(N,V)=>{ee();var q=Z();R(()=>H(q,v.maximumInterval.title)),d(N,q)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var T=$(j,2);{var G=o=>{var O=Oc(),b=re(O);K(b,{children:(A,B)=>{tt(A,{get defaultValue(){return g.initialEase},min:1.31,max:5,get value(){return n().initialEase},set value(J){te(l,k(n).initialEase=J,k(n))},children:(J,ue)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("startingEase"))},children:(ae,we)=>{ee();var ge=Z();R(()=>H(ge,v.startingEase.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var y=$(b,2);K(y,{children:(A,B)=>{tt(A,{get defaultValue(){return g.easyMultiplier},min:1,max:5,get value(){return n().easyMultiplier},set value(J){te(l,k(n).easyMultiplier=J,k(n))},children:(J,ue)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("easyBonus"))},children:(ae,we)=>{ee();var ge=Z();R(()=>H(ge,v.easyBonus.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var N=$(y,2);K(N,{children:(A,B)=>{tt(A,{get defaultValue(){return g.intervalMultiplier},min:.5,max:2,get value(){return n().intervalMultiplier},set value(J){te(l,k(n).intervalMultiplier=J,k(n))},children:(J,ue)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("intervalModifier"))},children:(ae,we)=>{ee();var ge=Z();R(()=>H(ge,v.intervalModifier.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var V=$(N,2);K(V,{children:(A,B)=>{tt(A,{get defaultValue(){return g.hardMultiplier},min:.5,max:1.3,get value(){return n().hardMultiplier},set value(J){te(l,k(n).hardMultiplier=J,k(n))},children:(J,ue)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("hardInterval"))},children:(ae,we)=>{ee();var ge=Z();R(()=>H(ge,v.hardInterval.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(V,2);K(q,{children:(A,B)=>{tt(A,{get defaultValue(){return g.lapseMultiplier},max:1,get value(){return n().lapseMultiplier},set value(J){te(l,k(n).lapseMultiplier=J,k(n))},children:(J,ue)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("newInterval"))},children:(ae,we)=>{ee();var ge=Z();R(()=>H(ge,v.newInterval.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(o,O)},P=o=>{var O=Rc(),b=re(O);tt(b,{get defaultValue(){return g.historicalRetention},min:.5,max:1,percentage:!0,get value(){return n().historicalRetention},set value(N){te(l,k(n).historicalRetention=N,k(n))},children:(N,V)=>{ne(N,{$$events:{click:()=>_(Object.keys(v).indexOf("historicalRetention"))},children:(q,A)=>{ee();var B=Z();R(()=>H(B,qr())),d(q,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var y=$(b,2);K(y,{children:(N,V)=>{Sc(N,{get date(){return n().ignoreRevlogsBeforeDate},set date(q){te(l,k(n).ignoreRevlogsBeforeDate=q,k(n))},children:(q,A)=>{ne(q,{$$events:{click:()=>_(Object.keys(v).indexOf("ignoreRevlogsBeforeMs"))},children:(B,J)=>{ee();var ue=Z();R(()=>H(ue,Qr())),d(B,ue)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(o,O)};be(T,o=>{t()?o(P,!1):o(G)})}var w=$(T,2);K(w,{children:(o,O)=>{gc(o,{get title(){return v.customScheduling.title},get value(){return mt(),i()},set value(b){it(p,b)},$$events:{click:()=>_(Object.keys(v).indexOf("customScheduling"))},$$legacy:!0})},$$slots:{default:!0}}),d(M,z)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(S,E)=>{var M=de(()=>Ur());Ze(S,{get title(){return a(M)},get url(){return $e.DeckOptions.advanced},slot:"tooltip",get fsrs(){return t()},helpSections:L,$$events:{mount:U=>{m(C,U.detail.modal),m(D,U.detail.carousel)}}})}}}),he()}var Dc=X("<!> <!>",1);function Ic(r,e){me(e,!1);const s=xe(),t=()=>fe(f,"$config",s);let n=W(e,"state",8),i=W(e,"api",8);const f=n().currentConfig,u=n().defaults,l={disableAutoplay:{title:ya(),help:Ca()},skipQuestionWhenReplaying:{title:wa(),help:_a()}},g=Object.values(l);let p=F(),h=F();function v(C){a(p).show(),a(h).to(C)}Ce();var L=de(()=>Yr());Qe(r,{get title(){return a(L)},children:(C,D)=>{Xe(C,{slotHost:K,get api(){return i()},children:(_,x)=>{var S=Dc(),E=re(S);K(E,{children:(U,z)=>{qe(U,{get defaultValue(){return u.disableAutoplay},get value(){return t().disableAutoplay},set value(j){te(f,k(t).disableAutoplay=j,k(t))},children:(j,T)=>{ne(j,{$$events:{click:()=>v(Object.keys(l).indexOf("disableAutoplay"))},children:(G,P)=>{ee();var w=Z();R(()=>H(w,l.disableAutoplay.title)),d(G,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var M=$(E,2);K(M,{children:(U,z)=>{qe(U,{get defaultValue(){return u.skipQuestionWhenReplayingAnswer},get value(){return t().skipQuestionWhenReplayingAnswer},set value(j){te(f,k(t).skipQuestionWhenReplayingAnswer=j,k(t))},children:(j,T)=>{ne(j,{$$events:{click:()=>v(Object.keys(l).indexOf("skipQuestionWhenReplaying"))},children:(G,P)=>{ee();var w=Z();R(()=>H(w,l.skipQuestionWhenReplaying.title)),d(G,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(_,S)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(C,D)=>{var _=de(()=>Yr());Ze(C,{get title(){return a(_)},get url(){return $e.DeckOptions.audio},slot:"tooltip",helpSections:g,$$events:{mount:x=>{m(p,x.detail.modal),m(h,x.detail.carousel)}}})}}}),he()}function Lc(){return[{label:ka(),value:et.DECK},{label:Pa(),value:et.DECK_THEN_RANDOM_NOTES},{label:ba(),value:et.LOWEST_POSITION},{label:xa(),value:et.HIGHEST_POSITION},{label:Sa(),value:et.RANDOM_NOTES},{label:Oa(),value:et.RANDOM_CARDS}]}function Ec(){return[{label:Ra(),value:Ye.TEMPLATE},{label:Aa(),value:Ye.NO_SORT},{label:Ta(),value:Ye.TEMPLATE_THEN_RANDOM},{label:Da(),value:Ye.RANDOM_NOTE_THEN_TEMPLATE},{label:bs(),value:Ye.RANDOM_CARD}]}function Mc(r){return[{label:Ia(),value:je.DAY},{label:La(),value:je.DAY_THEN_DECK},{label:Ea(),value:je.DECK_THEN_DAY},{label:Ma(),value:je.INTERVALS_ASCENDING},{label:Na(),value:je.INTERVALS_DESCENDING},...Bc(r),{label:Va(),value:je.RETRIEVABILITY_ASCENDING},{label:Fa(),value:je.RETRIEVABILITY_DESCENDING},{label:bs(),value:je.RANDOM},{label:Ha(),value:je.ADDED},{label:Ba(),value:je.REVERSE_ADDED}]}function ps(){return[{label:za(),value:Zt.MIX_WITH_REVIEWS},{label:Ga(),value:Zt.AFTER_REVIEWS},{label:Wa(),value:Zt.BEFORE_REVIEWS}]}function Nc(){return[{label:ja(),value:Gr.SUSPEND},{label:qa(),value:Gr.TAG_ONLY}]}function Vc(){return[{label:Qa(),value:ir.DUE},{label:Ua(),value:ir.RANDOM}]}function Fc(){return[{label:Ya(),value:_t.BURY_CARD},{label:Ka(),value:_t.ANSWER_AGAIN},{label:Xa(),value:_t.ANSWER_GOOD},{label:Za(),value:_t.ANSWER_HARD},{label:Ja(),value:_t.SHOW_REMINDER}]}function Hc(){return[{label:ei(),value:Wr.SHOW_ANSWER},{label:ti(),value:Wr.SHOW_REMINDER}]}function Bc(r){const e=[{label:r?ri():si(),value:je.EASE_ASCENDING},{label:r?ni():ai(),value:je.EASE_DESCENDING}];return r&&e.reverse(),e}var zc=X("<!> <!> <!> <!> <!>",1);function Gc(r,e){me(e,!1);const s=xe(),t=()=>fe(f,"$config",s);let n=W(e,"state",8),i=W(e,"api",8);const f=n().currentConfig,u=n().defaults,l={secondsToShowQuestion:{title:ii(),help:oi()},secondsToShowAnswer:{title:li(),help:ui()},waitForAudio:{title:ci(),help:di()},questionAction:{title:fi(),help:gi()},answerAction:{title:vi(),help:$i()}},g=Object.values(l);let p=F(),h=F();function v(C){a(p).show(),a(h).to(C)}Ce();var L=de(()=>Kr());Qe(r,{get title(){return a(L)},children:(C,D)=>{Xe(C,{slotHost:K,get api(){return i()},children:(_,x)=>{var S=zc(),E=re(S);K(E,{children:(T,G)=>{tt(T,{get defaultValue(){return u.secondsToShowQuestion},step:.1,get value(){return t().secondsToShowQuestion},set value(P){te(f,k(t).secondsToShowQuestion=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>v(Object.keys(l).indexOf("secondsToShowQuestion"))},children:(o,O)=>{ee();var b=Z();R(()=>H(b,l.secondsToShowQuestion.title)),d(o,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var M=$(E,2);K(M,{children:(T,G)=>{tt(T,{get defaultValue(){return u.secondsToShowAnswer},step:.1,get value(){return t().secondsToShowAnswer},set value(P){te(f,k(t).secondsToShowAnswer=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>v(Object.keys(l).indexOf("secondsToShowAnswer"))},children:(o,O)=>{ee();var b=Z();R(()=>H(b,l.secondsToShowAnswer.title)),d(o,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var U=$(M,2);K(U,{children:(T,G)=>{qe(T,{get defaultValue(){return u.waitForAudio},get value(){return t().waitForAudio},set value(P){te(f,k(t).waitForAudio=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>v(Object.keys(l).indexOf("waitForAudio"))},children:(o,O)=>{ee();var b=Z();R(()=>H(b,l.waitForAudio.title)),d(o,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var z=$(U,2);K(z,{children:(T,G)=>{var P=de(Hc);rt(T,{get defaultValue(){return u.questionAction},get choices(){return a(P)},get value(){return t().questionAction},set value(w){te(f,k(t).questionAction=w,k(t))},children:(w,o)=>{ne(w,{$$events:{click:()=>v(Object.keys(l).indexOf("questionAction"))},children:(O,b)=>{ee();var y=Z();R(()=>H(y,l.questionAction.title)),d(O,y)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var j=$(z,2);K(j,{children:(T,G)=>{var P=de(Fc);rt(T,{get defaultValue(){return u.answerAction},get choices(){return a(P)},get value(){return t().answerAction},set value(w){te(f,k(t).answerAction=w,k(t))},children:(w,o)=>{ne(w,{$$events:{click:()=>v(Object.keys(l).indexOf("answerAction"))},children:(O,b)=>{ee();var y=Z();R(()=>H(y,l.answerAction.title)),d(O,y)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(_,S)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(C,D)=>{var _=de(()=>Kr());Ze(C,{get title(){return a(_)},get url(){return $e.DeckOptions.autoAdvance},slot:"tooltip",helpSections:g,$$events:{mount:x=>{m(p,x.detail.modal),m(h,x.detail.carousel)}}})}}}),he()}var Wc=X("<!> <!> <!>",1);function jc(r,e){me(e,!1);const s=xe(),t=()=>fe(f,"$config",s);let n=W(e,"state",8),i=W(e,"api",8);const f=n().currentConfig,u=n().defaults,l=`

`+pi(),g={buryNewSiblings:{title:mi(),help:hi()+l},buryReviewSiblings:{title:yi(),help:Ci()+l},buryInterdayLearningSiblings:{title:wi(),help:_i()+l}},p=Object.values(g);let h=F(),v=F();function L(D){a(h).show(),a(v).to(D)}Ce();var C=de(()=>Xr());Qe(r,{get title(){return a(C)},children:(D,_)=>{Xe(D,{slotHost:K,get api(){return i()},children:(x,S)=>{var E=Wc(),M=re(E);K(M,{children:(j,T)=>{qe(j,{get defaultValue(){return u.buryNew},get value(){return t().buryNew},set value(G){te(f,k(t).buryNew=G,k(t))},children:(G,P)=>{ne(G,{$$events:{click:()=>L(Object.keys(g).indexOf("buryNewSiblings"))},children:(w,o)=>{ee();var O=Z();R(()=>H(O,g.buryNewSiblings.title)),d(w,O)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var U=$(M,2);K(U,{children:(j,T)=>{qe(j,{get defaultValue(){return u.buryReviews},get value(){return t().buryReviews},set value(G){te(f,k(t).buryReviews=G,k(t))},children:(G,P)=>{ne(G,{$$events:{click:()=>L(Object.keys(g).indexOf("buryReviewSiblings"))},children:(w,o)=>{ee();var O=Z();R(()=>H(O,g.buryReviewSiblings.title)),d(w,O)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var z=$(U,2);K(z,{children:(j,T)=>{qe(j,{get defaultValue(){return u.buryInterdayLearning},get value(){return t().buryInterdayLearning},set value(G){te(f,k(t).buryInterdayLearning=G,k(t))},children:(G,P)=>{ne(G,{$$events:{click:()=>L(Object.keys(g).indexOf("buryInterdayLearningSiblings"))},children:(w,o)=>{ee();var O=Z();R(()=>H(O,g.buryInterdayLearningSiblings.title)),d(w,O)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(x,E)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(D,_)=>{var x=de(()=>Xr());Ze(D,{get title(){return a(x)},get url(){return $e.Studying.siblingsAndBurying},slot:"tooltip",helpSections:p,$$events:{mount:S=>{m(h,S.detail.modal),m(v,S.detail.carousel)}}})}}}),he()}function qc(){}var Qc=X('<hr class="dropdown-divider">');function Uc(r){var e=Qc();d(r,e)}var Yc=X('<div class="save svelte-ymxw35"> </div>'),Kc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Xc=X("<!> <!> <!> <!> <!> <!>",1),Zc=X('<div class="d-flex"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!></div>');function Jc(r,e){me(e,!1);const s=window.getComputedStyle(document.body).direction=="rtl",t=_s();let n=W(e,"state",8);async function i(){if(await Ot(),n().defaultConfigSelected()){alert(ki());return}const C=(n().removalWilLForceFullSync()?Pi()+" ":"")+bi({name:n().getCurrentName()});if(confirm(zn(C)))try{n().removeCurrentConfig(),t("remove")}catch(D){alert(D)}}async function f(C){await mr(),n().save(C)}const u="Control+Enter";let l=F(!1);Ce();var g=Zc(),p=Q(g),h=de(()=>Vl(u));Te(p,()=>({"--border-left-radius":s?"0":"var(--border-radius)","--border-right-radius":s?"var(--border-radius)":"0"})),Hl(p.lastChild,{primary:!0,get tooltip(){return a(h)},$$events:{click:()=>f(Nt.NORMAL)},children:(C,D)=>{var _=Yc(),x=Q(_,!0);R(()=>H(x,xi())),I(_),d(C,_)},$$slots:{default:!0}}),I(p);var v=$(p,2);Nl(v,{keyCombination:u,$$events:{action:()=>f(Nt.NORMAL)}});var L=$(v,2);Tl(L,{get show(){return a(l)},closeOnInsideClick:!0,inline:!0,$$events:{close:()=>m(l,!1)},$$slots:{reference:(C,D)=>{var _=Kc(),x=re(_);Te(x,()=>({"--border-right-radius":s?"0":"var(--border-radius)","--border-left-radius":s?"var(--border-radius)":"0"})),Cl(x.lastChild,{class:"chevron",slot:"reference",iconSize:80,$$events:{click:()=>m(l,!a(l))},children:(S,E)=>{Vt(S,{icon:Fs})},$$slots:{default:!0}}),I(x),d(C,_)},floating:(C,D)=>{Dl(C,{slot:"floating",children:(_,x)=>{var S=Xc(),E=re(S);Pt(E,{$$events:{click:()=>t("add")},children:(G,P)=>{ee();var w=Z();R(()=>H(w,xs())),d(G,w)},$$slots:{default:!0}});var M=$(E,2);Pt(M,{$$events:{click:()=>t("clone")},children:(G,P)=>{ee();var w=Z();R(()=>H(w,Ss())),d(G,w)},$$slots:{default:!0}});var U=$(M,2);Pt(U,{$$events:{click:()=>t("rename")},children:(G,P)=>{ee();var w=Z();R(()=>H(w,Os())),d(G,w)},$$slots:{default:!0}});var z=$(U,2);Pt(z,{$$events:{click:i},children:(G,P)=>{ee();var w=Z();R(()=>H(w,Si())),d(G,w)},$$slots:{default:!0}});var j=$(z,2);Uc(j);var T=$(j,2);Pt(T,{$$events:{click:()=>f(Nt.APPLY_TO_CHILDREN)},children:(G,P)=>{ee();var w=Z();R(()=>H(w,Oi())),d(G,w)},$$slots:{default:!0}}),d(_,S)},$$slots:{default:!0}})}}}),I(g),d(r,g),he()}var ed=X('<div class="modal fade" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content svelte-18qg9px"><div class="modal-header"><h5 class="modal-title" id="modalLabel"> </h5> <button type="button" class="btn-close svelte-18qg9px" data-bs-dismiss="modal" aria-label="Close"></button></div> <div class="modal-body"><form><div class="mb-3"><label for="prompt-input" class="col-form-label"> </label> <input id="prompt-input" type="text" class="form-control svelte-18qg9px"></div></form></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">OK</button></div></div></div></div>');function td(r,e){me(e,!1);const s=xe(),t=()=>fe(kl,"$pageTheme",s),n=F();let i=W(e,"title",8),f=W(e,"prompt",8),u=W(e,"initialValue",8,""),l=W(e,"onOk",8);const g=Math.random().toString(36).substring(2),p=cr(Hs);let h=F(),v,L=F();function C(){l()(a(L).value),v.hide(),m(n,u())}function D(){v.hide(),m(n,u())}function _(){a(L).focus(),S(!0)}function x(){S(!1)}const{set:S,remove:E}=Il(D);fr(()=>{a(h).addEventListener("shown.bs.modal",_),a(h).addEventListener("hidden.bs.modal",x),v=new Pl(a(h),{keyboard:!1}),p.set(g,v)}),ea(()=>{E(),a(h).removeEventListener("shown.bs.modal",_),a(h).removeEventListener("hidden.bs.modal",x)}),le(()=>Be(u()),()=>{m(n,u())}),Fe(),Ce();var M=ed(),U=Q(M),z=Q(U),j=Q(z),T=Q(j),G=Q(T,!0);I(T);var P=$(T,2);I(j);var w=$(j,2),o=Q(w),O=Q(o),b=Q(O),y=Q(b);I(b);var N=$(b,2);st(N),xt(N,B=>m(L,B),()=>a(L)),I(O),I(o),I(w);var V=$(w,2),q=Q(V),A=$(q,2);return I(V),I(z),I(U),I(M),xt(M,B=>m(h,B),()=>a(h)),R(()=>{var B;pt(z,"default-colors",t().isDark),H(G,i()),pt(P,"invert",t().isDark),H(y,`${(B=f())!=null?B:""}:`),pt(N,"nightMode",t().isDark)}),Dt(N,()=>a(n),B=>m(n,B)),_e("submit",o,Fl(C)),_e("click",q,D),_e("click",A,C),d(r,M),Ie(e,"modalKey",g),he({modalKey:g})}var rd=X('<div class="button-bar svelte-1h7iokg"><!> <!></div>'),sd=X('<!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function nd(r,e){me(e,!1);const s=xe(),t=()=>fe(u,"$configList",s),n=F(),i=F();let f=W(e,"state",8);const u=f().configList,l=_s(),g=()=>l("presetchange");function p(w){const o=Ri({decks:w.useCount});return`${w.name} (${o})`}function h(w){f().setCurrentIndex(w.detail.value),g()}function v(w){const o=w.trim();o.length&&(f().addConfig(o),g())}function L(w){const o=w.trim();o.length&&(f().cloneConfig(o),g())}function C(w){f().setCurrentName(w)}const D=cr(Hs);let _=F(),x=F(""),S=F(""),E=F(qc);function M(){m(S,xs()),m(E,v),m(x,""),D.get(a(_)).show()}function U(){m(S,Ss()),m(E,L),m(x,f().getCurrentName()),D.get(a(_)).show()}function z(){m(S,Os()),m(E,C),m(x,f().getCurrentName()),D.get(a(_)).show()}le(()=>t(),()=>{m(n,t().findIndex(w=>w.current))}),le(()=>(t(),a(n)),()=>{m(i,p(t()[a(n)]))}),Fe(),Ce();var j=sd(),T=re(j),G=de(()=>Ai());td(T,{get title(){return a(S)},get prompt(){return a(G)},get initialValue(){return a(x)},get onOk(){return a(E)},get modalKey(){return a(_)},set modalKey(w){m(_,w)},$$legacy:!0});var P=$(T,2);Te(P,()=>({"--gutter-block":"0.5rem","--sticky-borders":"0 0 1px"})),Bl(P.lastChild,{breakpoint:"sm",children:(w,o)=>{var O=rd(),b=Q(O);Zn(b,{class:"flex-grow-1 mr1",get label(){return a(i)},get list(){return t()},parser:N=>({content:p(N),value:N.idx}),get value(){return a(n)},set value(N){m(n,N)},$$events:{change:h},$$legacy:!0});var y=$(b,2);Jc(y,{get state(){return f()},$$events:{add:M,clone:U,rename:z,remove:g}}),I(O),d(w,O)},$$slots:{default:!0}}),I(P),d(r,j),he()}var ad=X('<li class="svelte-11xpnuy"><button class="svelte-11xpnuy"> </button></li>'),id=X('<ul class="svelte-11xpnuy"></ul>');function ms(r,e){me(e,!1);let s=W(e,"tabs",8),t=W(e,"value",12),n=F(i());function i(){const g=s().slice().reverse().findIndex(p=>p.value!==null);return g===-1?0:s().length-g-1}function f(g){for(const[p,h]of s().entries())g===p?h.enable(t()):g>p?h.reset():h.disable()}const u=g=>()=>m(n,g);le(()=>a(n),()=>{f(a(n))}),le(()=>(Be(s()),a(n)),()=>{var g;t((g=s()[a(n)].value)!=null?g:0)}),le(()=>(Be(s()),a(n),Be(t())),()=>{s()[a(n)].setValue(t())}),Fe(),Ce();var l=id();Rt(l,5,s,Ft,(g,p,h)=>{var v=ad(),L=Q(v),C=Un(()=>u(h)),D=Q(L,!0);I(L),I(v),R(()=>{pt(v,"active",a(n)===h),H(D,a(p).title)}),_e("click",L,function(..._){var x;(x=a(C))==null||x.apply(this,_)}),d(g,v)}),I(l),d(r,l),he()}var od=X("<!> <!> <!> <!> <!>",1);function ld(r,e){var b,y,N,V,q,A;me(e,!1);const s=xe(),t=()=>fe(h,"$config",s),n=()=>fe(v,"$limits",s),i=()=>fe(C,"$newCardsIgnoreReviewLimit",s),f=()=>fe(D,"$applyAllParentLimits",s),u=F();let l=W(e,"state",8),g=W(e,"api",8);function p(){Pe(M,a(M)[0]=new nt(Et(),t().newPerDay,B=>te(h,k(t).newPerDay=B,k(t)),t().newPerDay,null)),Pe(U,a(U)[0]=new nt(Et(),t().reviewsPerDay,B=>te(h,k(t).reviewsPerDay=B,k(t)),t().reviewsPerDay,null))}const h=l().currentConfig,v=l().deckLimits,L=l().defaults,C=l().newCardsIgnoreReviewLimit,D=l().applyAllParentLimits,_=`

`+Ti()+`

`+Di(),x=`

`+Ii()+_,S=or()+`

`+Li(),E=or()+`

`+Ei(),M=F([new nt(Et(),t().newPerDay,B=>te(h,k(t).newPerDay=B,k(t)),t().newPerDay,null),new nt(Zr(),(b=n().new)!=null?b:null,B=>te(v,k(n).new=B!=null?B:void 0,k(n)),null,null),new nt(Jr(),n().newTodayActive&&(y=n().newToday)!=null?y:null,B=>te(v,k(n).newToday=B!=null?B:void 0,k(n)),null,(N=n().newToday)!=null?N:null)]),U=F([new nt(Et(),t().reviewsPerDay,B=>te(h,k(t).reviewsPerDay=B,k(t)),t().reviewsPerDay,null),new nt(Zr(),(V=n().review)!=null?V:null,B=>te(v,k(n).review=B!=null?B:void 0,k(n)),null,null),new nt(Jr(),n().reviewTodayActive&&(q=n().reviewToday)!=null?q:null,B=>te(v,k(n).reviewToday=B!=null?B:void 0,k(n)),null,(A=n().reviewToday)!=null?A:null)]);let z=F(0),j=F(0);const T={newLimit:{title:Rs(),help:Mi()+_,url:$e.DeckOptions.newCardsday},reviewLimit:{title:As(),help:Ni()+x,url:$e.DeckOptions.maximumReviewsday},newCardsIgnoreReviewLimit:{title:Vi(),help:S,url:$e.DeckOptions.newCardsday},applyAllParentLimits:{title:Fi(),help:E,url:$e.DeckOptions.newCardsday}},G=Object.values(T);let P=F(),w=F();function o(B){a(P).show(),a(w).to(B)}le(()=>(a(z),a(j),ut),()=>{m(u,Math.min(9999,a(z)*10)>a(j)?Hi({cards:a(z),expected:Math.min(9999,a(z)*10)}):"")}),Fe(),Ce();var O=de(()=>es());return Qe(r,{get title(){return a(O)},children:(B,J)=>{Xe(B,{slotHost:K,get api(){return g()},children:(ue,ae)=>{var we=od(),ge=re(we);K(ge,{children:(Le,De)=>{Ve(Le,{get defaultValue(){return L.newPerDay},get value(){return a(z)},set value(ye){m(z,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>o(Object.keys(T).indexOf("newLimit"))},children:(ke,ht)=>{ee();var lt=Z();R(()=>H(lt,T.newLimit.title)),d(ke,lt)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(ye,Ue)=>{ms(ye,{slot:"tabs",get tabs(){return a(M)},get value(){return a(z)},set value(ke){m(z,ke)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var oe=$(ge,2);K(oe,{children:(Le,De)=>{Ve(Le,{get defaultValue(){return L.reviewsPerDay},get value(){return a(j)},set value(ye){m(j,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>o(Object.keys(T).indexOf("reviewLimit"))},children:(ke,ht)=>{ee();var lt=Z();R(()=>H(lt,T.reviewLimit.title)),d(ke,lt)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(ye,Ue)=>{ms(ye,{slot:"tabs",get tabs(){return a(U)},get value(){return a(j)},set value(ke){m(j,ke)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var ve=$(oe,2);K(ve,{children:(Le,De)=>{ze(Le,{get warning(){return a(u)}})},$$slots:{default:!0}});var Je=$(ve,2);K(Je,{children:(Le,De)=>{qe(Le,{defaultValue:!1,get value(){return mt(),i()},set value(ye){it(C,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>o(Object.keys(T).indexOf("newCardsIgnoreReviewLimit"))},children:(ke,ht)=>{St(ke,{get title(){return T.newCardsIgnoreReviewLimit.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Bt=$(Je,2);K(Bt,{children:(Le,De)=>{qe(Le,{defaultValue:!1,get value(){return mt(),f()},set value(ye){it(D,ye)},children:(ye,Ue)=>{ne(ye,{$$events:{click:()=>o(Object.keys(T).indexOf("applyAllParentLimits"))},children:(ke,ht)=>{St(ke,{get title(){return T.applyAllParentLimits.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(ue,we)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(B,J)=>{var ue=de(()=>es());Ze(B,{get title(){return a(ue)},get url(){return $e.DeckOptions.dailyLimits},slot:"tooltip",helpSections:G,$$events:{mount:ae=>{m(P,ae.detail.modal),m(w,ae.detail.carousel)}}})}}}),Ie(e,"onPresetChange",p),he({onPresetChange:p})}var ud=X("<!> <!> <!> <!> <!>",1);function cd(r,e){me(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=()=>fe(g,"$fsrs",s);let i=W(e,"state",8),f=W(e,"api",8);const u=i().currentConfig,l=i().defaults,g=i().fsrs,p=`

`+Bi();let h=F([]);const v={newGatherPriority:{title:zi(),help:Gi()+p},newCardSortOrder:{title:Wi(),help:ji()+p},newReviewPriority:{title:qi(),help:Qi()+p},interdayStepPriority:{title:Ui(),help:Yi()+p},reviewSortOrder:{title:Ki(),help:Xi()+p}},L=Object.values(v);let C=F(),D=F();function _(S){a(C).show(),a(D).to(S)}le(()=>(t(),a(h),et),()=>{switch(t().newCardGatherPriority){case et.RANDOM_NOTES:m(h,[Ye.TEMPLATE_THEN_RANDOM,Ye.RANDOM_NOTE_THEN_TEMPLATE]);break;case et.RANDOM_CARDS:m(h,[Ye.TEMPLATE_THEN_RANDOM,Ye.RANDOM_NOTE_THEN_TEMPLATE,Ye.RANDOM_CARD]);break;default:m(h,[]);break}a(h).includes(t().newCardSortOrder)&&te(u,k(t).newCardSortOrder=0,k(t)),t().newCardSortOrder in Ye||te(u,k(t).newCardSortOrder=0,k(t))}),Fe(),Ce();var x=de(()=>ts());Qe(r,{get title(){return a(x)},children:(S,E)=>{Xe(S,{slotHost:K,get api(){return f()},children:(M,U)=>{var z=ud(),j=re(z);K(j,{children:(o,O)=>{var b=de(Lc);rt(o,{get defaultValue(){return l.newCardGatherPriority},get choices(){return a(b)},get value(){return t().newCardGatherPriority},set value(y){te(u,k(t).newCardGatherPriority=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("newGatherPriority"))},children:(V,q)=>{ee();var A=Z();R(()=>H(A,v.newGatherPriority.title)),d(V,A)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var T=$(j,2);K(T,{children:(o,O)=>{var b=de(Ec);rt(o,{get defaultValue(){return l.newCardSortOrder},get choices(){return a(b)},get disabledChoices(){return a(h)},get value(){return t().newCardSortOrder},set value(y){te(u,k(t).newCardSortOrder=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("newCardSortOrder"))},children:(V,q)=>{ee();var A=Z();R(()=>H(A,v.newCardSortOrder.title)),d(V,A)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var G=$(T,2);K(G,{children:(o,O)=>{var b=de(ps);rt(o,{get defaultValue(){return l.newMix},get choices(){return a(b)},get value(){return t().newMix},set value(y){te(u,k(t).newMix=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("newReviewPriority"))},children:(V,q)=>{ee();var A=Z();R(()=>H(A,v.newReviewPriority.title)),d(V,A)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var P=$(G,2);K(P,{children:(o,O)=>{var b=de(ps);rt(o,{get defaultValue(){return l.interdayLearningMix},get choices(){return a(b)},get value(){return t().interdayLearningMix},set value(y){te(u,k(t).interdayLearningMix=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("interdayStepPriority"))},children:(V,q)=>{ee();var A=Z();R(()=>H(A,v.interdayStepPriority.title)),d(V,A)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var w=$(P,2);K(w,{children:(o,O)=>{var b=de(()=>Mc(n()));rt(o,{get defaultValue(){return l.reviewOrder},get choices(){return a(b)},get value(){return t().reviewOrder},set value(y){te(u,k(t).reviewOrder=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("reviewSortOrder"))},children:(V,q)=>{ee();var A=Z();R(()=>H(A,v.reviewSortOrder.title)),d(V,A)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(M,z)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(S,E)=>{var M=de(()=>ts());Ze(S,{get title(){return a(M)},get url(){return $e.DeckOptions.displayOrder},slot:"tooltip",helpSections:L,$$events:{mount:U=>{m(C,U.detail.modal),m(D,U.detail.carousel)}}})}}}),he()}var dd=X('<textarea class="w-100"></textarea>');function fd(r,e){me(e,!1);let s=W(e,"value",12),t=W(e,"defaults",8),n=F();function i(l){return l.map(g=>g.toFixed(4)).join(", ")}function f(){s(this.value.replace(/ /g,"").split(",").filter(l=>l).map(l=>Number(l)))}le(()=>Be(s()),()=>{m(n,i(s()))}),Fe(),Ce();var u=dd();Ns(u),R(()=>He(u,"placeholder",i(t()))),R(()=>gr(u,a(n))),_e("blur",u,f),d(r,u),he()}var gd=X("<!> <!>",1);function vd(r,e){let s=W(e,"value",12),t=W(e,"defaultValue",8),n=W(e,"defaults",8);var i=gd(),f=re(i);at(f,e,"default",{});var u=$(f,2);ct(u,{children:(l,g)=>{fd(l,{get defaults(){return n()},get value(){return s()},set value(p){s(p)},$$legacy:!0})},$$slots:{default:!0,revert:(l,g)=>{At(l,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(p){s(p)},$$legacy:!0})}}}),d(r,i)}var $d=X('<input type="text" class="w-100 mb-1">');function pd(r,e){let s=W(e,"value",12),t=W(e,"placeholder",8);ct(r,{children:(n,i)=>{var f=$d();st(f),R(()=>He(f,"placeholder",t())),Dt(f,s),d(n,f)},$$slots:{default:!0}})}var Me=(r=>(r[r.time=0]="time",r[r.count=1]="count",r[r.memorized=2]="memorized",r))(Me||{});function ar(r,e,s,t){const n=os(r);if(n.selectAll(".lines").remove(),n.selectAll(".hover-columns").remove(),n.selectAll(".focus-line").remove(),n.selectAll(".legend").remove(),s.length==0)return ls(n,!1),[];const i=n.transition().duration(600),f=new Date,u=s.map(o=>({...o,date:new Date(f.getTime()+o.x*24*60*60*1e3)})),l=f,g=us(u,o=>o.date),p=su().domain([l,g]).range([e.marginLeft,e.width-e.marginRight]);n.select(".x-ticks").call(o=>o.transition(i).call(zl(p).ticks(7).tickSizeOuter(0))).attr("direction","ltr");const h=o=>t==0?sr(o,!0):o.toString(),v={1:u.map(o=>({...o,y:o.count})),0:u.map(o=>({...o,y:o.timeCost})),2:u.map(o=>({...o,y:o.memorized}))}[t],L=us(v,o=>o.y),C=Gl().range([e.height-e.marginBottom,e.marginTop]).domain([0,L]).nice();n.select(".y-ticks").call(o=>o.transition(i).call(Wl(C).ticks(e.height/50).tickSizeOuter(0).tickFormat(h))).attr("direction","ltr"),n.select(".y-ticks .y-axis-title").remove(),n.select(".y-ticks").append("text").attr("class","y-axis-title").attr("transform","rotate(-90)").attr("y",0-e.marginLeft).attr("x",0-e.height/2).attr("font-size","1rem").attr("dy","1.1em").attr("fill","currentColor");const D=v.map(o=>[p(o.date),C(o.y),o.label]),_=$u(D,o=>Object.assign(o,{z:o[0][2]}),o=>o[2]),x=mu;n.append("g").attr("class","lines").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("path").data(Array.from(_.entries())).join("path").attr("stroke",(o,O)=>x[O%x.length]).attr("d",o=>jl()(o[1].map(O=>[O[0],O[1]]))).attr("data-group",o=>o[0]);const S=n.append("line").attr("class","focus-line").attr("y1",e.marginTop).attr("y2",e.height-e.marginBottom).attr("stroke","black").attr("stroke-width",1).style("opacity",0),E=Array.from(_.values()).reduce((o,O)=>o.length>O.length?o:O),M=e.width/E.length;n.append("g").attr("class","hover-columns").selectAll("rect").data(E).join("rect").attr("x",o=>o[0]-M/2).attr("y",e.marginTop).attr("width",M).attr("height",e.height-e.marginTop-e.marginBottom).attr("fill","transparent").on("mousemove",z).on("mouseout",()=>{S.style("opacity",0),cs()});const U={0:sr,1:o=>Ts({reviews:Math.round(o)}),2:o=>eo({memorized:Math.round(o).toFixed(0)})}[t];function z(o,O){ql(o,document.body);const b=p.invert(O[0]),y={};_.forEach((q,A)=>{const B=Ql(ae=>p.invert(ae[0])).left,J=B(q,b),ue=q[J];ue&&(y[A]=C.invert(ue[1]))}),S.attr("x1",O[0]).attr("x2",O[0]).style("opacity",1);const N=+((b.getTime()-Date.now())/(60*60*24*1e3)).toFixed();let V=`Date: ${Gn(b)}<br>In ${N} Days<br>`;for(const[q,A]of Object.entries(y))n.select(`path[data-group="${q}"]`).classed("hidden")||(V+=`<span style="color:${x[(parseInt(q)-1)%x.length]}"></span> #${q}: ${U(A)}<br>`);ds(V,o.pageX,o.pageY)}const j=n.append("g").attr("class","legend").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(Array.from(_.keys())).join("g").attr("transform",(o,O)=>`translate(0,${O*20})`).attr("cursor","pointer").on("click",(o,O)=>P(o,O)).on("mousemove",G).on("mouseout",cs),T={1:to,0:({count:o})=>sr(o),2:ro}[t];function G(o,O){const b=v.filter(V=>V.label==O),y=t==2?b[b.length-1].memorized-b[0].memorized:Qu(b,V=>V.y),N=y/((b==null?void 0:b.length)||1);ds(`#${O}:<br/>
                ${Zi()}: ${T({count:N})}<br/>
                ${Ji()}: ${U(y)}`,o.pageX,o.pageY)}j.append("rect").attr("x",e.width-e.marginRight+36).attr("width",12).attr("height",12).attr("fill",(o,O)=>x[O%x.length]),j.append("text").attr("x",e.width-e.marginRight+52).attr("y",7).attr("dy","0.3em").attr("fill","currentColor").text(o=>`#${o}`);const P=(o,O)=>{const b=O,y=n.select(`path[data-group="${b}"]`),N=y.classed("hidden"),V=o.currentTarget;y.classed("hidden",!N),y.style("display",()=>N?null:"none"),os(V).select("rect").style("opacity",N?1:.5)};return ls(n,!0),[]}var md=X(" <!>",1),hd=X("<div> </div>"),yd=X('<label><input type="radio"> </label> <label><input type="radio"> </label> <label><input type="radio"> </label>',1),Cd=X('<div class="radio-group svelte-1wbtes9"><!></div> <svg><!><!><!><!></svg> <!>',1),wd=X('<!> <!> <div class="ms-1 me-1"><!> <!> <button><!></button> <button><!></button> <div><!></div></div> <div class="m-1"><!> <button class="btn btn-primary"> </button></div> <div class="m-2"><!> <!></div> <div class="m-2"><details><summary> </summary> <!> <button><!></button> <!> <!></details></div> <div class="m-2"><details><summary> </summary> <!> <!> <!> <!> <!> <button> </button> <button> </button> <!> <!></details></div>',1);function _d(r,e){me(e,!1);const s=xe(),t=()=>fe(G,"$daysSinceLastOptimization",s),n=()=>fe(U,"$presetName",s),i=()=>fe(z,"$config",s),f=()=>fe(a(C),"$newCardsIgnoreReviewLimit",s),u=()=>fe(T,"$fsrsReschedule",s),l=F(),g=F(),p=F(),h=F(),v=F(),L=F(),C=F(),D=F(),_=F(),x=F(),S=[];let E=W(e,"state",8),M=W(e,"openHelpModal",8);const U=E().currentPresetName,z=E().currentConfig,j=E().defaults,T=E().fsrsReschedule,G=E().daysSinceLastOptimization;let P=F(),w=F(!1),o=F(!1),O=F(!1),b=F(!1),y=F(0),N=F(),V=F(Me.count);const q=F(new Dn({daysToSimulate:365,lossAversion:2.5})),A=F(new In({params:bt(i()),desiredRetention:i().desiredRetention,deckSize:0,daysToSimulate:365,newLimit:i().newPerDay,reviewLimit:i().reviewsPerDay,maxInterval:i().maximumReviewInterval,search:`preset:"${E().getCurrentNameForSearch()}" -is:suspended`,newCardsIgnoreReviewLimit:f()}));function B(c){const se=Math.round(100/.23456790123456783*(Math.pow(c,1/-.5)-1));return se===100?"":Co({days:se})}function J(c){return c<.7||c>.97?"alert-danger":c<.8||c>.95?"alert-warning":"alert-info"}function ue(){return BigInt(i().ignoreRevlogsBeforeDate?new Date(i().ignoreRevlogsBeforeDate).getTime():0)}async function ae(){if(a(w)){await Jt({});return}if(E().presetAssignmentsChanged()){alert(er());return}m(w,!0),m(P,void 0);try{await Mt(async()=>{const c=bt(i()),Y=i().relearnSteps;let ie=0,pe=0;for(let We=0;We<Y.length&&(pe+=Y[We],!(pe>=1440));We++)ie++;const se=await Ln({search:i().paramSearch?i().paramSearch:a(p),ignoreRevlogsBeforeMs:ue(),currentParams:c,numOfRelearningSteps:ie});if(c.length&&c.every((We,It)=>We.toFixed(4)===se.params[It].toFixed(4))||se.params.length===0){const We=se.fsrsItems?so():no();setTimeout(()=>alert(We),200)}else te(z,k(i).fsrsParams5=se.params,k(i));a(P)&&Pe(P,a(P).current=a(P).total)},c=>{c.value.case==="computeParams"&&m(P,c.value.value)})}finally{m(w,!1)}}async function we(){if(a(o)){await Jt({});return}if(E().presetAssignmentsChanged()){alert(er());return}m(o,!0),m(P,void 0);try{await Mt(async()=>{const c=i().paramSearch?i().paramSearch:a(p),Y=await En({params:bt(i()),search:c,ignoreRevlogsBeforeMs:ue()});a(P)&&Pe(P,a(P).current=a(P).total),setTimeout(()=>alert(`Log loss: ${Y.logLoss.toFixed(4)}, RMSE(bins): ${(Y.rmseBins*100).toFixed(2)}%. ${ao()}`),200)},c=>{c.value.case==="computeParams"&&m(P,c.value.value)})}finally{m(o,!1)}}async function ge(){if(a(O)){await Jt({});return}if(E().presetAssignmentsChanged()){alert(er());return}m(O,!0),m(N,void 0);try{await Mt(async()=>{Pe(q,a(q).maxInterval=i().maximumReviewInterval),Pe(q,a(q).params=bt(i())),Pe(q,a(q).search=`preset:"${E().getCurrentNameForSearch()}" -is:suspended`);const c=await Mn(a(q));m(y,c.optimalRetention),m(N,void 0)},c=>{c.value.case==="computeRetention"&&m(N,c.value.value)})}finally{m(O,!1)}}function oe(c){if(!c||!c.total)return"";const Y=(c.current/c.total*100).toFixed(1);return c instanceof Vn?`${Y}%`:wo({pct:Y,reviews:c.reviews})}function ve(c){return c?_o({count:c.current}):""}function Je(c){return c?ko({num:c.toFixed(2)}):""}async function Bt(){await mr(),E().save(Nt.COMPUTE_ALL_PARAMS)}let Le=F([]);const De=F(Jl());Pe(De,a(De).marginLeft+=8);let ye=F(null),Ue=0,ke=F([]);function ht(c,Y){return c.map((ie,pe)=>ie+Y[pe])}async function lt(){let c;Ue+=1;try{await Mt(async()=>{Pe(A,a(A).params=bt(i())),Pe(A,a(A).desiredRetention=i().desiredRetention),Pe(A,a(A).search=`preset:"${E().getCurrentNameForSearch()}" -is:suspended`),Pe(A,a(A).newCardsIgnoreReviewLimit=f()),m(b,!0),c=await Nn(a(A))},()=>{})}finally{if(m(b,!1),c){const Y=ht(c.dailyReviewCount,c.dailyNewCount),ie=c.accumulatedKnowledgeAcquisition;m(ke,a(ke).concat(c.dailyTimeCost.map((pe,se)=>({x:se,timeCost:pe,count:Y[se],memorized:ie[se],label:Ue})))),m(Le,ar(a(ye),a(De),a(ke),a(V)))}}}function Us(){m(ke,a(ke).filter(c=>c.label!==Ue)),Ue=Math.max(0,Ue-1),m(Le,ar(a(ye),a(De),a(ke),a(V)))}le(()=>(t(),ut),()=>{m(l,t()>30?io():"")}),le(()=>n(),()=>{n()&&m(y,0)}),le(()=>(a(w),a(o),a(O),a(b)),()=>{m(g,a(w)||a(o)||a(O)||a(b))}),le(()=>Be(E()),()=>{m(p,`preset:"${E().getCurrentNameForSearch()}" -is:suspended`)}),le(()=>i(),()=>{m(h,Number(i().desiredRetention.toFixed(2)))}),le(()=>a(h),()=>{m(v,B(a(h)))}),le(()=>a(h),()=>{m(L,J(a(h)))}),le(()=>a(q),()=>{a(q).daysToSimulate>3650&&Pe(q,a(q).daysToSimulate=3650)}),le(()=>Be(E()),()=>{wl(m(C,E().newCardsIgnoreReviewLimit),"$newCardsIgnoreReviewLimit",s)}),le(()=>a(P),()=>{m(D,oe(a(P)))}),le(()=>a(N),()=>{m(_,ve(a(N)))}),le(()=>a(P),()=>{var c,Y;m(x,(Y=(c=a(P))==null?void 0:c.reviews)!=null?Y:void 0)}),le(()=>(a(ye),a(De),a(ke),a(V)),()=>{m(Le,ar(a(ye),a(De),a(ke),a(V)))}),Fe(),Ce();var hr=wd(),yr=re(hr);tt(yr,{get defaultValue(){return j.desiredRetention},min:.7,max:.99,percentage:!0,get value(){return i().desiredRetention},set value(c){te(z,k(i).desiredRetention=c,k(i))},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("desiredRetention")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,Ds())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Cr=$(yr,2);ze(Cr,{get warning(){return a(v)},get className(){return a(L)}});var zt=$(Cr,2),wr=Q(zt);vd(wr,{defaultValue:[],get defaults(){return j.fsrsParams5},get value(){return i().fsrsParams5},set value(c){te(z,k(i).fsrsParams5=c,k(i))},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("modelParams")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,Is())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var _r=$(wr,2);pd(_r,{get placeholder(){return a(p)},get value(){return i().paramSearch},set value(c){te(z,k(i).paramSearch=c,k(i))},$$legacy:!0});var dt=$(_r,2),Ys=Q(dt);{var Ks=c=>{var Y=Z();R(()=>H(Y,tr())),d(c,Y)},Xs=c=>{var Y=Z();R(()=>H(Y,oo())),d(c,Y)};be(Ys,c=>{a(w)?c(Ks):c(Xs,!1)})}I(dt);var ft=$(dt,2),Zs=Q(ft);{var Js=c=>{var Y=Z();R(()=>H(Y,tr())),d(c,Y)},en=c=>{var Y=Z();R(()=>H(Y,lo())),d(c,Y)};be(Zs,c=>{a(o)?c(Js):c(en,!1)})}I(ft);var kr=$(ft,2),tn=Q(kr);{var rn=c=>{var Y=Z();R(()=>H(Y,a(D))),d(c,Y)},sn=c=>{var Y=Ge(),ie=re(Y);{var pe=se=>{var Oe=Z();R(()=>H(Oe,Ts({reviews:a(x)}))),d(se,Oe)};be(ie,se=>{a(x)!==void 0&&se(pe)},!0)}d(c,Y)};be(tn,c=>{a(w)||a(o)?c(rn):c(sn,!1)})}I(kr),I(zt);var Gt=$(zt,2),Pr=Q(Gt);ze(Pr,{get warning(){return a(l)},className:"alert-warning"});var Wt=$(Pr,2),nn=Q(Wt,!0);R(()=>H(nn,uo())),I(Wt),I(Gt);var jt=$(Gt,2),br=Q(jt);qe(br,{defaultValue:!1,get value(){return mt(),u()},set value(c){it(T,c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("rescheduleCardsOnChange")},children:(ie,pe)=>{var se=de(()=>Es());St(ie,{get title(){return a(se)}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var an=$(br,2);{var on=c=>{var Y=de(()=>Po());ze(c,{get warning(){return a(Y)}})};be(an,c=>{u()&&c(on)})}I(jt);var qt=$(jt,2),xr=Q(qt),Qt=Q(xr),ln=Q(Qt,!0);R(()=>H(ln,Ls())),I(Qt);var Sr=$(Qt,2);Ve(Sr,{defaultValue:365,min:1,max:3650,get value(){return a(q).daysToSimulate},set value(c){Pe(q,a(q).daysToSimulate=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("computeOptimalRetention")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,rs())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var gt=$(Sr,2),un=Q(gt);{var cn=c=>{var Y=Z();R(()=>H(Y,tr())),d(c,Y)},dn=c=>{var Y=Z();R(()=>H(Y,co())),d(c,Y)};be(un,c=>{a(O)?c(cn):c(dn,!1)})}I(gt);var Or=$(gt,2);{var fn=c=>{var Y=md(),ie=re(Y);R(()=>{var Oe;return H(ie,`${(Oe=Je(a(y)))!=null?Oe:""} `)});var pe=$(ie);{var se=Oe=>{var We=de(()=>bo());ze(Oe,{get warning(){return a(We)},className:"alert-warning"})};be(pe,Oe=>{a(y)-i().desiredRetention>=.01&&Oe(se)})}d(c,Y)};be(Or,c=>{a(y)&&c(fn)})}var gn=$(Or,2);{var vn=c=>{var Y=hd(),ie=Q(Y,!0);I(Y),R(()=>H(ie,a(_))),d(c,Y)};be(gn,c=>{a(O)&&c(vn)})}I(xr),I(qt);var Rr=$(qt,2),Ar=Q(Rr),Ut=Q(Ar),$n=Q(Ut,!0);R(()=>H($n,fo())),I(Ut);var Tr=$(Ut,2);Ve(Tr,{defaultValue:365,min:1,max:3650,get value(){return a(A).daysToSimulate},set value(c){Pe(A,a(A).daysToSimulate=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,rs())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Dr=$(Tr,2);Ve(Dr,{defaultValue:0,min:0,max:1e5,get value(){return a(A).deckSize},set value(c){Pe(A,a(A).deckSize=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,go())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Ir=$(Dr,2);Ve(Ir,{get defaultValue(){return i().newPerDay},min:0,max:9999,get value(){return a(A).newLimit},set value(c){Pe(A,a(A).newLimit=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,Rs())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Lr=$(Ir,2);Ve(Lr,{get defaultValue(){return i().reviewsPerDay},min:0,max:9999,get value(){return a(A).reviewLimit},set value(c){Pe(A,a(A).reviewLimit=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,As())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Er=$(Lr,2);Ve(Er,{get defaultValue(){return i().maximumReviewInterval},min:1,max:36500,get value(){return a(A).maxInterval},set value(c){Pe(A,a(A).maxInterval=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,pe)=>{ee();var se=Z();R(()=>H(se,Ps())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var vt=$(Er,2),pn=Q(vt,!0);R(()=>H(pn,vo())),I(vt);var $t=$(vt,2),mn=Q($t,!0);R(()=>H(mn,$o())),I($t);var Mr=$($t,2);{var hn=c=>{var Y=Z();R(()=>H(Y,po())),d(c,Y)};be(Mr,c=>{a(b)&&c(hn)})}var yn=$(Mr,2);Ul(yn,{children:(c,Y)=>{var ie=Cd(),pe=re(ie),se=Q(pe);Yl(se,{children:(Yt,Jd)=>{var Vr=yd(),Kt=re(Vr),yt=Q(Kt);st(yt);var Fr,_n=$(yt);R(()=>{var Ee;return H(_n,` ${(Ee=mo())!=null?Ee:""}`)}),I(Kt);var Xt=$(Kt,2),Ct=Q(Xt);st(Ct);var Hr,kn=$(Ct);R(()=>{var Ee;return H(kn,` ${(Ee=ho())!=null?Ee:""}`)}),I(Xt);var Br=$(Xt,2),wt=Q(Br);st(wt);var zr,Pn=$(wt);R(()=>{var Ee;return H(Pn,` ${(Ee=yo())!=null?Ee:""}`)}),I(Br),R(()=>{Fr!==(Fr=Me.count)&&(yt.value=(yt.__value=Me.count)==null?"":Me.count),Hr!==(Hr=Me.time)&&(Ct.value=(Ct.__value=Me.time)==null?"":Me.time),zr!==(zr=Me.memorized)&&(wt.value=(wt.__value=Me.memorized)==null?"":Me.memorized)}),rr(S,[],yt,()=>(Me.count,a(V)),Ee=>m(V,Ee)),rr(S,[],Ct,()=>(Me.time,a(V)),Ee=>m(V,Ee)),rr(S,[],wt,()=>(Me.memorized,a(V)),Ee=>m(V,Ee)),d(Yt,Vr)},$$slots:{default:!0}}),I(pe);var Oe=$(pe,2),We=Q(Oe);ou(We);var It=$(We);Kl(It);var Nr=$(It);Xl(Nr,{get bounds(){return a(De)}});var Cn=$(Nr);Zl(Cn,{get bounds(){return a(De)}}),I(Oe),xt(Oe,Yt=>m(ye,Yt),()=>a(ye));var wn=$(Oe,2);lu(wn,{get tableData(){return a(Le)}}),R(()=>He(Oe,"viewBox",`0 0 ${a(De).width} ${a(De).height}`)),d(c,ie)},$$slots:{default:!0}}),I(Ar),I(Rr),R(()=>{var c,Y,ie,pe,se;kt(dt,`btn ${(c=a(w)?"btn-warning":"btn-primary")!=null?c:""}`),dt.disabled=!a(w)&&a(g),kt(ft,`btn ${(Y=a(o)?"btn-warning":"btn-primary")!=null?Y:""}`),ft.disabled=!a(o)&&a(g),kt(gt,`btn ${(ie=a(O)?"btn-warning":"btn-primary")!=null?ie:""}`),gt.disabled=!a(O)&&a(g),kt(vt,`btn ${(pe=a(g)?"btn-warning":"btn-primary")!=null?pe:""}`),vt.disabled=a(g),kt($t,`btn ${(se=a(g)?"btn-warning":"btn-primary")!=null?se:""}`),$t.disabled=a(g)}),_e("click",dt,()=>ae()),_e("click",ft,()=>we()),_e("click",Wt,()=>Bt()),_e("click",gt,()=>ge()),_e("click",vt,()=>lt()),_e("click",$t,()=>Us()),d(r,hr),he()}var kd=X("<!> <!>",1);function Pd(r,e){me(e,!1);const s=xe(),t=()=>fe(f,"$fsrs",s);let n=W(e,"state",8),i=W(e,"api",8);const f=n().fsrs,u={fsrs:{title:"FSRS",help:xo(),url:$e.DeckOptions.fsrs},desiredRetention:{title:Ds(),help:So(),sched:Ne.FSRS},modelParams:{title:Is(),help:Oo()+`

`+Ro(),sched:Ne.FSRS},rescheduleCardsOnChange:{title:Es(),help:Ao(),sched:Ne.FSRS},computeOptimalRetention:{title:Ls(),help:To(),sched:Ne.FSRS}},l=Object.values(u);let g=F(),p=F();function h(v){a(g).show(),a(p).to(v)}Ce(),Qe(r,{title:"FSRS",children:(v,L)=>{Xe(v,{slotHost:K,get api(){return i()},children:(C,D)=>{var _=kd(),x=re(_);K(x,{children:(M,U)=>{qe(M,{defaultValue:!1,get value(){return mt(),t()},set value(z){it(f,z)},children:(z,j)=>{ne(z,{$$events:{click:()=>h(Object.keys(u).indexOf("fsrs"))},children:(T,G)=>{St(T,{get title(){return u.fsrs.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var S=$(x,2);{var E=M=>{_d(M,{get state(){return n()},openHelpModal:U=>h(Object.keys(u).indexOf(U))})};be(S,M=>{t()&&M(E)})}d(C,_)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(v,L)=>{Ze(v,{title:"FSRS",get url(){return $e.DeckOptions.fsrs},slot:"tooltip",get fsrs(){return t()},helpSections:l,$$events:{mount:C=>{m(g,C.detail.modal),m(p,C.detail.carousel)}}})}}}),he()}function bd(r,e){me(e,!1);let s=W(e,"html",8),t=W(e,"mounted",8);fr(t()),Ce();var n=Ge(),i=re(n);Do(i,s,!1,!1),d(r,n),he()}function xd(r){switch(r){case Ke.Seconds:return"s";case Ke.Minutes:return"m";case Ke.Hours:return"h";case Ke.Days:return"d";default:return""}}function Sd(r){switch(r){case"s":return Ke.Seconds;case"h":return Ke.Hours;case"d":return Ke.Days;default:return Ke.Minutes}}function Od(r){const e=r*60;let s=eu(e);return[Ke.Months,Ke.Years].includes(s)&&(s=Ke.Days),`${Math.round(tu(s,e))}${xd(s)}`}function Rd(r){const e=r.match(/(\d+)(.*)/);if(e){const[s,t,n]=e,i=Sd(n),f=ru(i)*parseInt(t,10);return Math.min(f,2**31)/60}else return 0}function Ad(r){return r.map(Od).join(" ")}function Td(r){return r.split(" ").map(Rd).filter(e=>e)}var Dd=X('<input type="text" class="svelte-f5c9s0">');function Id(r,e){me(e,!1);let s=W(e,"value",12),t=F();function n(){s(Td(this.value))}le(()=>Be(s()),()=>{m(t,Ad(s()))}),Fe(),Ce();var i=Dd();st(i),R(()=>gr(i,a(t))),_e("blur",i,n),d(r,i),he()}var Ld=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ed=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Qs(r,e){let s=W(e,"value",12),t=W(e,"defaultValue",8);var n=Ed(),i=re(n);Te(i,()=>({"--cols":13})),Se(i.lastChild,{children:(f,u)=>{var l=Ld(),g=re(l);Te(g,()=>({"--col-size":7})),ot(g.lastChild,{breakpoint:"xs",children:(h,v)=>{var L=Ge(),C=re(L);at(C,e,"default",{}),d(h,L)},$$slots:{default:!0}}),I(g);var p=$(g,2);Te(p,()=>({"--col-size":6})),ot(p.lastChild,{breakpoint:"xs",children:(h,v)=>{ct(h,{children:(L,C)=>{Id(L,{get value(){return s()},set value(D){s(D)},$$legacy:!0})},$$slots:{default:!0,revert:(L,C)=>{At(L,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(D){s(D)},$$legacy:!0})}}})},$$slots:{default:!0}}),I(p),d(f,l)},$$slots:{default:!0}}),I(i),d(r,n)}var Md=X("<!> <!> <!> <!> <!> <!>",1);function Nd(r,e){me(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=()=>fe(g,"$fsrs",s);let i=W(e,"state",8),f=W(e,"api",24,()=>({}));const u=i().currentConfig,l=i().defaults,g=i().fsrs;let p=F(),h=F();const v={relearningSteps:{title:Io(),help:Lo(),url:$e.DeckOptions.relearningSteps},minimumInterval:{title:Eo(),help:Mo(),url:$e.DeckOptions.minimumInterval,sched:Ne.SM2},leechThreshold:{title:No(),help:Vo(),url:$e.Leeches.leeches},leechAction:{title:Fo(),help:Ho(),url:$e.Leeches.waiting}},L=Object.values(v);let C=F(),D=F();function _(S){a(C).show(),a(D).to(S)}le(()=>(t(),n(),ut),()=>{const S=t().relearnSteps.length?t().relearnSteps[t().relearnSteps.length-1]/60/24:0;m(p,!n()&&S>t().minimumLapseInterval?Bo():""),m(h,n()&&S>=1?Ms():"")}),Fe(),Ce();var x=de(()=>ss());Qe(r,{get title(){return a(x)},children:(S,E)=>{Xe(S,{slotHost:K,get api(){return f()},children:(M,U)=>{var z=Md(),j=re(z);K(j,{children:(b,y)=>{Qs(b,{get defaultValue(){return l.relearnSteps},get value(){return t().relearnSteps},set value(N){te(u,k(t).relearnSteps=N,k(t))},children:(N,V)=>{ne(N,{$$events:{click:()=>_(Object.keys(v).indexOf("relearningSteps"))},children:(q,A)=>{ee();var B=Z();R(()=>H(B,v.relearningSteps.title)),d(q,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var T=$(j,2);K(T,{children:(b,y)=>{ze(b,{get warning(){return a(h)}})},$$slots:{default:!0}});var G=$(T,2);{var P=b=>{K(b,{children:(y,N)=>{Ve(y,{get defaultValue(){return l.minimumLapseInterval},min:1,get value(){return t().minimumLapseInterval},set value(V){te(u,k(t).minimumLapseInterval=V,k(t))},children:(V,q)=>{ne(V,{$$events:{click:()=>_(Object.keys(v).indexOf("minimumInterval"))},children:(A,B)=>{ee();var J=Z();R(()=>H(J,v.minimumInterval.title)),d(A,J)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}})};be(G,b=>{n()||b(P)})}var w=$(G,2);K(w,{children:(b,y)=>{ze(b,{get warning(){return a(p)}})},$$slots:{default:!0}});var o=$(w,2);K(o,{children:(b,y)=>{Ve(b,{get defaultValue(){return l.leechThreshold},min:1,get value(){return t().leechThreshold},set value(N){te(u,k(t).leechThreshold=N,k(t))},children:(N,V)=>{ne(N,{$$events:{click:()=>_(Object.keys(v).indexOf("leechThreshold"))},children:(q,A)=>{ee();var B=Z();R(()=>H(B,v.leechThreshold.title)),d(q,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var O=$(o,2);K(O,{children:(b,y)=>{var N=de(Nc);rt(b,{get defaultValue(){return l.leechAction},get choices(){return a(N)},breakpoint:"md",get value(){return t().leechAction},set value(V){te(u,k(t).leechAction=V,k(t))},children:(V,q)=>{ne(V,{$$events:{click:()=>_(Object.keys(v).indexOf("leechAction"))},children:(A,B)=>{ee();var J=Z();R(()=>H(J,v.leechAction.title)),d(A,J)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(M,z)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(S,E)=>{var M=de(()=>ss());Ze(S,{get title(){return a(M)},get url(){return $e.DeckOptions.lapses},slot:"tooltip",get fsrs(){return n()},helpSections:L,$$events:{mount:U=>{m(C,U.detail.modal),m(D,U.detail.carousel)}}})}}}),he()}var Vd=X("<!> <!> <!> <!>",1),Fd=X("<!> <!> <!> <!> <!>",1);function Hd(r,e){me(e,!1);const s=xe(),t=()=>fe(g,"$config",s),n=()=>fe(h,"$fsrs",s),i=F(),f=F();let u=W(e,"state",8),l=W(e,"api",24,()=>({}));const g=u().currentConfig,p=u().defaults,h=u().fsrs;let v=F(),L=F();const C={learningSteps:{title:zo(),help:Go(),url:$e.DeckOptions.learningSteps},graduatingInterval:{title:Wo(),help:jo(),url:$e.DeckOptions.graduatingInterval,sched:Ne.SM2},easyInterval:{title:qo(),help:Qo(),url:$e.DeckOptions.easyInterval,sched:Ne.SM2},insertionOrder:{title:Uo(),help:Yo(),url:$e.DeckOptions.insertionOrder}},D=Object.values(C);let _=F(),x=F();function S(M){a(_).show(),a(x).to(M)}le(()=>(t(),n()),()=>{const M=t().learnSteps.length?t().learnSteps[t().learnSteps.length-1]/60/24:0;m(v,M>t().graduatingIntervalGood?Ko():""),m(L,n()&&M>=1?Ms():"")}),le(()=>(t(),ut),()=>{m(i,t().graduatingIntervalGood>t().graduatingIntervalEasy?Xo():"")}),le(()=>(t(),ut),()=>{m(f,t().newCardInsertOrder==ir.RANDOM?Zo():"")}),Fe(),Ce();var E=de(()=>ns());Qe(r,{get title(){return a(E)},children:(M,U)=>{Xe(M,{slotHost:K,get api(){return l()},children:(z,j)=>{var T=Fd(),G=re(T);K(G,{children:(y,N)=>{Qs(y,{get defaultValue(){return p.learnSteps},get value(){return t().learnSteps},set value(V){te(g,k(t).learnSteps=V,k(t))},children:(V,q)=>{ne(V,{$$events:{click:()=>S(Object.keys(C).indexOf("learningSteps"))},children:(A,B)=>{ee();var J=Z();R(()=>H(J,C.learningSteps.title)),d(A,J)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var P=$(G,2);K(P,{children:(y,N)=>{ze(y,{get warning(){return a(L)}})},$$slots:{default:!0}});var w=$(P,2);{var o=y=>{var N=Vd(),V=re(N);K(V,{children:(J,ue)=>{Ve(J,{get defaultValue(){return p.graduatingIntervalGood},get value(){return t().graduatingIntervalGood},set value(ae){te(g,k(t).graduatingIntervalGood=ae,k(t))},children:(ae,we)=>{ne(ae,{$$events:{click:()=>S(Object.keys(C).indexOf("graduatingInterval"))},children:(ge,oe)=>{ee();var ve=Z();R(()=>H(ve,C.graduatingInterval.title)),d(ge,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(V,2);K(q,{children:(J,ue)=>{ze(J,{get warning(){return a(v)}})},$$slots:{default:!0}});var A=$(q,2);K(A,{children:(J,ue)=>{Ve(J,{get defaultValue(){return p.graduatingIntervalEasy},get value(){return t().graduatingIntervalEasy},set value(ae){te(g,k(t).graduatingIntervalEasy=ae,k(t))},children:(ae,we)=>{ne(ae,{$$events:{click:()=>S(Object.keys(C).indexOf("easyInterval"))},children:(ge,oe)=>{ee();var ve=Z();R(()=>H(ve,C.easyInterval.title)),d(ge,ve)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var B=$(A,2);K(B,{children:(J,ue)=>{ze(J,{get warning(){return a(i)}})},$$slots:{default:!0}}),d(y,N)};be(w,y=>{n()||y(o)})}var O=$(w,2);K(O,{children:(y,N)=>{var V=de(Vc);rt(y,{get defaultValue(){return p.newCardInsertOrder},get choices(){return a(V)},breakpoint:"md",get value(){return t().newCardInsertOrder},set value(q){te(g,k(t).newCardInsertOrder=q,k(t))},children:(q,A)=>{ne(q,{$$events:{click:()=>S(Object.keys(C).indexOf("insertionOrder"))},children:(B,J)=>{ee();var ue=Z();R(()=>H(ue,C.insertionOrder.title)),d(B,ue)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var b=$(O,2);K(b,{children:(y,N)=>{ze(y,{get warning(){return a(f)}})},$$slots:{default:!0}}),d(z,T)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(M,U)=>{var z=de(()=>ns());Ze(M,{get title(){return a(z)},get url(){return $e.DeckOptions.newCards},slot:"tooltip",helpSections:D,get fsrs(){return n()},$$events:{mount:j=>{m(_,j.detail.modal),m(x,j.detail.carousel)}}})}}}),he()}var Bd=X('<div class="show-timer-switch" style="display: contents;"><!></div>'),zd=X('<div class="show-timer-switch" style="display: contents;"><!></div>'),Gd=X("<!> <!> <!> <!>",1);function Wd(r,e){me(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=F();let i=W(e,"state",8),f=W(e,"api",8);const u=i().currentConfig,l=i().defaults,g={maximumAnswerSecs:{title:Jo(),help:el()},showAnswerTimer:{title:tl(),help:rl()},stopTimerOnAnswer:{title:sl(),help:nl()}},p=Object.values(g);let h=F(),v=F();function L(D){a(h).show(),a(v).to(D)}le(()=>(t(),ut),()=>{m(n,t().capAnswerTimeToSecs>600?al():"")}),Fe(),Ce();var C=de(()=>as());Qe(r,{get title(){return a(C)},children:(D,_)=>{Xe(D,{slotHost:K,get api(){return f()},children:(x,S)=>{var E=Gd(),M=re(E);K(M,{children:(T,G)=>{Ve(T,{get defaultValue(){return l.capAnswerTimeToSecs},min:1,max:7200,get value(){return t().capAnswerTimeToSecs},set value(P){te(u,k(t).capAnswerTimeToSecs=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>L(Object.keys(g).indexOf("maximumAnswerSecs"))},children:(o,O)=>{ee();var b=Z();R(()=>H(b,g.maximumAnswerSecs.title)),d(o,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var U=$(M,2);K(U,{children:(T,G)=>{ze(T,{get warning(){return a(n)}})},$$slots:{default:!0}});var z=$(U,2);K(z,{children:(T,G)=>{var P=Bd(),w=Q(P);qe(w,{get defaultValue(){return l.showTimer},get value(){return t().showTimer},set value(o){te(u,k(t).showTimer=o,k(t))},children:(o,O)=>{ne(o,{$$events:{click:()=>L(Object.keys(g).indexOf("showAnswerTimer"))},children:(b,y)=>{ee();var N=Z();R(()=>H(N,g.showAnswerTimer.title)),d(b,N)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),I(P),d(T,P)},$$slots:{default:!0}});var j=$(z,2);K(j,{children:(T,G)=>{var P=zd(),w=Q(P);qe(w,{get defaultValue(){return l.stopTimerOnAnswer},get value(){return t().stopTimerOnAnswer},set value(o){te(u,k(t).stopTimerOnAnswer=o,k(t))},children:(o,O)=>{ne(o,{$$events:{click:()=>L(Object.keys(g).indexOf("stopTimerOnAnswer"))},children:(b,y)=>{ee();var N=Z();R(()=>H(N,g.stopTimerOnAnswer.title)),d(b,N)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),I(P),d(T,P)},$$slots:{default:!0}}),d(x,E)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(D,_)=>{var x=de(()=>as());Ze(D,{get title(){return a(x)},get url(){return $e.DeckOptions.timer},slot:"tooltip",helpSections:p,$$events:{mount:S=>{m(h,S.detail.modal),m(v,S.detail.carousel)}}})}}}),he()}var jd=X('<tr><td class="day svelte-47inpr"> </td><td colspan="3" class="svelte-47inpr"><input type="range" list="easy_day_steplist" class="svelte-47inpr"></td></tr>'),qd=X('<div class="easy-days-settings svelte-47inpr"><table class="svelte-47inpr"><thead><tr><th class="svelte-47inpr"></th><th class="header min-col svelte-47inpr"><span> </span></th><th class="header text-center svelte-47inpr"><span> </span></th><th class="header normal-col svelte-47inpr"><span> </span></th></tr></thead><tbody></tbody></table></div>'),Qd=X("<!> <!>",1),Ud=X('<datalist id="easy_day_steplist"><option>0.5</option></datalist> <!>',1);function Yd(r,e){me(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=F();let i=W(e,"state",8),f=W(e,"api",8);const u=i().currentConfig,l=i().defaults,g=[il(),ol(),ll(),ul(),cl(),dl(),fl()];le(()=>t(),()=>{t().easyDaysPercentages.length!==7&&te(u,k(t).easyDaysPercentages=l.easyDaysPercentages.slice(),k(t))}),le(()=>(t(),ut),()=>{m(n,t().easyDaysPercentages.some(L=>L===1)?"":gl())}),Fe(),Ce();var p=Ud(),h=$(re(p),2),v=de(()=>ml());Qe(h,{get title(){return a(v)},children:(L,C)=>{Xe(L,{slotHost:K,get api(){return f()},children:(D,_)=>{var x=Qd(),S=re(x);K(S,{children:(M,U)=>{var z=qd(),j=Q(z),T=Q(j),G=Q(T),P=$(Q(G)),w=Q(P),o=Q(w,!0);R(()=>H(o,vl())),I(w),I(P);var O=$(P),b=Q(O),y=Q(b,!0);R(()=>H(y,$l())),I(b),I(O);var N=$(O),V=Q(N),q=Q(V,!0);R(()=>H(q,pl())),I(V),I(N),I(G),I(T);var A=$(T);Rt(A,5,()=>g,Ft,(B,J,ue)=>{var ae=jd(),we=Q(ae),ge=Q(we,!0);I(we);var oe=$(we),ve=Q(oe);st(ve),He(ve,"step",.5),He(ve,"max",1),He(ve,"min",0),I(oe),I(ae),R(()=>H(ge,a(J))),Dt(ve,()=>t().easyDaysPercentages[ue],Je=>te(u,k(t).easyDaysPercentages[ue]=Je,k(t))),d(B,ae)}),I(A),I(j),I(z),d(M,z)},$$slots:{default:!0}});var E=$(S,2);K(E,{children:(M,U)=>{ze(M,{get warning(){return a(n)}})},$$slots:{default:!0}}),d(D,x)},$$slots:{default:!0}})},$$slots:{default:!0}}),d(r,p),he()}var Kd=X("<div><!> <!> <!> <!> <!></div> <div><!> <!> <!> <!> <!> <!> <!></div>",1),Xd=X('<!> <div class="deck-options-page svelte-htbfcn"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>',1);function Zd(r,e){me(e,!1);const s=xe(),t=()=>fe(i,"$addons",s);let n=W(e,"state",8);const i=n().addonComponents;function f(){return n().currentAuxData}function u(T){it(i,[...t(),T])}function l(T,G){it(i,[...t(),{component:bd,html:T,mounted:G}])}const g={},p={},h={},v={},L={},C={},D={},_={},x={},S={};let E=F();Ce();var M=Xd(),U=re(M);nd(U,{get state(){return n()},$$events:{presetchange(...T){var G;(G=a(E))==null||G.apply(this,T)}}});var z=$(U,2),j=Q(z);return Te(j,()=>({"--gutter-inline":"0.25rem","--gutter-block":"0.75rem"})),yl(j.lastChild,{breakpoint:"sm",class:"container-columns",children:(T,G)=>{var P=Kd(),w=re(P),o=Q(w);Se(o,{class:"row-columns",children:(oe,ve)=>{ld(oe,{get state(){return n()},api:p,get onPresetChange(){return a(E)},set onPresetChange(Je){m(E,Je)},$$legacy:!0})},$$slots:{default:!0}});var O=$(o,2);Se(O,{class:"row-columns",children:(oe,ve)=>{Hd(oe,{get state(){return n()},api:h})},$$slots:{default:!0}});var b=$(O,2);Se(b,{class:"row-columns",children:(oe,ve)=>{Nd(oe,{get state(){return n()},api:v})},$$slots:{default:!0}});var y=$(b,2);Se(y,{class:"row-columns",children:(oe,ve)=>{cd(oe,{get state(){return n()},api:C})},$$slots:{default:!0}});var N=$(y,2);Se(N,{class:"row-columns",children:(oe,ve)=>{Pd(oe,{get state(){return n()},api:{}})},$$slots:{default:!0}}),I(w);var V=$(w,2),q=Q(V);Se(q,{class:"row-columns",children:(oe,ve)=>{jc(oe,{get state(){return n()},api:L})},$$slots:{default:!0}});var A=$(q,2);Se(A,{class:"row-columns",children:(oe,ve)=>{Ic(oe,{get state(){return n()},api:_})},$$slots:{default:!0}});var B=$(A,2);Se(B,{class:"row-columns",children:(oe,ve)=>{Wd(oe,{get state(){return n()},api:D})},$$slots:{default:!0}});var J=$(B,2);Se(J,{class:"row-columns",children:(oe,ve)=>{Gc(oe,{get state(){return n()},api:D})},$$slots:{default:!0}});var ue=$(J,2);{var ae=oe=>{Se(oe,{class:"row-columns",children:(ve,Je)=>{Zu(ve,{get state(){return n()}})},$$slots:{default:!0}})};be(ue,oe=>{t().length&&oe(ae)})}var we=$(ue,2);Se(we,{class:"row-columns",children:(oe,ve)=>{Yd(oe,{get state(){return n()},api:S})},$$slots:{default:!0}});var ge=$(we,2);Se(ge,{class:"row-columns",children:(oe,ve)=>{Tc(oe,{get state(){return n()},api:x})},$$slots:{default:!0}}),I(V),d(T,P)},$$slots:{default:!0}}),I(j),I(z),d(r,M),Ie(e,"auxData",f),Ie(e,"addSvelteAddon",u),Ie(e,"addHtmlAddon",l),Ie(e,"options",g),Ie(e,"dailyLimits",p),Ie(e,"newOptions",h),Ie(e,"lapseOptions",v),Ie(e,"buryOptions",L),Ie(e,"displayOrder",C),Ie(e,"timerOptions",D),Ie(e,"audioOptions",_),Ie(e,"advancedOptions",x),Ie(e,"easyDays",S),he({auxData:f,addSvelteAddon:u,addHtmlAddon:l,options:g,dailyLimits:p,newOptions:h,lapseOptions:v,buryOptions:L,displayOrder:C,timerOptions:D,audioOptions:_,advancedOptions:x,easyDays:S})}function Mf(r,e){me(e,!1);let s=W(e,"data",8),t=F();globalThis.anki||(globalThis.anki={}),globalThis.anki.deckOptionsPendingChanges=async()=>{await mr(),(!await s().state.isModified()||confirm(hl()))&&Fn({})},fr(()=>{globalThis.$deckOptions=new Promise((n,i)=>{n(a(t))}),s().state.resolveOriginalConfigs(),Hn({})}),Ce(),xt(Zd(r,{get state(){return s().state},$$legacy:!0}),n=>m(t,n),()=>a(t)),he()}export{Mf as component,Ef as universal};
