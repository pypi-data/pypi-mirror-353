import{i as q,d as H,h as o,e as U,j,k as l,q as z,U as I,o as N,u as b,v as k,w,x as A,y as B,z as G,A as _,B as L,C as P,D as Z}from"./runtime.NF8NW0fQ.mjs";const v=0,f=1,d=2;function J(C,D,E,h,T){o&&U();var p=C,m=q(),g=Z,a=I,s,n,i,c=(m?N:b)(void 0),y=(m?N:b)(void 0),u=!1;function t(e,r){u=!0,r&&(k(x),w(x),A(g));try{e===f&&h&&(n?B(n):n=G(()=>h(p,c))),e!==v&&s&&_(s,()=>s=null),e!==f&&n&&_(n,()=>n=null),e!==d&&i&&_(i,()=>i=null)}finally{r&&(A(null),w(null),k(null),L())}}var x=H(()=>{if(a!==(a=D())){if(j(a)){var e=a;u=!1,e.then(r=>{e===a&&(l(c,r),t(f,!0))},r=>{if(e===a)throw l(y,r),t(d,!0),y.v}),o||z(()=>{u||t(v,!0)})}else l(c,a),t(f,!1);return()=>a=I}});o&&(p=P)}export{J as a};
