import{c as m}from"../chunks/backend.CuvxjHSt.mjs";import{a as p,b as u}from"../chunks/disclose-version.CZXCSga2.mjs";import{i as y}from"../chunks/legacy.Cvgq_wkp.mjs";import{p as C,b as $,c as k,N as l,f as g,r as P}from"../chunks/runtime.NF8NW0fQ.mjs";import{p as S,i as v}from"../chunks/props.C4_rjmFK.mjs";import{s as T,b as j}from"../chunks/store.CrzbHEEA.mjs";import{p as B}from"../chunks/stores.D6-JJ4tL.mjs";import{C as _}from"../chunks/CardInfo.BF455RB4.mjs";import{g as O}from"../chunks/entry.PoL35g6e.mjs";function h(t){try{return BigInt(t)}catch{return null}}const x=async({params:t})=>{const a=h(t.cardId),s=a!==null?await m({cid:a}):null,n=h(t.previousId),e=n!==null?await m({cid:n}):null;return{currentInfo:s,previousInfo:e}},K=Object.freeze(Object.defineProperty({__proto__:null,load:x},Symbol.toStringTag,{value:"Module"}));var z=u("<h3>Current</h3> <!>",1),M=u("<h3>Previous</h3> <!>",1),N=u("<center><!> <!></center>");function L(t,a){C(a,!1);const s=T(),n=()=>j(B,"$page",s);let e=S(a,"data",8);const f=n().url.searchParams.get("revlog")!=="0";globalThis.anki||(globalThis.anki={}),globalThis.anki.updateCardInfos=async r=>{const o=`/card-info/${r}`;return O(o).catch(()=>{window.location.href=o})},y();var i=N(),d=k(i);{var I=r=>{var o=z(),c=l(g(o),2);_(c,{get stats(){return e().currentInfo},showRevlog:f}),p(r,o)};v(d,r=>{e().currentInfo&&r(I)})}var b=l(d,2);{var w=r=>{var o=M(),c=l(g(o),2);_(c,{get stats(){return e().previousInfo},showRevlog:f}),p(r,o)};v(b,r=>{e().previousInfo&&r(w)})}P(i),p(t,i),$()}export{L as component,K as universal};
