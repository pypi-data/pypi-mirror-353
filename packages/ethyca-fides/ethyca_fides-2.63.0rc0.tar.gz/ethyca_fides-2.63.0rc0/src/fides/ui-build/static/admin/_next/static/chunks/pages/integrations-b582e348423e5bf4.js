(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{9387:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return t(22406)}])},22406:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var i,o,l,r,a=t(24246),s=t(4454),c=t(27378),d=t(7617),u=t(18225),x=t(77213),h=t(58754),p=t(14207),g=t(8133),j=t(66250),C=t(15987),m=t(75595),v=e=>{let{integrationType:n,onConfigure:t,onCancel:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{integration:null==n?void 0:n.placeholder,onConfigureClick:t}),null==n?void 0:n.overview,(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:i,children:"Cancel"})]})]})},f=t(25980),y=t(62165);(i=l||(l={})).ALL="All",i.DATABASE="Database",i.DATA_CATALOG="Data Catalog",i.DATA_WAREHOUSE="Data Warehouse",i.IDENTITY_PROVIDER="Identity Provider",i.WEBSITE="Website",i.MANUAL="Manual";var _=e=>{var n;let{flags:t}=(0,y.Vb)(),i=Object.values(l).filter(e=>("Identity Provider"!==e||t.oktaMonitor)&&("Manual"!==e||t.alphaNewManualIntegration)),[o,r]=(0,c.useState)(0),a=i[o],[s,d]=(0,c.useState)(!1),u="All"!==a,x=null!==(n=null==e?void 0:e.filter(e=>!u||e.category===a))&&void 0!==n?n:[];return{tabs:i,tabIndex:o,anyFiltersApplied:u,isFiltering:s,onChangeFilter:e=>{d(!0),r(e),setTimeout(()=>d(!1),100)},filteredTypes:x}},b=e=>{let{onCancel:n,onDetailClick:t,onConfigureClick:i}=e,{tabIndex:o,onChangeFilter:l,isFiltering:r,filteredTypes:c,tabs:x}=_(j.FO),{flags:{oktaMonitor:h,alphaNewManualIntegration:p}}=(0,f.Vb)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.mQc,{index:o,onChange:l,mb:4,children:(0,a.jsx)(s.tdY,{children:x.map(e=>(0,a.jsx)(d.q,{label:e},e))})}),r?(0,a.jsx)(u.Z,{}):(0,a.jsx)(s.kCb,{direction:"column",children:c.map(e=>(h||"okta"!==e.placeholder.connection_type)&&(p||"manual_webhook"!==e.placeholder.connection_type)?(0,a.jsx)(m.Z,{integration:e.placeholder,onConfigureClick:()=>i(e),otherButtons:(0,a.jsx)(s.wpx,{onClick:()=>t(e),children:"Details"})},e.placeholder.key):null)}),(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:n,children:"Cancel"})]})]})},k=t(64176);(o=r||(r={})).LIST_VIEW="list-view",o.DETAIL="detail",o.FORM="form";var A=e=>{let{isOpen:n,onClose:t}=e,[i,o]=(0,c.useState)("list-view"),[l,r]=(0,c.useState)(),s=(0,k.Z)(null==l?void 0:l.placeholder.connection_type),{description:d}=(0,j.ZP)(null==l?void 0:l.placeholder.connection_type),u=()=>{o("list-view"),r(void 0),t()},x=l?"".concat(l.placeholder.name," Integration"):"Add integration";return(0,a.jsxs)(g.Z,{size:"2xl",isOpen:n,onClose:u,title:x,children:["list-view"===i&&(0,a.jsx)(b,{onCancel:u,onDetailClick:e=>{o("detail"),r(e)},onConfigureClick:e=>{o("form"),r(e)}}),"detail"===i&&(0,a.jsx)(v,{integrationType:l,onConfigure:()=>o("form"),onCancel:u}),"form"===i&&(0,a.jsx)(C.Z,{connectionOption:s,onCancel:u,description:d})]})},w=t(86677),T=t(77830),I=t(29379),Z=e=>{let{isFiltered:n,onOpenAddModal:t}=e;return(0,a.jsxs)(s.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,a.jsx)(s.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:n?"No integrations match your filters":"You have not configured any integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,a.jsx)(s.wpx,{type:"primary",onClick:t,className:"mt-4",children:"Add integration"})]})},O=e=>{let{integrations:n,isFiltered:t,onOpenAddModal:i}=e,o=(0,w.useRouter)();return(0,a.jsx)(s.xuv,{marginTop:"24px",children:n.length?n.map(e=>{var n;let t=!(null===(n=(0,j.ZP)(e.connection_type).enabledFeatures)||void 0===n?void 0:n.includes(I.j.WITHOUT_CONNECTION));return(0,a.jsx)(m.Z,{integration:e,showTestNotice:t,configureButtonLabel:"Manage",onConfigureClick:()=>o.push("".concat(T.KH,"/").concat(e.key))},e.key)}):(0,a.jsx)(Z,{onOpenAddModal:i,isFiltered:t})})},E=t(40774),N=()=>{let[e,n]=(0,c.useState)(1),[t,i]=(0,c.useState)(50),{data:o,isLoading:l}=(0,p.AZ)({connection_type:j.jq,size:t,page:e}),{items:r,total:g}=null!=o?o:{},{onOpen:C,isOpen:m,onClose:v}=(0,s.qY0)(),{tabIndex:f,onChangeFilter:y,anyFiltersApplied:b,isFiltering:k,filteredTypes:w,tabs:T}=_(null==r?void 0:r.map(e=>(0,j.ZP)(e.connection_type))),I=(0,c.useMemo)(()=>{var e;return null!==(e=null==r?void 0:r.filter(e=>w.some(n=>n.placeholder.connection_type===e.connection_type)))&&void 0!==e?e:[]},[r,w]);return(0,a.jsxs)(x.Z,{title:"Integrations",children:[(0,a.jsx)(h.Z,{heading:"Integrations",breadcrumbItems:[{title:"All integrations"}],children:(0,a.jsx)(E.Z,{})}),(0,a.jsxs)(s.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,a.jsx)(s.mQc,{index:f,onChange:e=>{n(1),y(e)},w:"full",children:(0,a.jsx)(s.tdY,{children:T.map(e=>(0,a.jsx)(d.q,{label:e},e))})}),(0,a.jsx)(s.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,a.jsx)(s.wpx,{onClick:C,"data-testid":"add-integration-btn",icon:(0,a.jsx)(s.xPt,{}),iconPosition:"end",children:"Add Integration"})})]}),l||k?(0,a.jsx)(u.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O,{integrations:I,onOpenAddModal:C,isFiltered:b}),!!g&&g>10&&(0,a.jsx)(s.B7X,{"data-testid":"pagination-controls",size:"small",total:g,pageSize:t,current:e,onChange:(e,t)=>{n(e),i(t)},showSizeChanger:!0})]}),(0,a.jsx)(A,{isOpen:m,onClose:v})]})}}},function(e){e.O(0,[8033,6060,2858,2866,9278,3662,641,7553,4481,6202,9033,2888,9774,179],function(){return e(e.s=9387)}),_N_E=e.O()}]);