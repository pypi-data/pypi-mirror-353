import{aI as r,aJ as G,aK as Y,aL as e,aM as se,aN as J,aO as re,aP as P,aQ as ae,aR as ne,aS as U,aT as u,aU as K,aV as te,aW as le,aX as W,aY as q,aZ as g,a_ as n,a$ as T,b0 as ie,b1 as Z,b2 as oe,b3 as ce,b4 as de,b5 as he,b6 as fe}from"./main.js";var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"}}]},name:"audit",theme:"outlined"},xe=function(d,c){return r.createElement(G,Y({},d,{ref:c,icon:ue}))},me=r.forwardRef(xe),ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z"}}]},name:"sort-ascending",theme:"outlined"},pe=function(d,c){return r.createElement(G,Y({},d,{ref:c,icon:ge}))},be=r.forwardRef(pe),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM310.3 167.1a8 8 0 00-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z"}}]},name:"sort-descending",theme:"outlined"},ye=function(d,c){return r.createElement(G,Y({},d,{ref:c,icon:ve}))},je=r.forwardRef(ye);te.config({paths:{vs:"/monaco-editor/min/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}});const{TabPane:ee}=J,we=({commitId:o,onClose:d})=>{const[c,A]=r.useState({diff:""}),[h,w]=r.useState(null),[f,y]=r.useState(null),[N,E]=r.useState(!1),[x,F]=r.useState("split"),[i,j]=r.useState(null),[L,$]=r.useState(!1),[z,X]=r.useState("1"),m=r.useRef(null),p=r.useRef(null),b=r.useRef(null),C=r.useRef(null),_=async()=>{if(o){$(!0);try{const t=encodeURIComponent(o),s=await U.get(`/api/history/commit-diff/${t}`);s.data.success?A({diff:s.data.diff,file_changes:s.data.file_changes}):u.error(s.data.message||"获取diff失败")}catch(t){console.error("Error fetching diff:",t),u.error("获取diff失败")}finally{$(!1)}}},k=async t=>{if(o)try{E(!0),y(null),m.current=null,p.current=null,b.current=null;const s=encodeURIComponent(o),a=await U.get(`/api/history/file-diff/${s}?file_path=${encodeURIComponent(t)}`);a.data.success?y(a.data.file_diff):u.error(a.data.message||"获取文件差异失败")}catch(s){console.error("Error fetching file diff:",s),u.error("获取文件差异失败")}finally{E(!1)}},B=t=>{h===t?(w(null),y(null),m.current=null,p.current=null,b.current=null,j(null)):(w(t),k(t),j(null))},S=r.useCallback(t=>{m.current=t},[]),H=r.useCallback(t=>{p.current=t},[]),D=r.useCallback(t=>{b.current=t},[]),v=t=>{var l;const s=(l=t.split(".").pop())==null?void 0:l.toLowerCase();return{js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",java:"java",c:"c",cpp:"cpp",cs:"csharp",go:"go",rs:"rust",rb:"ruby",php:"php",html:"html",css:"css",scss:"scss",json:"json",md:"markdown",yml:"yaml",yaml:"yaml",xml:"xml",sh:"shell",bash:"shell",txt:"plaintext"}[s||""]||"plaintext"},R=({viewType:t})=>{const s=i===t;return e.jsx("button",{className:"ml-2 text-gray-400 hover:text-white transition-colors",onClick:a=>{a.stopPropagation(),j(s?null:t)},title:s?"恢复正常视图":"最大化视图",children:s?e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}):e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})},V=()=>{if(!h||!f)return null;const t=v(h),s=`diff-${o}-${h}-${x}`,a=`before-${o}-${h}`,l=`after-${o}-${h}`,M={readOnly:!0,scrollBeyondLastLine:!1,minimap:{enabled:!1},lineNumbers:"on",wordWrap:"on",automaticLayout:!0,scrollbar:{vertical:"visible",horizontal:"visible",verticalScrollbarSize:14,horizontalScrollbarSize:14}};return x==="unified"?e.jsxs("div",{ref:C,className:"bg-gray-900 rounded-lg border border-gray-700",style:{height:"500px",width:"100%",overflow:"hidden"},children:[e.jsxs("div",{className:"py-1 px-3 bg-gray-800 border-b border-gray-700 text-xs font-medium text-white flex justify-between items-center",children:[e.jsx("span",{children:"差异视图"}),e.jsx(R,{viewType:"diff"})]}),e.jsx(K,{height:"calc(100% - 26px)",width:"100%",defaultLanguage:"diff",value:f.diff_content||"",theme:"vs-dark",onMount:D,options:M,loading:e.jsx("div",{className:"flex items-center justify-center h-full text-white",children:"加载中..."})},s)]}):e.jsxs("div",{ref:C,className:"grid grid-cols-2 gap-2",style:{height:"500px",width:"100%"},children:[(i===null||i==="before")&&e.jsxs("div",{className:`bg-gray-900 rounded-lg border border-gray-700 ${i==="before"?"col-span-2":""}`,style:{overflow:"hidden"},children:[e.jsxs("div",{className:"py-1 px-3 bg-gray-800 border-b border-gray-700 text-xs font-medium text-white flex justify-between items-center",children:[e.jsxs("span",{children:["修改前 (",f.file_status==="added"?"新文件":h,")"]}),e.jsx(R,{viewType:"before"})]}),e.jsx(K,{height:"calc(100% - 26px)",width:"100%",defaultLanguage:t,value:f.before_content||"",theme:"vs-dark",onMount:S,options:M,loading:e.jsx("div",{className:"flex items-center justify-center h-full text-white",children:"加载中..."})},a)]}),(i===null||i==="after")&&e.jsxs("div",{className:`bg-gray-900 rounded-lg border border-gray-700 ${i==="after"?"col-span-2":""}`,style:{overflow:"hidden"},children:[e.jsxs("div",{className:"py-1 px-3 bg-gray-800 border-b border-gray-700 text-xs font-medium text-white flex justify-between items-center",children:[e.jsxs("span",{children:["修改后 (",f.file_status==="deleted"?"文件已删除":h,")"]}),e.jsx(R,{viewType:"after"})]}),e.jsx(K,{height:"calc(100% - 26px)",width:"100%",defaultLanguage:t,value:f.after_content||"",theme:"vs-dark",onMount:H,options:M,loading:e.jsx("div",{className:"flex items-center justify-center h-full text-white",children:"加载中..."})},l)]})]})};r.useEffect(()=>{o&&_()},[o]);const I={background:"#1F2937",borderBottom:"1px solid #374151",margin:0,padding:"0 16px"},O=(t,s)=>e.jsx(s,{...t,style:I,className:"custom-tabs-bar"});return e.jsxs("div",{className:"flex flex-col h-full bg-[#111827] overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#1F2937] border-b border-[#374151]",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"代码变更详情"}),e.jsx(se,{children:d&&e.jsx("button",{className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm",onClick:d,children:"关闭"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs(J,{activeKey:z,onChange:X,type:"card",className:"diff-viewer-tabs",renderTabBar:O,style:{background:"#111827"},children:[e.jsx(ee,{tab:e.jsx("div",{className:`py-2 px-4 ${z==="1"?"text-white font-medium":"text-gray-400"}`,children:"文件列表"}),children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"space-y-2 mb-4",children:L?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):c.file_changes&&c.file_changes.length>0?c.file_changes.map((t,s)=>e.jsx("div",{className:`text-sm py-2 px-3 rounded cursor-pointer ${h===t.path?"bg-gray-700 border-l-2 border-indigo-500":"hover:bg-gray-750 bg-gray-800"}`,onClick:()=>B(t.path),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-2 ${t.change_type==="added"?"bg-green-500":t.change_type==="modified"?"bg-yellow-500":t.change_type==="deleted"?"bg-red-500":"bg-blue-500"}`}),e.jsx("span",{className:`font-mono ${t.change_type==="deleted"?"line-through text-gray-500":"text-white"}`,children:t.path}),e.jsx(re,{className:"ml-2 text-gray-400"})]})},s)):e.jsx("div",{className:"text-center text-white py-8",children:e.jsx("p",{children:"没有文件变更信息"})})}),N&&e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),h&&f&&!N&&e.jsx("div",{className:"flex justify-end mb-3",children:e.jsxs(P.Group,{value:x,onChange:t=>F(t.target.value),buttonStyle:"solid",children:[e.jsx(P.Button,{value:"split",style:{color:x==="split"?"#fff":"#1f2937"},children:"分割视图"}),e.jsx(P.Button,{value:"unified",style:{color:x==="unified"?"#fff":"#1f2937"},children:"统一视图"})]})}),h&&f&&!N&&V()]})},"1"),e.jsx(ee,{tab:e.jsx("div",{className:`py-2 px-4 ${z==="2"?"text-white font-medium":"text-gray-400"}`,children:"原始差异"}),children:e.jsx("div",{className:"p-4",children:L?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):e.jsx(ae,{language:"diff",style:ne,customStyle:{padding:"12px",borderRadius:"4px",overflow:"auto",maxHeight:"600px"},children:c.diff||""})})},"2")]})})]})};te.config({paths:{vs:"/monaco-editor/min/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}});const{Text:Q}=oe,{TabPane:Ce}=J,ke=()=>{const[o,d]=r.useState([]),[c,A]=r.useState(!1),[h,w]=r.useState(!1),[f,y]=r.useState(!1),[N,E]=r.useState([]),[x,F]=r.useState(null),[i,j]=r.useState(null),[L,$]=r.useState([]),[z,X]=r.useState(!1),[m,p]=r.useState({show:!1,commitHash:"",commitMessage:""}),[b,C]=r.useState(!1),[_,k]=r.useState(null),[B,S]=r.useState(null),H=s=>{if(!s){u.info(n("noAssociatedCodeChanges"));return}F(s)},D=()=>{i&&(j(null),d(L))},v=async()=>{w(!0);try{const s=await U.get("/api/history/validate-and-load");if(s.data.success){const a=s.data.queries;if($(a),i){const l=a.filter(M=>M.response===i);d(l)}else d(a)}else u.error(s.data.message||n("loadHistoryFailed"))}catch(s){console.error("Error loading queries:",s),u.error(n("loadFailed"))}finally{w(!1)}};le.useEffect(()=>{v();const s=W.subscribe(q.CODING.TASK_COMPLETE,l=>{console.log("Coding task completed, reloading queries",l),v()}),a=W.subscribe(q.HISTORY.FILTER_BY_COMMIT,l=>{console.log("Filtering history by commit hash:",l.commitHash),j(l.commitHash),v()});return()=>{s(),a()}},[i]);const R=(s,a,l)=>{s.stopPropagation(),p({show:!0,commitHash:a,commitMessage:l})},V=async()=>{try{C(!0),k(null),S(null);const s=await fetch(`/api/commits/${m.commitHash}/revert`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok){const l=await s.json();throw new Error(l.detail||n("revertCommitFailed"))}const a=await s.json();S(`${n("revertCommitSuccessPrefix")}: ${a.new_commit_hash.substring(0,7)}`),p(l=>({...l,show:!1})),v(),setTimeout(()=>{S(null)},5e3)}catch(s){k(s instanceof Error?s.message:"撤销提交失败"),console.error("Failed to revert commit:",s)}finally{C(!1)}},I=()=>{p({show:!1,commitHash:"",commitMessage:""}),k(null)},O=(s,a)=>{s.stopPropagation(),W.publish(q.CHAT.NEW_MESSAGE,{action:"review",commit_id:a,mode:"chat"}),u.success(n("reviewCommandSent"))},t=(s,a)=>{s.stopPropagation(),navigator.clipboard.writeText(a).then(()=>{u.success(n("commitCopied"))}).catch(l=>{console.error("复制失败:",l),u.error(n("copyFailed"))})};return x?e.jsx(we,{commitId:x,onClose:()=>F(null)}):e.jsxs("div",{className:"flex flex-col bg-[#111827] overflow-hidden",style:{height:"650px"},children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#1F2937] border-b border-[#374151] sticky top-0 z-10 shadow-md",children:[e.jsxs(se,{children:[e.jsx(g,{icon:c?e.jsx(be,{}):e.jsx(je,{}),onClick:()=>{A(!c),d([...o].reverse())},children:c?n("ascending"):n("descending")}),e.jsx(g,{type:"primary",onClick:v,loading:h,children:n("refresh")}),i&&e.jsx(g,{type:"default",onClick:D,danger:!0,children:n("clearFilter")||"清除过滤"})]}),i&&e.jsxs("div",{className:"px-2 py-1 bg-blue-900/30 text-blue-300 rounded-md text-xs flex items-center",children:[e.jsxs("span",{children:[n("filteringByCommit")||"按提交过滤",":"]}),e.jsx("code",{className:"ml-1 font-mono",children:i.substring(0,8)})]})]}),m.show&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 border border-gray-700",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:n("confirmRevertTitle")}),e.jsx("p",{className:"text-gray-300 mb-6",children:n("confirmRevertMessage")}),e.jsxs("div",{className:"bg-gray-900 p-3 rounded mb-6 border border-gray-700",children:[e.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:[n("commitInfoLabel"),":"]}),e.jsx("p",{className:"text-white",children:m.commitMessage}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Commit: ",m.commitHash.substring(0,7)]})]}),_&&e.jsx("div",{className:"bg-red-900 bg-opacity-25 text-red-400 p-3 rounded mb-4",children:_}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",onClick:I,disabled:b,children:n("cancel")}),e.jsx("button",{className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors flex items-center",onClick:V,disabled:b,children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("processing"),"..."]}):e.jsx(e.Fragment,{children:n("confirmRevertButton")})})]})]})}),B&&e.jsx("div",{className:"fixed top-4 right-4 bg-green-800 text-green-100 p-4 rounded-lg shadow-lg z-50 animate-fade-in-out",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:B})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[i&&o.length===0&&e.jsx("div",{className:"text-center p-8 text-gray-400",children:e.jsx("p",{children:n("noFilteredResults")||"没有匹配的历史记录"})}),e.jsx(T,{dataSource:o,renderItem:s=>e.jsx(T.Item,{className:"border-b border-[#374151] last:border-b-0",children:e.jsx(ie,{className:`w-full bg-[#1F2937] border-[#374151] hover:bg-[#2D3748] transition-colors duration-200 
                                    ${i&&s.response===i?"border-blue-500 border-2":""}`,title:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(Z,{style:{marginRight:"8px",color:"#9CA3AF"}}),e.jsx(Q,{style:{color:"#E5E7EB"},children:`${s.file_number}_chat_action.yml`}),s.timestamp&&e.jsx(Q,{style:{marginLeft:"10px",fontSize:"12px",color:"#9CA3AF"},children:s.timestamp})]}),e.jsxs("div",{className:"flex space-x-2",children:[s.urls&&s.urls.length>0&&e.jsx(g,{icon:e.jsx(Z,{}),type:"link",style:{color:"#60A5FA"},onClick:()=>{E(s.urls||[]),y(!0)},children:n("viewContext")}),s.response&&!s.is_reverted&&e.jsxs(e.Fragment,{children:[e.jsx(g,{icon:e.jsx(ce,{}),type:"link",style:{color:"#F87171"},onClick:a=>R(a,s.response,s.query),children:n("revert")}),e.jsx(g,{icon:e.jsx(me,{}),type:"link",style:{color:"#10B981"},onClick:a=>O(a,s.response),children:n("reviewChanges")}),e.jsx(g,{icon:e.jsx(de,{}),type:"link",style:{color:"#6366F1"},onClick:a=>t(a,s.response),children:n("copyCommit")})]}),e.jsx(g,{icon:e.jsx(he,{}),type:"link",style:{color:s.response?"#60A5FA":"#9CA3AF"},onClick:()=>H(s.response),disabled:!s.response,children:n("viewChanges")})]})]}),children:e.jsxs("div",{className:`${s.is_reverted?"border border-red-500 rounded-lg p-2 relative":""}`,children:[s.is_reverted&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:n("reverted")}),e.jsx("div",{style:{backgroundColor:"#111827",padding:"12px",borderRadius:"4px",color:"#E5E7EB",border:"1px solid #374151",maxWidth:"100%",fontSize:"14px",lineHeight:"1.6",whiteSpace:"normal",wordBreak:"break-word"},children:s.query})]})})})}),e.jsx(fe,{title:n("contextFileListTitle"),open:f,onCancel:()=>y(!1),width:600,footer:null,className:"dark-theme-modal",styles:{content:{backgroundColor:"#1f2937",padding:"20px"},header:{backgroundColor:"#1f2937",borderBottom:"1px solid #374151",color:"#ffffff"},body:{backgroundColor:"#1f2937",color:"#ffffff"},mask:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},children:e.jsx(T,{dataSource:N,className:"dark-theme-list max-h-96 overflow-y-auto",renderItem:s=>e.jsx(T.Item,{className:"text-gray-200 border-gray-700",children:e.jsx("div",{className:"flex items-center w-full",children:e.jsx(Q,{style:{color:"#E5E7EB"},children:s})})})})})]})]})};export{ke as default};
