"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[7565],{57565:(e,s,t)=>{t.r(s),t.d(s,{ExerciseTake:()=>b,default:()=>S});var n=t(9387),a=t(20568),i=t(3345),r=t(90537),l=t(98754),c=t(3556),o=t(46508),d=t(99180),u=t(80006),h=t(38621),x=t(42968),p=t(17402),f=t(55388),j=t(63222),g=t(27384),m=t(17810),y=t(54087),v=t(23530),A=t(97734),k=t(50906),E=t(18683);const b=()=>{const{accountHandle:e,spaceHandle:s,exerciseId:t}=(0,a.g)();if(!t)return(0,E.jsx)(E.Fragment,{});const b=(0,k.mt)(),S=(0,f.LC)(),$=(0,m.J)(),{kernelManager:C,defaultKernel:Q}=(0,x.PD)(),P=(b.layout().organization,b.layout().space),{refreshExercise:T,getExercise:_,cloneExercise:w}=(0,y.E)(),R=(0,v.Z)(),V=(0,i.S)(),{enqueueToast:z}=(0,A.d)(),[H]=(0,n.useState)("exercise-student"),[I,q]=(0,n.useState)(!1),[D,F]=(0,n.useState)(),[M,L]=(0,n.useState)((0,p.YG)()),[Y,G]=(0,n.useState)(!1),N=S.getInput(H),B=(0,n.useMemo)((()=>Q),[C]),J=S.getGradeSuccess(H);(0,n.useEffect)((()=>{J&&(G(J),setTimeout((()=>{G(!1)}),5e3))}),[J]),(0,n.useEffect)((()=>{T(t).then((e=>{if(e.success){const e=_(t);e||R("/"),F(e)}}))}),[]);const K=(0,n.useCallback)((async e=>{V({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((e=>{e&&w(t).then((e=>{e.success&&(z(e.message,{variant:"success"}),b.layout().triggerItemsRefresh(),R(`/${$.handle}/library/exercises`))}))}))}),[V,D]);return D?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(r.z,{children:(0,E.jsxs)(l.A,{display:"flex",children:[(0,E.jsx)(l.A,{flex:1,children:(0,E.jsx)(c.A,{sx:{fontSize:3},children:"Exercise"})}),(0,E.jsx)(l.A,{children:(0,E.jsxs)(o.A,{children:[$&&D&&e&&s&&(0,E.jsx)(d.Q,{variant:"default",size:"small",onClick:()=>R(`/${e}/${s}/exercises/${D.id}`),children:"Edit"}),$&&D&&P&&(0,E.jsx)(d.Q,{variant:"default",size:"small",leadingVisual:h.Nc$,onClick:K,children:"Clone"})]})})]})}),(0,E.jsxs)(l.A,{children:[(0,E.jsx)(u.A,{children:D.name}),(0,E.jsx)(u.A,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:D.description})]}),(0,E.jsx)(l.A,{children:(0,E.jsx)(j.k,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:B,id:H,codePre:D.codePre,code:D.codeQuestion,receipt:M})}),(0,E.jsxs)(l.A,{display:"flex",sx:{gap:3},pt:2,pb:2,children:[(0,E.jsx)(l.A,{children:(0,E.jsx)(d.Q,{variant:"danger",leadingVisual:h.uIH,onClick:e=>{e.preventDefault(),q(!I)},children:"Show help"})}),(0,E.jsx)(l.A,{children:(0,E.jsx)(d.Q,{variant:"default",leadingVisual:h.Fjq,onClick:e=>{e.preventDefault(),S.setExecuteRequest(H,D.codeQuestion)},children:"Reset"})})]}),I&&(0,E.jsx)(u.A,{as:"p",color:"danger.fg",p:2,children:D.help??"No help available."}),(0,E.jsxs)(l.A,{children:[(0,E.jsx)(d.Q,{variant:"default",leadingVisual:h.Qvf,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),S.setExecuteRequest(H,`\nsetup_state(stu_code = """${D.codePre}\n${N}""", sol_code = """${D.codePre}\n${D.codeSolution}""")\n${D.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${M}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,E.jsx)(u.A,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),Y&&(0,E.jsx)(g.e,{})]}):(0,E.jsx)(E.Fragment,{})},S=b}}]);