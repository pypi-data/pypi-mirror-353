"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[3222,3303,9882],{57330:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>OutputAdapter});var _jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(69882),_jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83303),_jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35031),_jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35901),_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(89915),_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53054),_jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92727),_jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89462),_jupyter_ipywidgets_libembed_amd__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5190),_OutputExecutor__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(85112);class OutputAdapter{_id;_kernel;_renderers;_outputArea;_rendermime;_iPyWidgetsManager;_suppressCodeExecutionErrors;constructor(id,kernel,outputs,outputAreaModel,suppressCodeExecutionErrors=!1){this._id=id,this._kernel=kernel,this._suppressCodeExecutionErrors=suppressCodeExecutionErrors,this._renderers=_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__.dn.filter((e=>"text/javascript"!==e.mimeTypes[0])),this._renderers.push(_jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_1__.rendererFactory),this._renderers.push(_jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_2__.rendererFactory),this._rendermime=new _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_3__.K({initialFactories:this._renderers}),this._iPyWidgetsManager=new _jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_4__.y({loader:_jupyter_ipywidgets_libembed_amd__WEBPACK_IMPORTED_MODULE_5__.l}),this._rendermime.addFactory({safe:!1,mimeTypes:[_jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_6__.a],createRenderer:e=>new _jupyter_ipywidgets_classic__WEBPACK_IMPORTED_MODULE_6__.u(e,this._iPyWidgetsManager)},0);const model=outputAreaModel??new _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_7__.c({trusted:!0,values:outputs});if(this._outputArea=new _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_8__.Bw({model,rendermime:this._rendermime}),outputs&&outputs[0]){const data=outputs[0].data;if(data){const isPlotly=data["application/vnd.plotly.v1+json"];if(isPlotly){let script=this._outputArea.node.children[0].children[1].children[0].children[1].innerHTML;script=script.replaceAll("\n,","\n"),eval(script)}}}this.initKernel()}async execute(e,t){if(this._kernel){this.clear();const r={},_=(0,_OutputExecutor__WEBPACK_IMPORTED_MODULE_9__.g)(this._id,e,this._outputArea,this._kernel,r,this._suppressCodeExecutionErrors,t);await _}}interrupt(){this._kernel&&this._kernel.interrupt()}clear(){this._outputArea.model.clear()}get kernel(){return this._kernel}set kernel(e){this._kernel=e,this.initKernel()}get outputArea(){return this._outputArea}initKernel(){this._kernel&&this._iPyWidgetsManager.registerWithKernel(this._kernel.connection)}}var __WEBPACK_DEFAULT_EXPORT__=OutputAdapter},63222:(e,t,r)=>{r.d(t,{k:()=>f});var _=r(18683),n=r(98754),s=r(9387),a=r(50059),i=r(42968),o=r(17402),l=r(63279);const c=()=>{const[e,t]=(0,s.useState)(0);return(0,s.useEffect)((()=>{const e=setInterval((()=>{t((e=>{let t=e+1;return t>100&&(t=0),t}))}),100);return()=>clearInterval(e)}),[]),(0,_.jsx)(l.z,{progress:e,barSize:"small"})};var u=r(9175),d=r(58875),p=r(80736),E=r(38621);const h={small:16,medium:32,large:64};function m({title:e,titleId:t,size:r,colored:_,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:_?"currentColor":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("currentColor")?"white":"currentColor","aria-hidden":"true",width:r?"string"==typeof r?h[r]:r:"16px",ref:a,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fill:_?"currentColor":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("currentColor")?"white":"currentColor",fillRule:"evenodd",d:"M18.364 3.058a.75.75 0 01.75.75V8.05a.75.75 0 01-.75.75h-4.243a.75.75 0 010-1.5h2.36a7.251 7.251 0 102.523 3.822.75.75 0 111.45-.387 8.75 8.75 0 11-2.84-4.447v-2.48a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const y=s.forwardRef(m),x=e=>{const{kernel:t,outputAdapter:r}=e;return(0,_.jsxs)(u.W,{children:[(0,_.jsx)(u.W.Anchor,{children:(0,_.jsx)(d.K,{"aria-labelledby":"",icon:E.tno,variant:"invisible"})}),(0,_.jsx)(u.W.Overlay,{children:(0,_.jsxs)(p.l,{children:[t&&(0,_.jsxs)(p.l.Item,{onSelect:e=>{t.interrupt()},children:[(0,_.jsx)(p.l.LeadingVisual,{children:(0,_.jsx)(E.wFz,{})}),"Interrupt kernel"]}),t&&(0,_.jsxs)(p.l.Item,{onSelect:e=>{t.restart()},children:[(0,_.jsx)(p.l.LeadingVisual,{children:(0,_.jsx)(y,{})}),"Restart kernel"]}),r&&(0,_.jsxs)(p.l.Item,{variant:"danger",onSelect:e=>{r.clear()},children:[(0,_.jsx)(p.l.LeadingVisual,{children:(0,_.jsx)(E.YBG,{})}),"Clear outputs"]})]})})]})};var j=r(57330);const P=e=>{const{output:t}=e;let r,n,s;switch(t.output_type){case"error":r=t.traceback.join("\n");break;case"stream":{const e=t.text;r="string"==typeof e?e:"boolean"==typeof e?e?"true":"false":Array.isArray(e)?e.join("\n"):e?.toString();break}case"display_data":{const e=t.data;if(e){const t=e["image/png"];t&&(s=t)}break}case"execute_result":{const e=t.data;if(e){const t=e["text/plain"];t&&(r="string"==typeof t?t:Array.isArray(t)?t.join("\n"):t.toString());const _=e["text/html"];_&&(n="string"==typeof _?_:_.join("\n"))}break}}return(0,_.jsxs)(_.Fragment,{children:[r&&(0,_.jsx)("pre",{style:{color:"black",backgroundColor:"white"},children:r}),n&&(0,_.jsx)("div",{children:(0,_.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})}),s&&(0,_.jsx)("div",{children:(0,_.jsx)("img",{src:`data:image/png;base64,${s}`})})]})};var A=r(55388);const f=e=>{const{defaultKernel:t}=(0,i.PD)(),r=(0,A.LC)(),{adapter:l,autoRun:u,clearTrigger:d,code:p,executeTrigger:E,kernel:h,lumino:m,model:y,outputs:f,receipt:M,showControl:T,showEditor:O,showKernelProgressBar:w=!0,suppressCodeExecutionErrors:b=!1,onExecutionPhaseChanged:C,id:g}=e,k=h??t,[I,D]=(0,s.useState)(g),[R,v]=(0,s.useState)("unknown"),[F,L]=(0,s.useState)(f),[W,S]=(0,s.useState)();(0,s.useEffect)((()=>{I||D((0,o.YG)())}),[]),(0,s.useEffect)((()=>{const e=(e,t)=>{L(e.toJSON()),I&&r.setModel(I,e)},t=(e,t)=>{M&&"add"===t.type&&t.newValues.map((e=>{if(e&&e.data){const t=e.data["text/html"];t&&t.indexOf(M)>-1&&r.setGradeSuccess(g,!0)}}))};if(I&&k){const _=l??new j.b(I,k,F??[],y,b);S(_),r.setAdapter(I,_),y&&r.setModel(I,y),p&&r.setInput(I,p),_.outputArea.model.changed.connect(e),M&&_.outputArea.model.changed.connect(t)}return()=>{W&&(W.outputArea.model.changed.disconnect(e),W.outputArea.model.changed.disconnect(t))}}),[I,k]),(0,s.useEffect)((()=>{W&&u&&W.execute(p,C)}),[W]),(0,s.useEffect)((()=>{if(k)return k.ready.then((()=>{v(k.connection.status),k.connection.statusChanged.connect(((e,t)=>{v(t)}))})),()=>{}}),[k]);const K=r.getExecuteRequest(g);return(0,s.useEffect)((()=>{W&&K&&K===I&&W.execute(p,C)}),[K,W]),(0,s.useEffect)((()=>{W&&E>0&&W.execute(p,C)}),[E]),(0,s.useEffect)((()=>{W&&d>0&&W.clear()}),[d,W]),(0,_.jsxs)(_.Fragment,{children:[O&&W&&I&&(0,_.jsx)(n.A,{sx:{"& .cm-editor":{borderRadius:"5px"}}}),W&&(0,_.jsxs)(n.A,{display:"flex",children:[(0,_.jsx)(n.A,{flexGrow:1,children:"idle"!==R&&w&&(0,_.jsx)(c,{})}),T&&(0,_.jsx)(n.A,{style:{marginTop:"-13px"},children:(0,_.jsx)(x,{kernel:k,outputAdapter:W})})]}),F&&(0,_.jsx)(n.A,{sx:{"& .jp-OutputArea":{fontSize:"10px"},"& .jp-OutputPrompt":{},"& .jp-OutputArea-prompt":{display:"none"},"& pre":{fontSize:"12px",wordBreak:"break-all",wordWrap:"break-word",whiteSpace:"pre-wrap"}},children:m?W&&(0,_.jsx)(a.j,{children:W.outputArea}):F&&(0,_.jsx)(_.Fragment,{children:F.map((e=>(0,_.jsx)(P,{output:e})))})})]})};f.defaultProps={autoRun:!1,clearTrigger:0,disableRun:!1,executeTrigger:0,showControl:!0,lumino:!0,outputs:[{output_type:"execute_result",data:{"text/html":["<p>Type code in the cell and Shift+Enter to execute.</p>"]},execution_count:0,metadata:{}}],notifyOnComplete:!1,toolbarPosition:"up"}},69882:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{APPLICATION_JAVASCRIPT_MIMETYPE:()=>APPLICATION_JAVASCRIPT_MIMETYPE,ExperimentalRenderedJavascript:()=>ExperimentalRenderedJavascript,TEXT_JAVASCRIPT_MIMETYPE:()=>TEXT_JAVASCRIPT_MIMETYPE,default:()=>__WEBPACK_DEFAULT_EXPORT__,rendererFactory:()=>rendererFactory});var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54704);const TEXT_JAVASCRIPT_MIMETYPE="text/javascript",APPLICATION_JAVASCRIPT_MIMETYPE="application/javascript";function evalInContext(code,element,document,window){return eval(code)}class ExperimentalRenderedJavascript extends _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_0__.TS{render(e){const t=this.translator.load("jupyterlab"),r=()=>{try{const t=e.data[this.mimeType];return t&&evalInContext(t,this.node,document,window),Promise.resolve()}catch(e){return Promise.reject(e)}};if(!e.trusted){const e=document.createElement("pre");e.textContent=t.__("Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const _=document.createElement("button");return _.textContent=t.__("Run"),this.node.appendChild(e),this.node.appendChild(_),_.onclick=e=>{this.node.textContent="",r()},Promise.resolve()}return r()}}const rendererFactory={safe:!1,mimeTypes:[TEXT_JAVASCRIPT_MIMETYPE,APPLICATION_JAVASCRIPT_MIMETYPE],createRenderer:e=>new ExperimentalRenderedJavascript(e)},extension={id:"@jupyterlab/javascript-extension:factory",description:"Adds renderer for JavaScript content.",rendererFactory,rank:0,dataType:"string"},__WEBPACK_DEFAULT_EXPORT__=extension},83303:(e,t,r)=>{r.r(t),r.d(t,{MIME_TYPE:()=>o,MIME_TYPES_JSONL:()=>l,RenderedJSON:()=>c,default:()=>d,rendererFactory:()=>u});var _=r(30808),n=r(85181),s=r(14809),a=r(9387),i=r(72447);const o="application/json",l=["text/jsonl","application/jsonl","application/json-lines"];class c extends s.x0{constructor(e){super(),this._rootDOM=null,this.addClass("jp-RenderedJSON"),this.addClass("CodeMirror"),this._mimeType=e.mimeType,this.translator=e.translator||n.wK}[_._.symbol](){return()=>_._.printWidget(this)}async renderModel(e){const{Component:t}=await r.e(1671).then(r.bind(r,74052));let _;if(l.indexOf(this._mimeType)>=0){const t=(e.data[this._mimeType]||"").trim().split(/\n/);_=JSON.parse(`[${t.join(",")}]`)}else _=e.data[this._mimeType]||{};const n=e.metadata[this._mimeType]||{};return null===this._rootDOM&&(this._rootDOM=(0,i.H)(this.node)),new Promise(((e,r)=>{this._rootDOM.render(a.createElement(t,{data:_,metadata:n,translator:this.translator,forwardedRef:()=>e()}))}))}onBeforeDetach(e){this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}}const u={safe:!0,mimeTypes:[o,...l],createRenderer:e=>new c(e)},d=[{id:"@jupyterlab/json-extension:factory",description:"Adds renderer for JSON content.",rendererFactory:u,rank:0,dataType:"json",documentWidgetFactoryOptions:{name:"JSON",primaryFileType:"json",fileTypes:["json","notebook","geojson"],defaultFor:["json"]}},{id:"@jupyterlab/json-lines-extension:factory",description:"Adds renderer for JSONLines content.",rendererFactory:u,rank:0,dataType:"string",documentWidgetFactoryOptions:{name:"JSONLines",primaryFileType:"jsonl",fileTypes:["jsonl","ndjson"],defaultFor:["jsonl","ndjson"]}}]}}]);