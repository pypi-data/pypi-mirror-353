[build-system]
requires = ['setuptools']
build-backend = 'setuptools.build_meta'

[project]
name = "stance-llm"
version = "0.3.0"
requires-python = ">=3.12"
description = "Classify stances of entities related to a statement in German or English text using large language models (LLMs)"
readme = "README.md"
license = "MIT"
authors = [
    { name = "Mario Angst", email = "mario.angst@uzh.ch" },
    { name = "Viviane Walker", email = "viviane.walker@uzh.ch" },
]
urls = { repository = "https://github.com/urban-sustainability-lab-zurich/stance-llm" }

dependencies = [
    "guidance >=0.2.0",
    "loguru >=0.7.2",
    "tqdm >=4.65.0",
    "polars >=0.20.15",
    "wonderwords >=2.2.0",
    "scikit-learn >=1.4.2",
    "numpy ==1.26.4",
]

[tool.uv]
default-groups = ["dev"]

[dependency-groups]
dev = [
    "transformers >=4.41.1",
    "python-dotenv >=1.0.1",
    "ptpython >=3.0.26",
    "srsly >=2.4.8",
    "typer >=0.9.0",
    "openai >=1.30.1",
    "pytest >=8.2.1",
    "pytest-dotenv >=0.5.2",
    "torch ==2.3.0",
]

[tool.pytest.ini_options]
log_level = "INFO"
log_cli = true
log_cli_level = "INFO"
log_cli_format = "%(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)s)"
log_cli_date_format = "%Y-%m-%d %H:%M:%S"