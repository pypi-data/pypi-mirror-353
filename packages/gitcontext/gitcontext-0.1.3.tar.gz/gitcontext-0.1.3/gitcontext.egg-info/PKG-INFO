Metadata-Version: 2.4
Name: gitcontext
Version: 0.1.3
Summary: Context-aware git CLI for multi-project research repos with worktree, squash, and fzf support.
Author-email: AxOr <axiomsandorbits@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/ax-or/gitcontext.git
Project-URL: Repository, https://github.com/ax-or/gitcontext.git
Project-URL: Issues, https://github.com/ax-or/gitcontext/issues
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: click>=8.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: black>=23.0; extra == "dev"
Requires-Dist: pre-commit>=3.0; extra == "dev"

# ğŸ§  git-ctx

> A context-aware Git CLI tool for multi-project research repositories.

**`git-ctx`** helps you manage Git branches across multiple projects and subprojects using a smart prefixing system. It wraps common Git commands with context from a `project.context` file, letting you organize branches, worktrees, and workflows efficiently â€” all while giving you fuzzy selection, squash support, and custom push options.

---

## ğŸ”§ Why `git-ctx`?

Managing a single monorepo with several parallel research or development projects often leads to chaos:

- Unstructured branch names
- No context on what belongs to which subproject
- Tedious git commands when juggling multiple trees
- Hard to discover or switch branches

`git-ctx` fixes this by introducing:

âœ”ï¸ Context-based branch prefixing  
âœ”ï¸ Clean worktree integration  
âœ”ï¸ Fuzzy branch checkout  
âœ”ï¸ Optional commit squashing  
âœ”ï¸ Custom push flags (`--force`, `--no-verify`, etc.)  
âœ”ï¸ Configurable with a simple `project.context` file  
âœ”ï¸ Full passthrough to regular `git` via `--git` flag

---

## ğŸ“¦ Installation

### ğŸ” Clone and Install (Editable Dev Mode)

```bash
git clone https://github.com/ax-or/gitcontext.git
cd gitcontext
python -m venv venv
source venv/bin/activate
pip install --upgrade pip setuptools wheel
pip install -e ".[dev]"
```

> ğŸ› ï¸ `click`, `pytest`, `ruff`, `black`, and `pre-commit` will be installed if you use `[dev]`.

---

## ğŸ“‚ `project.context` Format

At the root of your Git repo, add:

```ini
[context]
project = vision
subproject = segmentation
```

If you don't have a subproject:

```ini
[context]
project = vision
```

This will prefix your branches like:
- `vision/main`
- `vision/segmentation/feature-x`

---

## ğŸš€ Usage

### ğŸ§± Branch Management

```bash
git-ctx create feature/transformer-rewrite         # Creates vision/segmentation/feature/transformer-rewrite
git-ctx checkout bugfix/loss-calc                  # Checks out vision/segmentation/bugfix/loss-calc
git-ctx checkout --pick                            # Pick interactively using fzf
git-ctx branch                                     # List all local branches under current context
git-ctx fetch                                      # Fetch only branches under current context
```

### ğŸ“¤ Pushing with Flags

```bash
git-ctx push --force-with-lease
git-ctx push --no-verify
```

Supports all dynamic flags: `--force`, `--tags`, `-o ci.skip`, etc.

### ğŸ§© Git Override Mode

Need to bypass `git-ctx` and run raw git commands?

```bash
git-ctx --git status
git-ctx --git log --oneline
```

This is equivalent to running `git status` or `git log --oneline`, and ignores all context logic.

Perfect when you just want normal git behavior without switching tools.

---

## ğŸ§¼ Squash Support (Coming Soon)

```bash
git-ctx squash --base main --autosquash --push --force-with-lease
```

Allows selective squashing of commits before pushing or PR. Ideal for keeping research commits clean and minimal.

---

## ğŸŒ³ Worktree-Friendly

`git-ctx` works seamlessly inside Git worktrees. Just navigate into any worktree, and itâ€™ll resolve context and branches as expected.

---

## ğŸ§ª Testing

### Run all tests:

```bash
pytest -v tests/
```

### Structure:
- `tests/test_cli.py`: unit tests for prefix logic, branch creation, error handling, etc.
- Uses `pytest` and `click.testing.CliRunner`
- Simulates fake `.git` repos and project contexts

---

## ğŸ¯ Linting & Dev Workflow

```bash
ruff git_ctx
black git_ctx
pre-commit run --all-files
```

Pre-commit hooks are available if you install via `[dev]`.

---

## ğŸ”Œ Integration with `fzf`

Fuzzy branch selection relies on [fzf](https://github.com/junegunn/fzf):

```bash
# Install on macOS:
brew install fzf

# On Ubuntu:
sudo apt install fzf
```

---

## ğŸ” Permissions & Safe Defaults

- Only works inside a Git repo with `project.context`
- Prevents accidental checkout or push outside scope
- Outputs all Git commands it runs

---

## ğŸ“ Example Branch Structure

If you're working on:

```ini
[context]
project = nlp
subproject = textgen
```

Then branches will look like:

```
nlp/textgen/main
nlp/textgen/feature/streaming
nlp/textgen/bugfix/gpu-crash
```

No more guessing where a branch belongs. ğŸ·

---

## ğŸ¤– Planned Features

- [ ] Interactive squash flow
- [ ] Worktree manager: `git-ctx worktree add --branch xxx`
- [ ] Dashboard: `git-ctx status` across contexts
- [ ] Cross-context search and branch management
- [ ] GitHub PR integration (open PR from CLI)

---

## ğŸ›  Developer Setup

```bash
pip install -e ".[dev]"
pre-commit install
pytest -v
```

> Want to contribute? Open an issue or drop a PR with your idea ğŸ’¡

---

## ğŸ“œ License

MIT Â© [AxOr](https://axiomsandorbits.xyz)  
Built for clarity, context, and collaborative chaos management ğŸ§ âš™ï¸

---

## â­ï¸ Contribute & Share

If you find this tool useful:
- Star ğŸŒŸ the repo
- Share it with your team
- File feature requests or bug reports

Together, we can make Git suck less for research work. ğŸ˜
