# Baseline, strictest possible configuration
[mypy]
disallow_any_decorated = True
disallow_any_expr = True
disallow_any_explicit = True
disallow_any_generics = True
disallow_any_unimported = True
disallow_incomplete_defs = True
disallow_subclassing_any = True
disallow_untyped_calls = True
disallow_untyped_decorators = True
disallow_untyped_defs = True

warn_return_any = True
warn_unreachable = True
warn_unused_configs = True
warn_unused_ignores = True
warn_redundant_casts = True

ignore_missing_imports = False
strict = True
strict_equality = True

plugins = pydantic.mypy

# Integrations config
[pydantic-mypy]
init_forbid_extra = True
init_typed = True


# Containment zone
# We should aim to make these modules compliant over time.
# DO NOT add new modules here, make them compliant from day 1 instead.
[mypy-labels.core.configurator,labels.advisories.*,labels.output.*,labels.enrichers.*,labels.config.cache,labels.internal.file_resolver.container_image,labels.linux.release,labels.config.logger,labels.config.bugsnag,labels.parsers.cataloger.alpine.package,labels.parsers.cataloger.arch.parse_alpm,labels.parsers.cataloger.arch.parse_alpm_db_test,labels.parsers.cataloger.debian.package,labels.parsers.cataloger.graph_parser,labels.parsers.cataloger.swift.parse_package_swift,labels.parsers.cataloger.cpp.parse_conan_file_py,labels.parsers.cataloger.cpp.package,labels.parsers.cataloger.dotnet.*,labels.parsers.cataloger.elixir.parse_mix_lock,labels.parsers.cataloger.generic.*,labels.parsers.cataloger.java.*,labels.parsers.cataloger.javascript.parse_html_scripts,labels.parsers.cataloger.php.parse_serialized,labels.parsers.cataloger.php.parse_serialized_test,labels.parsers.cataloger.python.*,labels.parsers.cataloger.redhat.*,labels.parsers.cataloger.ruby.*,labels.parsers.operations.*,labels.integrations.*,labels.resolvers.*,test.*,labels.model.sources,labels.enrichers.*]
disallow_any_decorated = False
disallow_any_explicit = False
disallow_any_expr = False
disallow_any_generics = False
disallow_any_unimported = False
disallow_untyped_calls = False
warn_return_any = False

# Third party modules with no type definitions available
[mypy-cpe.*]
ignore_missing_imports = True

[mypy-furl.*]
ignore_missing_imports = True

[mypy-os_release.*]
ignore_missing_imports = True

[mypy-phpserialize.*]
ignore_missing_imports = True

[mypy-spdx_matcher.*]
ignore_missing_imports = True

[mypy-gemfileparser.*]
ignore_missing_imports = True

[mypy-license_expression.*]
ignore_missing_imports = True

[mypy-confuse.*]
ignore_missing_imports = True

[mypy-deepdiff.*]
ignore_missing_imports = True

[mypy-univers.*]
# https://github.com/aboutcode-org/univers/issues/143
ignore_missing_imports = True

[mypy-retry_requests.*]
ignore_missing_imports = True

[mypy-zstd.*]
ignore_missing_imports = True
