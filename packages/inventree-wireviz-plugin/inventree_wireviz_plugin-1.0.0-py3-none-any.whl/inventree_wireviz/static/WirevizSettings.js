import{c as T,a as n,g as E,M as g}from"./assets/createReactComponent-CHpQc-nV.js";import{I as M}from"./assets/IconTrash-CZbkoT-X.js";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var v=T("outline","circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]);const p=window.MantineCore.Alert,c=window.MantineCore.Button,r=window.MantineCore.Group,f=window.MantineCore.Stack,t=window.MantineCore.Table,l=window.MantineCore.Text,C=window.MantineCore.Title,o=window.MantineCore.Tooltip,b=window.React.useMemo,h=window.React.useState;function y({context:a}){const i=a.forms.create({title:"Upload New Wireviz Diagram",url:n("/plugin/wireviz/upload/"),method:"POST",fields:{part:{filters:{active:!0,assembly:!0}},file:{}},successMessage:"Wireviz diagram uploaded",onFormSuccess:e=>{if(e!=null&&e.part){const w=E(g.part,e.part);a.navigate(`${w}/wireviz`)}}}),s=a.forms.create({title:"Upload New Template",url:n("/plugin/wireviz/upload-template/"),fields:{template:{}},successMessage:"Template uploaded",onFormSuccess:()=>{}}),[d,R]=h(null),m=a.forms.create({title:"Delete Template",url:n("/plugin/wireviz/delete-template/"),fields:{template:{value:d,hidden:!0}},preFormContent:React.createElement(p,{color:"orange",title:"Delete Template"},React.createElement(l,null,"Are you sure you want to delete this template?"),React.createElement(l,null,"This action cannot be undone!")),submitColor:"red",submitText:"Delete",successMessage:"Template deleted",onFormSuccess:()=>{}}),u=b(()=>{var e;return((e=a.context)==null?void 0:e.templates)??[]},[a.context]);return React.createElement(React.Fragment,null,i.modal,s.modal,m.modal,React.createElement(f,{gap:"xs"},React.createElement(r,{gap:"xs"},React.createElement(o,{label:"Upload new diagram"},React.createElement(c,{onClick:()=>i.open()},"Upload New Diagram"))),React.createElement(r,{justify:"space-between"},React.createElement(C,{order:4},"Templates"),React.createElement(o,{label:"Upload new template"},React.createElement(c,{variant:"outline",color:"green",onClick:s.open},React.createElement(v,null)))),u.length>0?React.createElement(t,{striped:!0},React.createElement(t.Thead,null,React.createElement(t.Tr,null,React.createElement(t.Td,null,"Template File"),React.createElement(t.Td,null))),React.createElement(t.Tbody,null,u.map(e=>React.createElement(t.Tr,{key:e},React.createElement(t.Td,null,React.createElement(l,null,e)),React.createElement(t.Td,null,React.createElement(r,{justify:"right"},React.createElement(o,{label:"Delete template"},React.createElement(c,{variant:"outline",color:"red",onClick:()=>{R(e),m.open()}},React.createElement(M,null))))))))):React.createElement(p,{color:"blue",title:"No templates found"},React.createElement(l,null,"Upload a template to get started!"))))}function D(a){return React.createElement(y,{context:a})}export{D as renderPluginSettings};
