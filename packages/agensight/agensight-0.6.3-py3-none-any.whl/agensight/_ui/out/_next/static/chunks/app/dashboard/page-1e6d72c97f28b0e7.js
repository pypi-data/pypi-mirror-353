(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{6126:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var s=a(5155);a(2115);var r=a(2085),n=a(9434);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...r})}},8262:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u,oR:()=>m});var s=a(2115);let r=0,n=new Map,l=(e,t)=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},t||5e3);n.set(e,a)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;if(a){let t=e.toasts.find(e=>e.id===a);l(a,null==t?void 0:t.duration)}else e.toasts.forEach(e=>{l(e.id,e.duration)});return{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],c={toasts:[]};function d(e){c=o(c,e),i.forEach(e=>{e(c)})}function m(e){let{...t}=e,a=(r=(r+1)%Number.MAX_VALUE).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return 0!==t.duration&&setTimeout(()=>{s()},t.duration||5e3),d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=s.useState(c);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},8711:(e,t,a)=>{"use strict";a.d(t,{gb:()=>l,ms:()=>n,y:()=>o});let s="http://0.0.0.0:5001/api";async function r(e,t){for(let a=1;a<=3;a++)try{let a=await fetch(e,t);if(!a.ok){let t=await a.text();throw console.error("Error fetching from ".concat(e,": ").concat(a.status," ").concat(a.statusText),t),Error("Error fetching from ".concat(e,": ").concat(a.statusText))}return await a.json()}catch(t){if(console.error("Failed to fetch from ".concat(e," (attempt ").concat(a,"/").concat(3,"):"),t),3===a)throw t;await new Promise(e=>setTimeout(e,500*Math.pow(2,a-1)))}throw Error("Failed to fetch from ".concat(e," after ").concat(3," attempts"))}async function n(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[a,s]=e;void 0!==s&&t.append(a,String(s))}),r("".concat(s,"/metrics").concat(t.toString()?"?".concat(t.toString()):""))}async function l(e,t){let a=new URLSearchParams;t&&Object.entries(t).forEach(e=>{let[t,s]=e;void 0!==s&&a.append(t,String(s))});let n="".concat(s,"/span/").concat(e,"/metrics").concat(a.toString()?"?".concat(a.toString()):""),l=await r(n);return l&&l.metrics?l:{metrics:[],total:0}}function o(e){return null==e||isNaN(e)?"0.00":String(Math.round(100*Number(e))/100)}},9225:(e,t,a)=>{Promise.resolve().then(a.bind(a,9261))},9261:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eg});var s=a(5155),r=a(2115),n=a(9545);function l(){return(0,s.jsx)("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:(0,s.jsx)("div",{className:"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6",children:(0,s.jsx)("h1",{className:"text-base font-medium",children:"Agen Sight Studio"})})})}var o=a(2954),i=a(4211),c=a(7916),d=a(3306),m=a(7581);function u(e){let{agents:t=[],connections:a=[],onNodeClick:n}=e,l=(0,i.VH)(),[o,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{u(document.documentElement.classList.contains("dark"))};e();let t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]);let x=o?["rgba(37, 99, 235, 0.5)","rgba(16, 185, 129, 0.5)","rgba(139, 92, 246, 0.5)","rgba(236, 72, 153, 0.5)","rgba(245, 158, 11, 0.5)"]:["#2563eb","#10b981","#8b5cf6","#ec4899","#f59e0b"],h=o?"rgba(34, 197, 94, 0.5)":"#22c55e",p=o?"rgba(239, 68, 68, 0.5)":"#ef4444",f=o?"rgba(16, 185, 129, 0.6)":"#10b981",b=o?"rgba(34, 197, 94, 0.6)":"#22c55e",g=o?"rgba(239, 68, 68, 0.6)":"#ef4444",v=(0,r.useRef)(!1),j=(0,r.useCallback)(()=>{let e=new Set(a.map(e=>e.from)),t=new Set(a.map(e=>e.to)),s=a.some(e=>"Start"===e.from),r=a.some(e=>"End"===e.to),n=[];e.forEach(e=>{"Start"!==e&&(t.has(e)||"End"===e)||n.push(e)});let l=[];return t.forEach(t=>{"End"!==t&&(e.has(t)||"Start"===t)||l.push(t)}),{startNodes:n,endNodes:l,hasExplicitStartNode:s,hasExplicitEndNode:r}},[a]),N=(0,r.useCallback)(()=>{let{startNodes:e,endNodes:a,hasExplicitStartNode:s,hasExplicitEndNode:r}=j(),n=t.filter(e=>"Start"!==e.name&&"End"!==e.name).map((e,t)=>({id:e.name,data:{label:e.name},position:{x:150+t%3*250,y:100+150*Math.floor(t/3)},style:{background:x[t%x.length],color:"#fff",padding:"10px 15px",borderRadius:"8px",width:180,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}})),l=[...n];return s?l.unshift({id:"Start",data:{label:"START"},position:{x:150,y:0},style:{background:h,color:"#fff",padding:"10px 15px",borderRadius:"8px",width:120,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}}):e.length>0&&l.unshift({id:"__start__",data:{label:"START"},position:{x:150,y:0},style:{background:h,color:"#fff",padding:"10px 15px",borderRadius:"8px",width:120,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}}),r?l.push({id:"End",data:{label:"END"},position:{x:150,y:100+150*Math.ceil(n.length/3)},style:{background:p,color:"#fff",padding:"10px 15px",borderRadius:"8px",width:120,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}}):a.length>0&&l.push({id:"__end__",data:{label:"END"},position:{x:150,y:100+150*Math.ceil(n.length/3)},style:{background:p,color:"#fff",padding:"10px 15px",borderRadius:"8px",width:120,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}}),l},[t,x,j,o,h,p]),y=(0,r.useCallback)(()=>{let{startNodes:e,endNodes:t,hasExplicitStartNode:s,hasExplicitEndNode:r}=j(),n=[...a.map((e,t)=>({id:"e".concat(t),source:e.from,target:e.to,type:"default",animated:!0,style:{stroke:"Start"===e.from?b:"End"===e.to?g:f,strokeWidth:2},markerEnd:{type:i.TG.ArrowClosed,width:15,height:15,color:"Start"===e.from?b:"End"===e.to?g:f}}))];return!s&&e.length>0&&e.forEach((e,t)=>{"Start"===e||a.some(t=>"Start"===t.from&&t.to===e)||n.push({id:"start-".concat(t),source:"__start__",target:e,type:"default",animated:!0,style:{stroke:b,strokeWidth:2},markerEnd:{type:i.TG.ArrowClosed,width:15,height:15,color:b}})}),!r&&t.length>0&&t.forEach((e,t)=>{"End"===e||a.some(t=>t.from===e&&"End"===t.to)||n.push({id:"end-".concat(t),source:e,target:"__end__",type:"default",animated:!0,style:{stroke:g,strokeWidth:2},markerEnd:{type:i.TG.ArrowClosed,width:15,height:15,color:g}})}),n},[a,j,f,b,g]),w=N(),S=y(),[k,E,_]=(0,i.ck)(w),[C,T,A]=(0,i.fM)(S);(0,r.useEffect)(()=>{!v.current&&t.length>0&&(E(N()),T(y()),v.current=!0)},[t,a,N,y]),(0,r.useEffect)(()=>{v.current&&l&&(E(N()),T(y()))},[o]);let P=(0,r.useRef)(null);return(0,r.useEffect)(()=>(k.length>0&&l&&(P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{l.fitView({padding:.5,minZoom:.3,maxZoom:1.5}),P.current=null},100)),()=>{P.current&&clearTimeout(P.current)}),[k.length,l]),(0,r.useCallback)((e,t)=>{n&&"__start__"!==t.id&&"__end__"!==t.id&&"Start"!==t.id&&"End"!==t.id&&n(t.id)},[n]),(0,s.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,s.jsxs)(i.Gc,{nodes:k,edges:C,onNodesChange:_,onEdgesChange:A,zoomOnScroll:!1,onNodeClick:(e,t)=>{"__start__"!==t.id&&"__end__"!==t.id&&"Start"!==t.id&&"End"!==t.id&&n&&n(t.id)},fitView:!0,children:[(0,s.jsx)(c.V,{color:o?"#4a5568":"#e2e8f0",gap:16,size:1,style:{backgroundColor:o?"rgba(15, 23, 42, 0.9)":"white"}}),(0,s.jsx)(d.H,{}),(0,s.jsx)(m.o,{nodeStrokeColor:e=>{var t;return(null==(t=e.style)?void 0:t.background)||"#eee"},nodeColor:e=>{var t;return(null==(t=e.style)?void 0:t.background)||"#eee"},zoomable:!0,pannable:!0})]})})}function x(e){return e.agents&&0!==e.agents.length?(0,s.jsx)("div",{className:"h-[500px] border rounded-xl overflow-hidden bg-background",children:(0,s.jsx)(i.Ln,{children:(0,s.jsx)(u,{...e})})}):(0,s.jsx)("div",{className:"flex items-center justify-center h-[400px] bg-card/30 backdrop-blur-sm rounded-xl border border-border",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No agents available to display"})})}a(1687);var h=a(285),p=a(2523),f=a(5057),b=a(5452),g=a(4416),v=a(9434);function j(e){let{...t}=e;return(0,s.jsx)(b.bL,{"data-slot":"dialog",...t})}function N(e){let{...t}=e;return(0,s.jsx)(b.ZL,{"data-slot":"dialog-portal",...t})}function y(e){let{className:t,...a}=e;return(0,s.jsx)(b.hJ,{"data-slot":"dialog-overlay",className:(0,v.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",t),...a})}function w(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(N,{children:[(0,s.jsx)(y,{}),(0,s.jsxs)(b.UC,{"data-slot":"dialog-content",className:(0,v.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed left-[50%] top-[50%] z-50 grid w-full max-w-3xl translate-x-[-50%] translate-y-[-50%] gap-4 shadow-lg duration-200 sm:rounded-lg border-0 !border-none p-6",t),style:{border:"none"},...r,children:[a,(0,s.jsxs)(b.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[(0,s.jsx)(g.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function S(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,v.cn)("flex flex-col space-y-1.5 border-b border-border px-6 py-4",t),...a})}function k(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,v.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t border-border px-6 py-4",t),...a})}function E(e){let{className:t,...a}=e;return(0,s.jsx)(b.hE,{"data-slot":"dialog-title",className:(0,v.cn)("text-lg font-semibold",t),...a})}function _(e){let{className:t,...a}=e;return(0,s.jsx)(b.VY,{"data-slot":"dialog-description",className:(0,v.cn)("text-sm text-muted-foreground",t),...a})}var C=a(9409),T=a(5028),A=a(5710),P=a(7313),F=a(6068),O=a(8628),R=a(9939),M=a(5548),I=a(6126);let z="http://0.0.0.0:5001/api";async function V(){try{let e=await fetch("".concat(z,"/config/versions"));if(!e.ok)throw Error("Error fetching config versions: ".concat(e.statusText));return await e.json()}catch(e){throw console.error("Failed to fetch config versions:",e),e}}async function L(e){try{let t=await fetch("".concat(z,"/config?version=").concat(encodeURIComponent(e)));if(!t.ok)throw Error("Error fetching config version ".concat(e,": ").concat(t.statusText));return await t.json()}catch(t){throw console.error("Failed to fetch config version ".concat(e,":"),t),t}}async function D(e){try{let t=await fetch("".concat(z,"/config/sync"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:e})});if(!t.ok)throw Error("Error syncing config version ".concat(e,": ").concat(t.statusText));return await t.json()}catch(t){throw console.error("Failed to sync config version ".concat(e,":"),t),t}}async function G(e){try{let t=await fetch("".concat(z,"/config/commit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error committing config version: ".concat(t.statusText));return await t.json()}catch(e){throw console.error("Failed to commit config version:",e),e}}async function $(e){try{e.config_version&&(e.config_version=String(e.config_version));let t=await fetch("".concat(z,"/update_agent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){console.error("Error response from update_agent:",t.status,t.statusText);let e=await t.text();throw console.error("Error body:",e),Error("Error updating agent: ".concat(t.statusText))}return await t.json()}catch(e){throw console.error("Failed to update agent:",e),e}}var q=a(8262);let J=(0,T.default)(()=>Promise.all([a.e(827),a.e(918)]).then(a.bind(a,5918)).then(e=>e.default),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),K=[{value:"gpt-4o-mini",label:"GPT-4o Mini"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo"},{value:"gpt-4o",label:"GPT-4o"},{value:"gpt-4-turbo",label:"GPT-4 Turbo"}];function U(e){let{agent:t,setSelectedAgent:a,configVersion:n,onSave:l}=e,[o,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(""),[x,b]=(0,r.useState)(0),[g,v]=(0,r.useState)(0),[N,y]=(0,r.useState)(0),[T,z]=(0,r.useState)("prompt"),[V,L]=(0,r.useState)(!1),[D,G]=(0,r.useState)({}),U=(0,r.useMemo)(()=>t&&"object"==typeof t&&t.name,[t]),W=(0,r.useMemo)(()=>U&&t.prompt||"",[t,U]);(0,r.useEffect)(()=>{i(W)},[W]),(0,r.useEffect)(()=>{d(U)},[U]),(0,r.useEffect)(()=>{U&&i(t.prompt||"")},[t,U]),(0,r.useEffect)(()=>{U&&t&&d(!0)},[t,U]);let X=(0,r.useMemo)(()=>{var e,a,s,r;return{model:(null==t||null==(e=t.modelParams)?void 0:e.model)||K[0].value,temperature:(null==t||null==(a=t.modelParams)?void 0:a.temperature)||0,topP:(null==t||null==(s=t.modelParams)?void 0:s.top_p)||1,maxTokens:(null==t||null==(r=t.modelParams)?void 0:r.max_tokens)||2e3}},[t]);(0,r.useEffect)(()=>{u(X.model),b(X.temperature),v(X.topP),y(X.maxTokens)},[X]);let Z=(0,r.useMemo)(()=>U&&t.variables||[],[t,U]),B=(0,r.useCallback)(e=>{d(e),e||a(null)},[a]),Q=(0,r.useCallback)(()=>{d(!1),a(null)},[a]),Y=(0,r.useCallback)(async()=>{if(!U)return;L(!0),G({});let e={...t,prompt:o,variables:Z,modelParams:{model:m,temperature:x,top_p:g,max_tokens:N}};try{if(l)await l(e),Q();else{if(!n)return void console.error("No version specified for updating agent");let a=await $({agent:e,config_version:n});a.success?((0,q.oR)({title:"Success",description:"Agent ".concat(t.name," updated successfully in ").concat(a.version||"current version"),duration:3e3}),Q()):(0,q.oR)({title:"Error",description:a.message||"Failed to update agent",variant:"destructive",duration:3e3})}}catch(e){console.error("Error saving agent:",e),(0,q.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to update agent",variant:"destructive",duration:3e3})}finally{L(!1)}},[U,t,o,Z,m,x,g,N,l,n,Q]);return U?(0,s.jsx)(j,{open:c,onOpenChange:B,children:(0,s.jsxs)(w,{className:"max-w-4xl p-0 gap-0 overflow-hidden bg-background border-0 !border-none sm:rounded-xl",children:[(0,s.jsx)(S,{className:"px-6 py-4 border-b border-border/50",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"pr-8",children:[(0,s.jsxs)(E,{className:"text-xl font-semibold flex items-center gap-2",children:[t.name,n&&(0,s.jsxs)(I.E,{variant:"outline",className:"text-xs",children:["Config v",n]})]}),(0,s.jsx)(_,{className:"mt-1 text-sm text-slate-500",children:"Define this agent's behavior through prompts and model parameters"})]})})}),(0,s.jsx)("div",{className:"w-full h-[70vh] flex flex-col",children:(0,s.jsxs)(P.tU,{defaultValue:"prompt",value:T,onValueChange:z,className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"border-b border-border/50 bg-card/40 backdrop-blur-sm",children:(0,s.jsx)("div",{className:"px-6",children:(0,s.jsxs)(P.j7,{className:"p-1 h-10 bg-transparent space-x-6 border-0",children:[(0,s.jsxs)(P.Xi,{value:"prompt",className:"px-4 py-2 data-[state=active]:bg-blue-500 dark:data-[state=active]:bg-white/20 data-[state=active]:text-white rounded-md transition-all font-medium",children:[(0,s.jsx)(F.A,{className:"w-4 h-4 mr-2"}),"Prompt"]}),(0,s.jsxs)(P.Xi,{value:"variables",className:"px-4 py-2 data-[state=active]:bg-blue-500 dark:data-[state=active]:bg-white/20 data-[state=active]:text-white rounded-md transition-all font-medium",children:[(0,s.jsx)(O.A,{className:"w-4 h-4 mr-2"}),"Variables"]}),(0,s.jsxs)(P.Xi,{value:"settings",className:"px-4 py-2 data-[state=active]:bg-blue-500 dark:data-[state=active]:bg-white/20 data-[state=active]:text-white rounded-md transition-all font-medium",children:[(0,s.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})}),(0,s.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,s.jsx)(P.av,{value:"prompt",className:"h-full flex-1 m-0 p-0 data-[state=active]:flex flex-col",children:(0,s.jsx)("div",{className:"flex-grow overflow-y-auto p-6",children:(0,s.jsx)("div",{"data-color-mode":"light",className:"w-full h-full",children:(0,s.jsx)(J,{value:o,onChange:e=>i(e||""),height:"calc(100% - 24px)",preview:"edit",previewOptions:{rehypePlugins:[[A.A]]}})})})}),(0,s.jsx)(P.av,{value:"variables",className:"h-full flex-1 m-0 data-[state=active]:flex flex-col",children:(0,s.jsxs)("div",{className:"flex-grow overflow-y-auto p-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Available Variables"}),(0,s.jsxs)("p",{className:"text-sm text-slate-500 mb-4",children:["These variables can be used in your prompt with ","{variable_name}"," syntax"]})]}),Z.length>0?(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Z.map(e=>(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border flex items-center shadow-sm",children:[(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900 rounded-md p-1 mr-2",children:(0,s.jsx)(O.A,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e}),(0,s.jsx)("code",{className:"text-xs text-pink-600 dark:text-pink-400",children:"{".concat(e,"}")})]})]},e))}):(0,s.jsxs)("div",{className:"p-8 text-center bg-card rounded-lg border-0",children:[(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"No variables found in this prompt"}),(0,s.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:["Add variables by using ","{variable_name}"," syntax in your prompt"]})]})]})}),(0,s.jsx)(P.av,{value:"settings",className:"h-full flex-1 m-0 data-[state=active]:flex flex-col",children:(0,s.jsxs)("div",{className:"flex-grow overflow-y-auto p-6",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("h3",{className:"text-base font-semibold mb-3",children:"Model Configuration"})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(f.J,{htmlFor:"model",className:"mb-2 text-sm font-medium block",children:"Model"}),(0,s.jsxs)(C.l6,{value:m,onValueChange:u,children:[(0,s.jsx)(C.bq,{id:"model",className:"w-full",children:(0,s.jsx)(C.yv,{placeholder:"Select a model"})}),(0,s.jsx)(C.gC,{children:K.map(e=>(0,s.jsx)(C.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.J,{htmlFor:"max_tokens",className:"mb-2 text-sm font-medium block",children:"Max Tokens"}),(0,s.jsx)(p.p,{id:"max_tokens",type:"number",min:1,value:N,onChange:e=>y(Number(e.target.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.J,{htmlFor:"temperature",className:"mb-2 text-sm font-medium block",children:"Temperature"}),(0,s.jsx)(p.p,{id:"temperature",type:"number",step:"0.01",min:0,max:2,value:x,onChange:e=>b(Number(e.target.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.J,{htmlFor:"top_p",className:"mb-2 text-sm font-medium block",children:"Top P"}),(0,s.jsx)(p.p,{id:"top_p",type:"number",step:"0.01",min:0,max:1,value:g,onChange:e=>v(Number(e.target.value))})]})]})]})})]})]})}),(0,s.jsxs)(k,{className:"px-6 py-4 border-t border-border/50",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M.A,{className:"w-4 h-4 text-slate-500"}),(0,s.jsx)("span",{className:"text-sm text-slate-500",children:n&&"current"!==n?"Editing version ".concat(n):"Editing current version"})]})}),(0,s.jsx)(h.$,{variant:"outline",onClick:Q,children:"Cancel"}),(0,s.jsx)(h.$,{onClick:Y,className:"ml-2",children:"Save Changes"})]})]})}):null}var W=a(5779),X=a(6236),Z=a(6981),B=a(5196);let Q=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(Z.bL,{ref:t,className:(0,v.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(Z.C1,{className:(0,v.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(B.A,{className:"h-3.5 w-3.5"})})})});Q.displayName=Z.bL.displayName;var Y=a(6102),H=a(6715),ee=a(2960),et=a(5041);async function ea(e){try{let t=await fetch("".concat("http://0.0.0.0:5001/api","/update_agent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error updating agent: ".concat(t.statusText));return await t.json()}catch(e){throw console.error("Failed to update agent:",e),e}}var es=a(7652),er=a(6766);function en(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,v.cn)("w-full caption-bottom text-base",t),...a})})}function el(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,v.cn)("[&_tr]:border-b",t),...a})}function eo(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,v.cn)("[&_tr:last-child]:border-0",t),...a})}function ei(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,v.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function ec(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,v.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function ed(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,v.cn)("p-2 align-middle whitespace-nowrap text-base [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}var em=a(8711),eu=a(3096);function ex(e){let{pageCount:t,pageSize:a,pageIndex:r,setPageIndex:n,setPageSize:l}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-border/40 bg-card/50 px-4 py-3 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"flex-1 text-sm text-muted-foreground"}),(0,s.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Rows per page"}),(0,s.jsxs)(C.l6,{value:"".concat(a),onValueChange:e=>{l(Number(e))},children:[(0,s.jsx)(C.bq,{className:"h-8 w-[70px]",children:(0,s.jsx)(C.yv,{placeholder:a})}),(0,s.jsx)(C.gC,{side:"top",children:[10,20,30,40,50].map(e=>(0,s.jsx)(C.eb,{value:"".concat(e),children:e},e))})]})]}),(0,s.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",r+1," of ",t]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(h.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>n(0),disabled:0===r,children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,s.jsx)(eu.jvd,{className:"h-4 w-4"})]}),(0,s.jsxs)(h.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>n(r-1),disabled:0===r,children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,s.jsx)(eu.YJP,{className:"h-4 w-4"})]}),(0,s.jsxs)(h.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>n(r+1),disabled:r===t-1,children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,s.jsx)(eu.vKP,{className:"h-4 w-4"})]}),(0,s.jsxs)(h.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>n(t-1),disabled:r===t-1,children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,s.jsx)(eu.QZK,{className:"h-4 w-4"})]})]})]})]})}var eh=a(7655);let ep=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(eh.bL,{ref:t,className:(0,v.cn)("relative overflow-hidden",a),...n,children:[(0,s.jsx)(eh.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(ef,{}),(0,s.jsx)(eh.OK,{})]})});ep.displayName=eh.bL.displayName;let ef=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...n}=e;return(0,s.jsx)(eh.VM,{ref:t,orientation:r,className:(0,v.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 border-t border-t-transparent p-[1px]",a),...n,children:(0,s.jsx)(eh.lr,{className:"relative flex-1 rounded-full bg-border"})})});function eb(){let{metrics:e,isLoading:t,pageCount:a,pageSize:n,pageIndex:l,setPageIndex:o,setPageSize:i,sorting:c,setSorting:d,columnFilters:m,setColumnFilters:u}=function(){let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[n,l]=(0,r.useState)(1),[o,i]=(0,r.useState)(10),[c,d]=(0,r.useState)(0),[m,u]=(0,r.useState)([]),[x,h]=(0,r.useState)([]);return(0,r.useEffect)(()=>{!async function(){s(!0);try{var e;let a=await (0,em.ms)({limit:o,offset:c*o,metric_name:null==(e=x.find(e=>"metricName"===e.id))?void 0:e.value});if(!a||!a.metrics){console.warn("Invalid response from metrics API"),t([]),l(1);return}t(a.metrics),l(Math.ceil(a.total/o))}catch(e){console.error("Error fetching metrics:",e),t([]),l(1)}s(!1)}()},[c,o,x]),{metrics:e,isLoading:a,pageCount:n,pageSize:o,pageIndex:c,setPageIndex:d,setPageSize:i,sorting:m,setSorting:u,columnFilters:x,setColumnFilters:h}}();return(0,s.jsxs)("div",{className:"border rounded-lg flex flex-col  backdrop-blur-sm h-[550px] pb-0",children:[(0,s.jsx)(ep,{className:"h-[calc(100%-56px)]",children:(0,s.jsxs)(en,{children:[(0,s.jsx)(el,{className:"sticky top-0 z-10 bg-muted border-b",children:(0,s.jsxs)(ei,{className:"hover:bg-muted/50",children:[(0,s.jsx)(ec,{className:"w-[150px] text-base font-semibold px-4 py-3 text-left whitespace-nowrap",children:"Parent ID"}),(0,s.jsx)(ec,{className:"w-[150px] text-base font-semibold px-4 py-3 text-left whitespace-nowrap",children:"Created At"}),(0,s.jsx)(ec,{className:"w-[200px] text-base font-semibold px-4 py-3 text-left whitespace-nowrap",children:"Metric Name"}),(0,s.jsx)(ec,{className:"w-[100px] text-base font-semibold px-4 py-3 text-left whitespace-nowrap",children:"Score"}),(0,s.jsx)(ec,{className:"w-[300px] text-base font-semibold px-4 py-3 text-left whitespace-nowrap",children:"Reason"})]})}),(0,s.jsx)(eo,{children:t?(0,s.jsx)(ei,{children:(0,s.jsx)(ed,{colSpan:5,className:"h-[550px] text-center",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})})})}):0===e.length?(0,s.jsx)(ei,{children:(0,s.jsx)(ed,{colSpan:5,className:"h-[500px] text-center",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(er.default,{src:"/pype-logo.png",alt:"PYPE Logo",width:100,height:100,className:"h-12 w-20 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium",children:"No metrics available"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Metrics data will appear here when you run evaluations"})]})})})}):e.map(e=>(0,s.jsxs)(ei,{className:"hover:bg-primary/5 even:bg-muted/30 transition-colors",children:[(0,s.jsx)(ed,{className:"px-4 py-3 font-mono text-sm text-muted-foreground whitespace-nowrap",children:e.parentId}),(0,s.jsx)(ed,{className:"px-4 py-3 text-base text-muted-foreground whitespace-nowrap",children:new Date(e.createdAt).toLocaleString()}),(0,s.jsx)(ed,{className:"px-4 py-3 text-base font-medium whitespace-nowrap",children:e.metricName}),(0,s.jsx)(ed,{className:"px-4 py-3 text-base whitespace-nowrap",children:(0,em.y)(e.score)}),(0,s.jsx)(ed,{className:"px-4 py-3 w-[300px]",children:(0,s.jsx)(Y.Bc,{children:(0,s.jsxs)(Y.m_,{children:[(0,s.jsx)(Y.k$,{asChild:!0,children:(0,s.jsx)("div",{className:"text-base text-muted-foreground truncate max-w-[300px]",children:e.reason})}),(0,s.jsx)(Y.ZI,{side:"top",className:"max-w-[400px] whitespace-normal",children:(0,s.jsx)("p",{className:"text-sm leading-tight",children:e.reason})})]})})})]},e.id))})]})}),(0,s.jsx)(ex,{pageCount:a,pageSize:n,pageIndex:l,setPageIndex:o,setPageSize:i})]})}function eg(){let[e,t]=(0,r.useState)(null),[a,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),[m,u]=(0,r.useState)(null),[b,g]=(0,r.useState)([]),[v,N]=(0,r.useState)(""),[y,T]=(0,r.useState)(!1),[A,F]=(0,r.useState)(""),[O,R]=(0,r.useState)(!0),[I,z]=(0,r.useState)(!1),[$,J]=(0,r.useState)(!1),{open:K}=(0,o.cL)(),[Z,B]=(0,r.useState)(()=>{{let e=sessionStorage.getItem("dashboardActiveTab");return e&&sessionStorage.removeItem("dashboardActiveTab"),e||"experiments"}}),[en,el]=(0,r.useState)([]),[eo,ei]=(0,r.useState)(!1),ec=(0,H.jE)(),{data:ed,isLoading:em,error:eu,refetch:ex}=(0,ee.I)({queryKey:["config-versions"],queryFn:V});(0,r.useEffect)(()=>{if(ed){let e=ed.filter(e=>"current"!==e.version&&e.version.match(/^\d+\.\d+\.\d+$/));e.sort((e,t)=>t.version.localeCompare(e.version,void 0,{numeric:!0})),g(e),e.length>0&&!v&&N(e[0].version)}},[ed,v]);let{data:eh,isLoading:ep,error:ef}=(0,ee.I)({queryKey:["config",v],queryFn:()=>L(v),enabled:!!v});(0,r.useEffect)(()=>{eh&&t(eh)},[eh]);let eg=(0,et.n)({mutationFn:D,onSuccess:()=>{(0,q.oR)({title:"Success",description:"Synced version ".concat(v," to main config"),duration:3e3}),ec.invalidateQueries({queryKey:["config-versions"]})},onError:e=>{(0,q.oR)({title:"Error",description:"Failed to sync to main config",variant:"destructive",duration:3e3})}}),ev=(0,et.n)({mutationFn:G,onSuccess:e=>{(0,q.oR)({title:"Success",description:"Created version ".concat(null==e?void 0:e.version),duration:3e3}),T(!1),ec.invalidateQueries({queryKey:["config-versions"]}),N(e.version)},onError:e=>{(0,q.oR)({title:"Error",description:"Failed to commit new version",variant:"destructive",duration:3e3})}}),ej=(0,et.n)({mutationFn:ea,onSuccess:(e,t)=>{(0,q.oR)({title:"Success",description:"Agent updated successfully to version ".concat(e.version),duration:3e3}),ec.invalidateQueries({queryKey:["config",e.version]}),e.version!==v&&N(e.version)},onError:e=>{(0,q.oR)({title:"Error",description:"Failed to update agent",variant:"destructive",duration:3e3})}}),{data:eN,isLoading:ey,error:ew,refetch:eS}=(0,ee.I)({queryKey:["traces"],queryFn:es._K,enabled:"traces"===Z});(0,r.useEffect)(()=>{eN&&el(eN)},[eN]);let ek=async e=>{e&&eg.mutate(e)},eE=async()=>A.trim()?v?void ev.mutate({commit_message:A,sync_to_main:O,source_version:v}):void(0,q.oR)({title:"Error",description:"No version selected to commit from",variant:"destructive",duration:3e3}):void(0,q.oR)({title:"Error",description:"Please enter a commit message",variant:"destructive",duration:3e3}),e_=async e=>{ej.mutate({agent:e,config_version:v})},eC=em||ep&&!!v;(0,r.useEffect)(()=>{"traces"===Z&&eS()},[Z,eS]);let eT=(0,r.useCallback)(t=>{(null==e?void 0:e.agents)&&(i(null),setTimeout(()=>{let a=e.agents.find(e=>e.name===t);a&&(i(a),J(!0))},10))},[e]),eA=(0,r.useCallback)(()=>{i(null),J(!1)},[]),eP=(0,r.useCallback)(()=>{F(""),R(!0),T(!0)},[]),eF=(0,r.useCallback)(e=>{T(e),e||(F(""),R(!0))},[]);return eC&&!e?(0,s.jsx)(o.GB,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:(0,s.jsxs)(o.sF,{children:[(0,s.jsx)(l,{}),(0,s.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-slate-500",children:"Loading..."})})})]})}):eu||ef?(0,s.jsx)(o.GB,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:(0,s.jsxs)(o.sF,{children:[(0,s.jsx)(l,{}),(0,s.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-red-500",children:(null==eu?void 0:eu.message)||(null==ef?void 0:ef.message)})})})]})}):(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)("main",{className:"".concat(K?"":"ml-0"),children:(0,s.jsxs)("div",{className:"container mx-auto py-6 ".concat(K?"px-6":""),children:[(0,s.jsxs)("div",{className:"mb-2 flex flex-col sm:flex-row sm:items-center gap-4 justify-between  pb-4",children:[(0,s.jsx)("div",{className:"flex-none",children:(0,s.jsx)(P.tU,{value:Z,className:"w-full",onValueChange:e=>B(e),children:(0,s.jsxs)(P.j7,{className:"bg-white dark:bg-card p-1 rounded-lg shadow-sm",children:[(0,s.jsx)(P.Xi,{value:"experiments",className:"px-4 py-2 data-[state=active]:bg-blue-500 dark:data-[state=active]:bg-white/20 data-[state=active]:text-white rounded-md transition-all font-medium",children:"Experiments"}),(0,s.jsx)(P.Xi,{value:"traces",className:"px-4 py-2 data-[state=active]:bg-blue-500 dark:data-[state=active]:bg-white/20 data-[state=active]:text-white rounded-md transition-all font-medium",children:"Traces"}),(0,s.jsx)(P.Xi,{value:"evaluations",className:"px-4 py-2 data-[state=active]:bg-blue-500 dark:data-[state=active]:bg-white/20 data-[state=active]:text-white rounded-md transition-all font-medium",children:"Evaluations"})]})})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 ml-auto",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)(C.l6,{value:v,onValueChange:N,children:[(0,s.jsx)(C.bq,{className:"w-[180px]",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(W.A,{size:16}),(0,s.jsx)("span",{className:"font-medium",children:v})]})}),(0,s.jsx)(C.gC,{children:b.map(e=>(0,s.jsx)(C.eb,{value:e.version,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:e.version}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs truncate",children:e.commit_message})]})},e.version))})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Y.Bc,{children:(0,s.jsxs)(Y.m_,{children:[(0,s.jsx)(Y.k$,{asChild:!0,children:(0,s.jsxs)(h.$,{variant:"outline",size:"sm",onClick:()=>ek(v),disabled:em,id:"sync-button",className:"relative overflow-hidden group hover:border-primary/50 transition-all duration-300",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"}),(0,s.jsx)(M.A,{size:16,className:"mr-1 group-hover:text-primary transition-colors duration-300"}),(0,s.jsx)("span",{className:"relative z-10",children:"Sync"})]})}),(0,s.jsx)(Y.ZI,{children:(0,s.jsx)("p",{children:"This will sync to main agensight.config.json file"})})]})}),(0,s.jsx)(Y.Bc,{children:(0,s.jsxs)(Y.m_,{children:[(0,s.jsx)(Y.k$,{asChild:!0,children:(0,s.jsxs)(h.$,{variant:"outline",size:"sm",onClick:eP,disabled:em,children:[(0,s.jsx)(X.A,{size:16,className:"mr-1"}),"Commit"]})}),(0,s.jsx)(Y.ZI,{children:(0,s.jsx)("p",{children:"Save current state as a new version"})})]})})]})]})]}),(0,s.jsxs)("div",{className:"w-full",children:["experiments"===Z&&(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6 mb-8",children:(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"rounded-lg border border-border/40 bg-card/50 backdrop-blur-sm p-2 h-[550px] overflow-hidden",children:em?(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):m?(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-destructive",children:m})}):e?(0,s.jsx)(x,{agents:e.agents||[],connections:e.connections||[],onNodeClick:eT}):null})})}),"traces"===Z&&(0,s.jsx)("div",{className:"border rounded-lg flex flex-col bg-card/50 backdrop-blur-sm h-[550px] pb-0",children:ey?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):en&&en.length>0?(0,s.jsx)("div",{className:"flex-1 flex flex-col h-full",children:(0,s.jsx)(n.D,{data:en})}):(0,s.jsx)("div",{className:"text-center flex items-center justify-center h-full",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(er.default,{src:"/pype-logo.png",alt:"PYPE Logo",width:100,height:100,className:"h-12 w-20 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium",children:"No traces available"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Trace data will appear here when you run experiments"})]})})}),"evaluations"===Z&&(0,s.jsx)("div",{className:"flex-1 flex flex-col h-full",children:(0,s.jsx)(eb,{})})]})]})}),(0,s.jsx)(j,{open:y,onOpenChange:eF,children:(0,s.jsxs)(w,{children:[(0,s.jsxs)(S,{children:[(0,s.jsx)(E,{className:"text-xl font-semibold",children:"Create New Version"}),(0,s.jsx)(_,{children:"Save the current configuration as a new version."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4 px-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.J,{htmlFor:"commit-message",className:"font-medium",children:"Commit Message"}),(0,s.jsx)(p.p,{id:"commit-message",placeholder:"Describe your changes",value:A,onChange:e=>F(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Q,{id:"sync-to-main",checked:O,onCheckedChange:e=>{R(!0===e)}}),(0,s.jsx)(f.J,{htmlFor:"sync-to-main",className:"font-medium text-sm",children:"This will sync your changes to the agensight.config.json file"})]})]}),(0,s.jsxs)(k,{children:[(0,s.jsx)(h.$,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),(0,s.jsx)(h.$,{disabled:em,onClick:eE,children:em?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mr-2 animate-spin h-4 w-4 border-2 border-background border-t-transparent rounded-full"}),"Committing..."]}):"Create Version"})]})]})}),(0,s.jsx)(j,{open:$,onOpenChange:J,children:(0,s.jsxs)(w,{className:"sm:max-w-[600px] max-h-[80vh] overflow-hidden border-0 !border-none bg-card/90 backdrop-blur-sm shadow-lg",style:{border:"none"},children:[(0,s.jsx)(S,{className:"border-0 !border-none",style:{borderBottom:"none"},children:(0,s.jsx)(E,{className:"text-xl font-semibold",children:(null==a?void 0:a.name)||"Agent Details"})}),(0,s.jsx)("div",{className:"overflow-auto py-4",children:a&&(0,s.jsx)(U,{agent:a,setSelectedAgent:eA,configVersion:v,onSave:e_})})]})})]})}ef.displayName=eh.VM.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[294,702,105,126,423,525,960,328,908,681,522,959,573,116,441,684,358],()=>t(9225)),_N_E=e.O()}]);