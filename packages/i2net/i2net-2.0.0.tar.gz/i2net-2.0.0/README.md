# I2NeT - Image to Network  
**I2NeT (Image to Network)** is the reverse companion to **NeT2I**. It decodes RGB images created from network traffic data back into structured tabular form.

This tool is purpose-built to **only** decode `.png` images generated using **NeT2I**. It restores data types including IPs, MACs, integers, floats, and hashed strings, ensuring accurate reconstruction for further analysis.

> 🧩 I2NeT decodes **only** the format output by [NeT2I](https://github.com/omeshF/NeT2I). Images from other tools will **not** decode correctly.

---

## 🎯 Key Features

- 🔁 **Reverses** RGB images generated by NeT2I into CSV-format network traffic data  
- 🧠 Supports **automatic or guided decoding** using `data_types.json`  
- 💡 Recognizes and reconstructs:
  - IP addresses
  - MAC addresses
  - Integers and floats (via IEEE 754)
  - Strings (via consistent hash representations)  
- 🖼️ Processes one `.png` image per data row

---

## 🛠️ Requirements

- Python 3.9+
- Pillow
- NumPy

Install dependencies:

```bash
pip install pillow numpy
```

---

## 🚀 Getting Started

### 1. Prepare Your Images

Ensure that `.png` images are located in a `data/` directory:

```
data/
├── 0.png
├── 1.png
├── ...
```

You may optionally include a `data_types.json` file for better reconstruction accuracy (especially for IP and MAC decoding).

### 2. Run the Decoder

```bash
python i2net.py
```

This will:

- Load all PNG images in `data/`
- Decode the pixel data back to floats
- Reconstruct column types (with or without a schema)
- Write the output to:

```
from_image.csv
```

---

## 🧬 How It Works

| Encoded Type | Decoding Logic |
|--------------|----------------|
| 🧾 **Float / Int** | Extracted from 2 RGB pixels → 6 bytes → IEEE 754 |
| 🌐 **IP Address** | 4 octets → 4 floats → 2 pixels each |
| 🕸️ **MAC Address** | 2 hex chunks → floats → decoded as 12-char hex |
| 🔐 **String** | Hash (SHA-1→int) → float → approximate reconstruction (optional) |

Each 6-byte chunk (2 pixels) is read and unpacked into a float using `struct.unpack()`. Typed decoding relies on type hints stored in `data_types.json`.

---

## 📁 Output Structure

| File | Description |
|------|-------------|
| `from_image.csv` | Final decoded output |
| `data_types.json` (optional) | Guides the decoder in assigning column types |
| `data/*.png` | Input image files, one per data row (from NeT2I) |

---

## 🔄 Compatible Only With NeT2I

**I2NeT only works on RGB images generated by [NeT2I](https://github.com/your/repo)**. These images are structured using a two-pixel-per-float strategy that preserves byte precision. Any other source of images will result in invalid outputs.

---

## 🧪 Example Use Case

This decoding tool is ideal for:

- Verifying the integrity of image-encoded datasets before CNN training  
- Debugging failed predictions by mapping CNN outputs back to raw features  
- Regenerating partial data from anomaly-detected image samples

---

## ⚙️ Config Options

You can modify these variables at the top of the script:

```python
INPUT_DIR = "data"
OUTPUT_FILE = "from_image.csv"
TYPES_FILE = "data_types.json"
```

---

## 📖 Citation

If you use **I2NeT** or **NeT2I** in your work, please cite:

```bibtex
@inproceedings{fernando2023new,
  title={New algorithms for the detection of malicious traffic in 5g-mec},
  author={Fernando, Omesh A and Xiao, Hannan and Spring, Joseph},
  booktitle={2023 IEEE Wireless Communications and Networking Conference (WCNC)},
  pages={1--6},
  year={2023},
  organization={IEEE}
}
```

---

## 👤 Authors

- Omesh Fernando  
- Sajid Fadlelseed

---

## 📜 License

This project is licensed under the MIT License.

---

## 🌐 Project Links

- 🔗 [NeT2I GitHub Repository](https://github.com/omeshF/NeT2I)
- 🐞 [Report Issues](https://github.com/omeshF/I2NeT/issues)
