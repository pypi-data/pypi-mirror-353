Metadata-Version: 2.4
Name: pubtools-pyxis
Version: 1.3.7
Summary: Pubtools-pyxis
Home-page: https://github.com/release-engineering/pubtools-pyxis
Author: Lubomir Gallovic
Author-email: lgallovi@redhat.com
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Programming Language :: Python :: Implementation :: PyPy
Requires-Python: >=3.6
Description-Content-Type: text/x-rst
License-File: LICENSE
Requires-Dist: setuptools
Requires-Dist: more-executors>=2.3.0
Requires-Dist: requests
Requires-Dist: requests-kerberos
Requires-Dist: urllib3<2
Provides-Extra: rest
Requires-Dist: Sphinx; extra == "rest"
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license-file
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

===============
 pubtools-pyxis
===============

Set of scripts used for operating with Pyxis service.


Requirements
============

* Python 3.7+

Features
========

pubtools-pyxis-get-operator-indices - get a list of index images satisfying the specified conditions
pubtools-pyxis-get-repo-metadata - get metadata of a Comet repo
pubtools-pyxis-upload-signatures - upload container signatures to Pyxis

Setup
=====

::

  $ pip install -r requirements.txt
  $ pip install .
  or
  $ python setup.py install

Usage
=====

Get operator indices:
::

  pubtools-pyxis-get-operator-indices \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-krb-principal lgallovi@REDHAT.COM \
  --ocp-versions-range 4.6 \
  --pyxis-insecure

  pubtools-pyxis-get-operator-indices \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-krb-principal iib-stage@REDHAT.COM \
  --pyxis-krb-ktfile /path/to/file.keytab \
  --ocp-versions-range 4.5-4.7

  pubtools-pyxis-get-operator-indices \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --ocp-versions-range 4.6

Get repository metadata:
::

  pubtools-pyxis-get-repo-metadata \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --repo-name some-repo/name

  pubtools-pyxis-get-repo-metadata \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --repo-name some-repo/name \
  --only-internal-registry

  pubtools-pyxis-get-repo-metadata \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --repo-name some-repo/name \
  --only-partner-registry

Upload signatures:
::

  pubtools-pyxis-upload-signatures \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --signatures '[{"foo": "bar"}]'

  pubtools-pyxis-upload-signatures \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --signatures @signatures.json

Get signatures:
::

  pubtools-pyxis-get-signatures \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --manifest-digest sha256-digest-of-manifest,sha256-digest-of-other-manifest

  pubtools-pyxis-get-signatures \
  --pyxis-server https://pyxis-server-url/ \
  --pyxis-ssl-crtfile /path/to/file.crt \
  --pyxis-ssl-keyfile /path/to/file.key \
  --manifest-digest sha256-digest-of-manifest
  --reference pull-reference-of-image,pull-reference-of-image2

ChangeLog
=========

1.3.7 (2025-05-06)
------------------

* python3.9 compatibility fixes

1.3.6 (2025-03-06)
------------------

* Splitted entrypoitnts to `console_scripts` and `mod`.


1.3.5 (2023-03-14)
------------------

* Delete signatures in parallel

1.3.4 (2023-03-01)
------------------

* Fix request threads
* Drop Python 2 support

1.3.3 (2022-11-09)
------------------

* Tolerate 409 of signature upload
* Add Bandit checks and resolve Bandit findings

1.3.2 (2021-10-15)
------------------

* Modified the retry requests approach

1.3.1 (2021-08-19)
------------------

* Fixed building with Python 2.6 distutils

1.3.0 (2021-08-18)
------------------

* Added documentation
* Added support for parallel uploading of signatures

1.2.0 (2021-06-10)
------------------

* Added the ability to add file as input type for --manifest_digests and --reference for get-signatures
* Added entrypoint for removing signatures

1.1.0 (2021-03-29)
------------------

* Added upload-signatures, get-signatures to interact with pyxis sigstore
* Added get-repository-metadata to fetch repository data from pyxis
* Fixed py2.6 pip url

1.0.0 (2020-11-27)
------------------

* Set version to 1.0.0 to indicate stable release

0.2.0 (2020-11-23)
------------------

* Fix module path


0.1.0 (2020-11-20)
------------------

* Initial release.

