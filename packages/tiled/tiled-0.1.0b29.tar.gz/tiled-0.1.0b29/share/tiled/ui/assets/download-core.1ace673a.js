import{a7 as $,a8 as B,a9 as q,b as F,aa as w,ab as x,ac as A,X as z,ad as G,r as o,e as L,_ as U,j as I,c as W,p as H,m as J,ae as S,C as X,v as Z,h as K,J as Q,x as Y,y as ee,d as te,w as oe,i as ne,o as re,af as ae,E as se,a5 as g,Z as le}from"./index.72e24882.js";import{c as ce,i as ie,u as ue,F as de}from"./FormLabel.a3eda031.js";import{d as pe,o as me,b as fe,B as P}from"./browse.0916686d.js";import{b as ye}from"./Input.ed778d26.js";import{I as ve,S as xe,M as ge,d as f,P as he,T as be}from"./TextField.8d6efd58.js";function Ce(e,t){return()=>null}function ke(e,t){return()=>null}function Ee(e,t,n,r,s){return null}const _e=["component","direction","spacing","divider","children","className","useFlexGap"],we=$(),Se=B("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Pe(e){return q({props:e,name:"MuiStack",defaultTheme:we})}function Re(e,t){const n=o.exports.Children.toArray(e).filter(Boolean);return n.reduce((r,s,l)=>(r.push(s),l<n.length-1&&r.push(o.exports.cloneElement(t,{key:`separator-${l}`})),r),[])}const Fe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Ie=({ownerState:e,theme:t})=>{let n=F({display:"flex",flexDirection:"column"},w({theme:t},x({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=A(t),s=Object.keys(t.breakpoints.values).reduce((a,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(a[c]=!0),a),{}),l=x({values:e.direction,base:s}),m=x({values:e.spacing,base:s});typeof l=="object"&&Object.keys(l).forEach((a,c,d)=>{if(!l[a]){const p=c>0?l[d[c-1]]:"column";l[a]=p}}),n=z(n,w({theme:t},m,(a,c)=>e.useFlexGap?{gap:S(r,a)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${Fe(c?l[c]:e.direction)}`]:S(r,a)}}))}return n=G(t.breakpoints,n),n};function Te(e={}){const{createStyledComponent:t=Se,useThemeProps:n=Pe,componentName:r="MuiStack"}=e,s=()=>H({root:["root"]},a=>J(r,a),{}),l=t(Ie);return o.exports.forwardRef(function(a,c){const d=n(a),i=L(d),{component:p="div",direction:y="column",spacing:v=0,divider:E,children:_,className:j,useFlexGap:D=!1}=i,O=U(i,_e),V={direction:y,spacing:v,useFlexGap:D},N=s();return I.exports.jsx(l,F({as:p,ownerState:V,ref:c,className:W(N.root,j)},O,{children:E?Re(_,E):_}))})}const Me={configure:e=>{X.configure(e)}},je=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:Me,capitalize:Z,createChainedFunction:ce,createSvgIcon:K,debounce:pe,deprecatedPropType:Ce,isMuiElement:ie,ownerDocument:me,ownerWindow:fe,requirePropFactory:ke,setRef:Q,unstable_useEnhancedEffect:Y,unstable_useId:ue,unsupportedProp:Ee,useControlled:ye,useEventCallback:ee,useForkRef:te,useIsFocusVisible:oe},Symbol.toStringTag,{value:"Module"})),De=Te({createStyledComponent:ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>re({props:e,name:"MuiStack"})}),h=De;var C={},T={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(T);var b={};const Oe=ae(je);var R;function Ve(){return R||(R=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Oe}(b)),b}var Ne=T.exports;Object.defineProperty(C,"__esModule",{value:!0});var M=C.default=void 0,$e=Ne(Ve()),Be=I.exports,qe=(0,$e.default)((0,Be.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");M=C.default=qe;/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ae=Le;function k(){return new DOMException("The request is not allowed","NotAllowedError")}async function ze(e){if(!navigator.clipboard)throw k();return navigator.clipboard.writeText(e)}async function Ge(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const n=window.getSelection(),r=window.document.createRange();n.removeAllRanges(),r.selectNode(t),n.addRange(r);let s=!1;try{s=window.document.execCommand("copy")}finally{n.removeAllRanges(),window.document.body.removeChild(t)}if(!s)throw k()}async function Le(e){try{await ze(e)}catch(t){try{await Ge(e)}catch(n){throw n||t||k()}}}const Ze=e=>{const n=o.exports.useContext(se).structure_families[e.structureFamily].formats,[r,s]=o.exports.useState(null),l=i=>{s(i.currentTarget)},m=()=>{s(null)},u=Boolean(r),a=u?"link-popover":void 0,c=i=>{const p=i.target.value,y=n.find(v=>v.mimetype===p);e.setFormat(y)},d=e.format!==void 0?e.format.mimetype:"";return o.exports.createElement(h,{spacing:2,direction:"column"},o.exports.createElement(P,{sx:{minWidth:120}},o.exports.createElement(de,{fullWidth:!0},o.exports.createElement(ve,{id:"formats-select-label"},"Format *"),o.exports.createElement(xe,{labelId:"formats-select-label",id:"formats-select",value:d,label:"Format",onChange:c,required:!0},n.map(i=>o.exports.createElement(ge,{key:`format-${i.mimetype}`,value:i.mimetype},i.display_name))))),o.exports.createElement(h,{spacing:1,direction:"row"},o.exports.createElement(f,{title:"Download to a file"},o.exports.createElement("span",null,o.exports.createElement(g,{component:"a",href:e.link?`${e.link}&filename=${e.name}${e.format.extension}`:"#",variant:"outlined",...e.link?{}:{disabled:!0}},"Download"))),o.exports.createElement(f,{title:"Get a URL to this specific data"},o.exports.createElement("span",null,o.exports.createElement(g,{"aria-describedby":a,variant:"outlined",...e.link?{}:{disabled:!0},onClick:l},"Link"))),o.exports.createElement(he,{id:a,open:u,anchorEl:r,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{width:500}}},o.exports.createElement(P,{sx:{px:2,py:2}},o.exports.createElement(h,{direction:"row",spacing:1}),o.exports.createElement(be,{id:"link-text",label:"Link",sx:{width:"90%"},defaultValue:e.link,InputProps:{readOnly:!0},variant:"outlined"}),o.exports.createElement(f,{title:"Copy to clipboard"},o.exports.createElement(le,{onClick:()=>{Ae(e.link)}},o.exports.createElement(M,null))))),o.exports.createElement(f,{title:"Open in a new tab (if format is supported by web browser)"},o.exports.createElement("span",null,o.exports.createElement(g,{component:"a",href:e.link?e.link:"#",target:"_blank",variant:"outlined",...e.link?{}:{disabled:!0}},"Open")))))};export{Ze as D,h as S};
