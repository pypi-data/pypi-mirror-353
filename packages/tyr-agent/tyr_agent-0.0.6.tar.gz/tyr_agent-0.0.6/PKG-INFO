Metadata-Version: 2.4
Name: tyr-agent
Version: 0.0.6
Summary: Agente LLM com execuÃ§Ã£o de funÃ§Ãµes, histÃ³rico persistente, suporte a arquivos e orquestraÃ§Ã£o de mÃºltiplos agentes.
Author-email: Witor Oliveira <witoredson@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/Drarlian/tyr-agent
Project-URL: Source, https://github.com/Drarlian/tyr-agent
Project-URL: Issues, https://github.com/Drarlian/tyr-agent/issues
Keywords: llm,agent,gemini,function-calling,ai
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: google-generativeai
Requires-Dist: python-dotenv
Requires-Dist: pillow
Dynamic: license-file

# ğŸ¤– Tyr Agent

[![PyPI version](https://badge.fury.io/py/tyr-agent.svg)](https://pypi.org/project/tyr-agent/)
[![Python version](https://img.shields.io/badge/python-3.9%2B-blue)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

TyrAgent Ã© uma biblioteca para criaÃ§Ã£o de agentes inteligentes com histÃ³rico, function-calling, suporte a arquivos e orquestraÃ§Ã£o de mÃºltiplos agentes. Ideal para aplicaÃ§Ãµes com modelos generativos como Gemini, GPT e similares.

- ğŸ’¬ Conversas com ou sem `streaming`
- ğŸ§  `MemÃ³ria` persistente de interaÃ§Ãµes (por agente), com controle total de uso e armazenamento
- ğŸ“Š Sistema de `score` por interaÃ§Ã£o para qualificar e filtrar o histÃ³rico
- âš™ï¸ ExecuÃ§Ã£o de funÃ§Ãµes python durante a conversa, com suporte a `function calling`
- ğŸ§‘ğŸ»â€ğŸ’¼ `OrquestraÃ§Ã£o` de mÃºltiplos agentes com roteamento automÃ¡tico de mensagens
- ğŸ–¼ï¸ InterpretaÃ§Ã£o de mÃºltiplos tipos de `arquivo`
- ğŸ§© Estrutura modular e extensÃ­vel

--- 

## ğŸ“¦ InstalaÃ§Ã£o via PyPI

```bash
  pip install tyr-agent
```

> ğŸ”’ Lembre-se de configurar sua variÃ¡vel `GEMINI_KEY` no `.env`

---

## ğŸ§© Estrutura do projeto

```
tyr_agent/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ agent.py  # SimpleAgent, ComplexAgent e ManagerAgent
â”‚   â””â”€â”€ ai_config.py  # configure_gemini
â””â”€â”€ storage/
    â””â”€â”€ interaction_history.py  # InteractionHistory

```

---

## ğŸ’¡ Exemplos de uso

### ğŸ“˜ Criando um agente simples

```python
import asyncio
import google.generativeai as genai
from tyr_agent import SimpleAgent, configure_gemini

configure_gemini()
agent = SimpleAgent(
    prompt_build="VocÃª Ã© um assistente de clima.",
    agent_name="WeatherAgent",
    model=genai.GenerativeModel("gemini-2.5-flash-preview-04-17"),
    use_history=True,  # Ã‰ um parÃ¢metro opicional e pode ser True ou False.
    use_score=True,    # Ã‰ um parÃ¢metro opicional e pode ser True ou False.,
    score_average=3    # Ã‰ um parÃ¢metro opicional e pode variar de 0 a 5.,
)

# O parÃ¢metro "save_history" tambÃ©m Ã© opicional e pode ser True ou False.
response = asyncio.run(agent.chat("Qual o clima em Salvador?", save_history=True))
```

### âš™ï¸ Criando um agente com funÃ§Ãµes

```python
import asyncio
import google.generativeai as genai
from tyr_agent import ComplexAgent, configure_gemini

def somar(a: float, b: float): return a + b

def pegar_clima(cidade: str): return f"Clima em {cidade}: Ensolarado 28Â°C"

configure_gemini()
agent = ComplexAgent(
    prompt_build="VocÃª pode fazer cÃ¡lculos e responder sobre o clima.",
    agent_name="WeatherSumBot",
    model=genai.GenerativeModel("gemini-2.5-flash-preview-04-17"),
    functions={"somar": somar, "pegar_clima": pegar_clima},
    use_history=False,  # Ã‰ um parÃ¢metro opicional e pode ser True ou False.
    use_score=False,    # Ã‰ um parÃ¢metro opicional e pode ser True ou False.,
    score_average=1     # Ã‰ um parÃ¢metro opicional e pode variar de 0 a 5.,
)

# O parÃ¢metro "save_history" tambÃ©m Ã© opicional e pode ser True ou False.
response = asyncio.run(agent.chat("Me diga quanto Ã© 10+5 e o clima de SÃ£o Paulo", save_history=False))
```

### ğŸ§‘ğŸ»â€ğŸ’¼ Criando um orquestrador de agentes

```python
import asyncio
import google.generativeai as genai
from tyr_agent import ManagerAgent, ComplexAgent, SimpleAgent, configure_gemini

configure_gemini()
model = genai.GenerativeModel("gemini-2.5-flash-preview-04-17")

weather_agent = SimpleAgent(
    prompt_build="VocÃª Ã© um assistente de clima.",
    agent_name="WeatherAgent",
    model=model
)

def somar(a: float, b: float): return a + b

def subtrair(a: float, b: float): return a - b

math_agent = ComplexAgent(
    prompt_build="VocÃª pode fazer cÃ¡lculos matemÃ¡ticos.",
    agent_name="MathAgent",
    model=model,
    functions={"somar": somar, "subtrair": subtrair}
)

configure_gemini()
manager_agent = ManagerAgent(
    agent_name="ManagerAgent",
    model=model,
    agents={"weather": weather_agent, "math": math_agent},
    use_history=True,  # Ã‰ um parÃ¢metro opicional e pode ser True ou False.,
    use_score=True,    # Ã‰ um parÃ¢metro opicional e pode ser True ou False.,
    score_average=4    # Ã‰ um parÃ¢metro opicional e pode variar de 0 a 5.,

)

# O parÃ¢metro "save_history" tambÃ©m Ã© opicional e pode ser True ou False.
response = asyncio.run(manager_agent.chat("Me diga clima de SÃ£o Paulo e quanto Ã© 10+5", save_history=False))
```

---

## ğŸ§  Principais recursos

- `SimpleAgent`: Conversa com contexto e histÃ³rico;
- `ComplexAgent`: Capaz de sugerir e executar funÃ§Ãµes, processar os resultados e entregar uma resposta final;
- `ManagerAgent`: Orquestra mÃºltiplos agentes e delega tarefas automaticamente;
- `InteractionHistory`: Armazena o histÃ³rico individual de cada agente em JSON;
- Suporte a mÃºltiplos tipos de arquivo via path, base64 ou BytesIO;
- Sistema de score por interaÃ§Ã£o (0 a 5) com mÃ©dia configurÃ¡vel (`score_average`) para decidir o que deve ou nÃ£o ser utlizado no histÃ³rico;
- HistÃ³rico totalmente gerenciÃ¡vel com mÃ©todos para criar, remover, limpar ou apagar os dados persistidos;
- Estrutura modular e extensÃ­vel para expansÃ£o futura (benchmark, visÃ£o computacional, execuÃ§Ã£o de cÃ³digo etc.).

---

## ğŸ“„ LicenÃ§a

Este repositÃ³rio estÃ¡ licenciado sob os termos da MIT License.

---

## ğŸ“¬ Contato

Criado por **Witor Oliveira**  
ğŸ”— [LinkedIn](https://www.linkedin.com/in/witoroliveira/)  
ğŸ“« [Contato por e-mail](mailto:witoredson@gmail.com)
