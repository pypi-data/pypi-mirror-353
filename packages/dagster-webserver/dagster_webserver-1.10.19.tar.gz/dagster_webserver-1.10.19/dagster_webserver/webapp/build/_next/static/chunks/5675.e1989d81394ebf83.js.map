{"version":3,"file":"static/chunks/5675.e1989d81394ebf83.js","mappings":"kIAEO,IAAMA,EAAOC,SAAAA,EAAMA,CAACC,GAAG,CAAAC,UAAA,6RCEvB,IAAMC,EAAoB,IAE7B,GAAAC,EAAAC,GAAA,EAACC,EAAAA,CAAUA,CAAAA,CACTC,MAAO,GAAAH,EAAAC,GAAA,EAACG,EAAAA,EAAOA,CAAAA,UAAC,yBAChBC,MAAO,GAAAL,EAAAC,GAAA,EAACK,EAAAA,CAAeA,CAAAA,CAACC,MAAM,+HCgB7B,IAAMC,EAAwB,KACnCC,CAAAA,EAAAA,EAAAA,EAAAA,IACA,GAAM,CAAC,EAAGC,CAAI,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,IACZC,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,IAEhBC,CAAAA,EAAAA,EAAAA,CAAAA,EAAkB,wBAClB,IAAMC,EAAeC,CAAAA,EAAAA,EAAAA,CAAAA,IAEfC,EAAuBC,CAAAA,EAAAA,EAAAA,WAAAA,EAC3B,CAACR,EAAoBS,KACnBP,CAAO,CAACO,EAAK,CAAC,CACZC,SAAUC,CAAAA,EAAAA,EAAAA,EAAAA,EAA6BX,GACvCY,OAAQV,EAAQW,QAAQ,CAACD,MAAM,EAEnC,EACA,CAACV,EAAQ,EAGLY,EAA8BN,CAAAA,EAAAA,EAAAA,WAAAA,EAClC,CAACO,EAA2CC,KAC1C,IAAMhB,EAAOiB,CAAAA,EAAAA,EAAAA,CAAAA,EAAuBD,EAAKE,QAAQ,CAAE,CAACC,KAAM,YAAY,EAClEJ,CAAAA,EAAEK,OAAO,CACXf,EAAaL,GAEbE,EAAQmB,IAAI,CAACrB,EAEjB,EACA,CAACE,EAASG,EAAa,EAGnB,CAACiB,EAA8BC,EAAgC,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,EACtE,+BACA,GACMC,UAAAA,GAAoBA,CAAS,IAATA,GAOtB,CAACC,UAAAA,CAAS,CAAEC,QAASC,CAAgB,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,IAEzCC,EAAeC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IACW,EACpCT,6BAAAA,EACAU,kBAAmBN,EACf,GAAU,CAACA,EAAUO,GAAG,CAACC,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBlB,EAAKE,QAAQ,GACvDiB,KAAAA,EACJR,QAASC,CACX,GAEC,CAACN,EAA8BI,EAAWE,EAAiB,EAE9D,MACE,GAAAtC,EAAA8C,IAAA,EAACnD,EAAAA,CAAIA,CAAAA,CAACoD,MAAO,CAACC,QAAS,OAAQC,cAAe,SAAUC,cAAe,CAAC,YACtE,GAAAlD,EAAAC,GAAA,EAACF,EAAiBA,CAAAA,GAElB,GAAAC,EAAAC,GAAA,EAACkD,EAAAA,EAAkBA,CAAAA,CACjBX,aAAcA,EACdY,QAAS,CAACC,qBAAsB,GAAMC,kBAAmB,EAAI,EAC7DC,aAAcC,CAAAA,EAAAA,EAAAA,EAAAA,EAA+B9C,GAC7CO,qBAAsBA,EACtBO,4BAA6BA,EAC7BiC,SAAUC,EAAAA,EAAkBA,CAACC,MAAM,CACnC1B,gCAAiCA,MAIzC,EAIA,IAAA2B,EAAepD","sources":["webpack://_N_E/../ui-components/src/components/Page.tsx","webpack://_N_E/../ui-core/src/assets/AssetsGraphHeader.oss.tsx","webpack://_N_E/../ui-core/src/assets/AssetsGlobalGraphRoot.tsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Page = styled.div`\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 64px;\n  width: 100%;\n`;\n","import {Heading, PageHeader} from '@dagster-io/ui-components';\n\nimport {ReloadAllButton} from '../workspace/ReloadAllButton';\n\nexport const AssetsGraphHeader = () => {\n  return (\n    <PageHeader\n      title={<Heading>Global Asset Lineage</Heading>}\n      right={<ReloadAllButton label=\"Reload definitions\" />}\n    />\n  );\n};\n","import {Page} from '@dagster-io/ui-components';\nimport {useCallback, useMemo} from 'react';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {AssetsGraphHeader} from 'shared/assets/AssetsGraphHeader.oss';\nimport {useFavoriteAssets} from 'shared/assets/useFavoriteAssets.oss';\n\nimport {assetDetailsPathForKey} from './assetDetailsPathForKey';\nimport {\n  globalAssetGraphPathFromString,\n  globalAssetGraphPathToString,\n} from './globalAssetGraphPathToString';\nimport {useTrackPageView} from '../app/analytics';\nimport {AssetGraphExplorer} from '../asset-graph/AssetGraphExplorer';\nimport {AssetGraphViewType, tokenForAssetKey} from '../asset-graph/Utils';\nimport {AssetGraphFetchScope} from '../asset-graph/useAssetGraphData';\nimport {AssetLocation} from '../asset-graph/useFindAssetLocation';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useOpenInNewTab} from '../hooks/useOpenInNewTab';\nimport {useStateWithStorage} from '../hooks/useStateWithStorage';\nimport {ExplorerPath} from '../pipelines/PipelinePathUtils';\ninterface AssetGroupRootParams {\n  0: string;\n}\n\nexport const AssetsGlobalGraphRoot = () => {\n  useTrackPageView();\n  const {0: path} = useParams<AssetGroupRootParams>();\n  const history = useHistory();\n\n  useDocumentTitle(`Global Asset Lineage`);\n  const openInNewTab = useOpenInNewTab();\n\n  const onChangeExplorerPath = useCallback(\n    (path: ExplorerPath, mode: 'push' | 'replace') => {\n      history[mode]({\n        pathname: globalAssetGraphPathToString(path),\n        search: history.location.search,\n      });\n    },\n    [history],\n  );\n\n  const onNavigateToSourceAssetNode = useCallback(\n    (e: Pick<React.MouseEvent<any>, 'metaKey'>, node: AssetLocation) => {\n      const path = assetDetailsPathForKey(node.assetKey, {view: 'definition'});\n      if (e.metaKey) {\n        openInNewTab(path);\n      } else {\n        history.push(path);\n      }\n    },\n    [history, openInNewTab],\n  );\n\n  const [hideEdgesToNodesOutsideQuery, setHideEdgesToNodesOutsideQuery] = useStateWithStorage(\n    'hideEdgesToNodesOutsideQuery',\n    (json) => {\n      if (json === 'false' || json === false) {\n        return false;\n      }\n      return true;\n    },\n  );\n\n  const {favorites, loading: favoritesLoading} = useFavoriteAssets();\n\n  const fetchOptions = useMemo(() => {\n    const options: AssetGraphFetchScope = {\n      hideEdgesToNodesOutsideQuery,\n      hideNodesMatching: favorites\n        ? (node) => !favorites.has(tokenForAssetKey(node.assetKey))\n        : undefined,\n      loading: favoritesLoading,\n    };\n    return options;\n  }, [hideEdgesToNodesOutsideQuery, favorites, favoritesLoading]);\n\n  return (\n    <Page style={{display: 'flex', flexDirection: 'column', paddingBottom: 0}}>\n      <AssetsGraphHeader />\n\n      <AssetGraphExplorer\n        fetchOptions={fetchOptions}\n        options={{preferAssetRendering: true, explodeComposites: true}}\n        explorerPath={globalAssetGraphPathFromString(path)}\n        onChangeExplorerPath={onChangeExplorerPath}\n        onNavigateToSourceAssetNode={onNavigateToSourceAssetNode}\n        viewType={AssetGraphViewType.GLOBAL}\n        setHideEdgesToNodesOutsideQuery={setHideEdgesToNodesOutsideQuery}\n      />\n    </Page>\n  );\n};\n\n// Imported via React.lazy, which requires a default export.\n// eslint-disable-next-line import/no-default-export\nexport default AssetsGlobalGraphRoot;\n"],"names":["Page","styled","div","withConfig","AssetsGraphHeader","jsx_runtime","jsx","PageHeader","title","Heading","right","ReloadAllButton","label","AssetsGlobalGraphRoot","useTrackPageView","path","useParams","history","useHistory","useDocumentTitle","openInNewTab","useOpenInNewTab","onChangeExplorerPath","useCallback","mode","pathname","globalAssetGraphPathToString","search","location","onNavigateToSourceAssetNode","e","node","assetDetailsPathForKey","assetKey","view","metaKey","push","hideEdgesToNodesOutsideQuery","setHideEdgesToNodesOutsideQuery","useStateWithStorage","json","favorites","loading","favoritesLoading","useFavoriteAssets","fetchOptions","useMemo","hideNodesMatching","has","tokenForAssetKey","undefined","jsxs","style","display","flexDirection","paddingBottom","AssetGraphExplorer","options","preferAssetRendering","explodeComposites","explorerPath","globalAssetGraphPathFromString","viewType","AssetGraphViewType","GLOBAL","assets_AssetsGlobalGraphRoot"],"sourceRoot":""}