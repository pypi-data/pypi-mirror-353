"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1500],{6657:function(e,n,t){t.d(n,{CY:function(){return I},N9:function(){return y}});var o=t(73235),r=t(52322),s=t(2784),i=t(7267),a=t(31062),l=t(11971),p=t(84890),d=t(71982),h=t(4760),c=t(69752),u=t(96798),x=t(32454),m=t(9628),f=t(55638),g=t(93781),j=t(12864),v=t(87788),S=t(16450),N=t(32549);function P(){let e=(0,o._)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}let I=()=>{(0,u.Px)();let e=(0,i.UO)(),n=(0,d.p3)(e["0"]),{pipelineName:t,snapshotId:o}=n,s=(0,i.k6)(),a=(0,j.Q)();return(0,g.j)("Snapshot: ".concat(t).concat(o?"@".concat(o.slice(0,8)):"")),(0,r.jsx)(y,{explorerPath:n,onChangeExplorerPath:(e,n)=>{s[n]("/snapshots/".concat((0,d.gY)(e)))},onNavigateToSourceAssetNode:(e,n)=>{let{assetKey:t}=n,o=(0,f.p)(t);e.metaKey?a(o):s.push((0,f.p)(t))}})},y=e=>{var n;let{explorerPath:t,repoAddress:o}=e,i=(0,N.tc)(o,t.pipelineName),[a,l]=(0,s.useState)({explodeComposites:null!==(n=t.explodeComposites)&&void 0!==n&&n,preferAssetRendering:!0}),p=!!i&&null!==i.externalJobSource;if((0,s.useEffect)(()=>(p!==a.isExternal&&l({...a,isExternal:p}),()=>{}),[p,a]),i&&i.isAssetJob&&a.preferAssetRendering){let n=(0,N._T)(o||null,t.pipelineName);return(0,r.jsx)(x.OK,{options:a,setOptions:l,fetchOptions:{pipelineSelector:n},explorerPath:t,onChangeExplorerPath:e.onChangeExplorerPath,onNavigateToSourceAssetNode:e.onNavigateToSourceAssetNode,viewType:m._4.JOB},t.pipelineName)}return(0,r.jsx)(b,{...e,options:a,setOptions:l})},b=e=>{let{explorerPath:n,repoAddress:t,onChangeExplorerPath:o,onNavigateToSourceAssetNode:s,isGraph:i=!1,options:d,setOptions:c}=e,u=n.opNames.slice(0,n.opNames.length-1),f=(0,N._T)(t||null,n.pipelineName),g=(0,h.aM)(E,{variables:{snapshotPipelineSelector:n.snapshotId?void 0:f,snapshotId:n.snapshotId?n.snapshotId:void 0,rootHandleID:u.join("."),requestScopeHandleID:d.explodeComposites?void 0:u.join(".")}});return(0,r.jsx)(S.g,{queryResult:g,children:e=>{let{pipelineSnapshotOrError:h}=e;if("PipelineSnapshot"!==h.__typename)return(0,r.jsx)(p.Q,{isGraph:i,result:h,repoAddress:t});let u=h.solidHandle,g=d.explodeComposites?(0,a.i)(h.solidHandles):h.solidHandles,j=h.solidHandles.some(e=>e.solid.definition.assetNodes.length>0);return d.preferAssetRendering&&j?(0,r.jsx)(x.OK,{options:d,setOptions:c,fetchOptions:{pipelineSelector:f},explorerPath:n,onChangeExplorerPath:o,onNavigateToSourceAssetNode:s,viewType:m._4.JOB}):(0,r.jsx)(l.m0,{options:d,setOptions:c,explorerPath:n,onChangeExplorerPath:o,container:h,repoAddress:t,handles:g,parentHandle:u||void 0,isGraph:i,getInvocations:e=>g.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},E=(0,h.Ps)(P(),v.i,l.Sm,l.Q,l.bg,c.B)},82411:function(e,n,t){t.d(n,{N:function(){return O}});var o=t(52322),r=t(57164),s=t(48177),i=t(54854),a=t(54123),l=t(2784),p=t(7267),d=t(71982),h=t(20940),c=t(15997),u=t(6023),x=t(32549),m=t(18328);let f=e=>{let{repoAddress:n,anyFilter:t,jobName:r,jobPath:i}=e,a=(0,x.Ux)(n),l=(0,x.Hb)(a,r),p=(0,x.Ri)(a,r);return(0,o.jsx)(s.x,{padding:{vertical:64},children:(0,o.jsx)(c.t,{icon:"run",title:"No runs found",description:n?p?(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this external job."}):l?(0,o.jsxs)(s.x,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(u.A,{icon:(0,o.jsx)(h.JO,{name:"materialization"}),to:(0,m.$U)(n,"/jobs/".concat(i)),children:"Materialize an asset"})})]}):(0,o.jsxs)(s.x,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(u.A,{icon:(0,o.jsx)(h.JO,{name:"add_circle"}),to:(0,m.$U)(n,"/jobs/".concat(i,"/playground")),children:"Launch a run"})})]}):(0,o.jsx)("div",{children:"You have not launched any runs for this job."})})})};var g=t(94315),j=t(98933),v=t(96798),S=t(84991),N=t(86224),P=t(41349),I=t(31622),y=t(14284),b=t(21876),E=t(1667),C=t(27450);let H=["status","tag","id","created_date_before","created_date_after"],O=e=>{(0,v.Px)();let{pipelinePath:n}=(0,p.UO)(),{repoAddress:t=null}=e,h=(0,d.p3)(n),{pipelineName:c,snapshotId:u}=h,m=(0,x.Ux)(t),O=(0,x.E8)(m,c);(0,g.b)(h,O);let[_,A]=(0,b.oD)(H),T=(0,l.useMemo)(()=>[O?{token:"job",value:c}:{token:"pipeline",value:c},u?{token:"snapshotId",value:u}:null].filter(Boolean),[O,c,u]),D=(0,l.useMemo)(()=>{let e=[..._,...T];if(t){let n={token:"tag",value:"".concat(N.H.RepositoryLabelTag,"=").concat((0,C.Wg)(t))};e.push(n)}return{...(0,b.VH)(e),pipelineName:c,snapshotId:u}},[_,T,c,t,u]),k=(0,l.useCallback)(e=>{let n=(0,r.HY)(e);_.some(e=>(0,r.HY)(e)===n)||A([..._,e])},[_,A]),{entries:w,paginationProps:F,queryResult:$}=(0,E.a)({filter:D,skip:!1,view:S.aKQ.RUNS}),R=(0,j.C4)($,j.dT),{button:Y,activeFiltersJsx:U}=(0,b.Vv)({enabledFilters:H,tokens:_,onChange:A,loading:$.loading}),Q=(0,o.jsxs)(s.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{width:"100%"},padding:{right:16},children:[Y,(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(j.xi,{refreshState:R})]}),V=(0,o.jsxs)(s.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[T.map(e=>{let{token:n,value:t}=e;return(0,o.jsx)(i.V,{children:"".concat(n,":").concat(t)},n)}),U,U.length>0&&(0,o.jsx)(a.Z,{onClick:()=>A([]),children:"Clear all"})]});return(0,o.jsx)(P.Lw.Provider,{value:{refetch:R.refetch},children:$.error?(0,o.jsx)(I.f,{error:$.error}):(0,o.jsx)("div",{style:{minHeight:0},children:(0,o.jsx)(y.F,{entries:w,loading:$.loading,onAddTag:k,refetch:R.refetch,actionBarComponents:Q,belowActionBarComponents:V,paginationProps:F,filter:D,emptyState:()=>(0,o.jsx)(f,{repoAddress:t,anyFilter:_.length>0,jobName:c,jobPath:n})})})})}},71500:function(e,n,t){t.r(n),t.d(n,{SnapshotRoot:function(){return I},default:function(){return y}});var o=t(52322),r=t(7267),s=t(6657),i=t(73235),a=t(54854),l=t(71018),p=t(18984),d=t(56328),h=t(44537),c=t(47933),u=t(4760),x=t(71982),m=t(74597),f=t(32549),g=t(18328);function j(){let e=(0,i._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return j=function(){return e},e}let v=(0,u.Ps)(j()),S=e=>{var n,t;let{activeTab:r="",explorerPath:s}=e,{pipelineName:i,snapshotId:j=""}=s,S=(0,x.gY)({...s,opNames:[]}),N=(0,f.Nc)(i),P=null==N?void 0:N.pipelineSnapshotId,{data:I,loading:y}=(0,u.aM)(v,{variables:{snapshotId:j}});return(0,o.jsx)(l.m,{title:(0,o.jsx)(p.X6,{style:{fontFamily:d.b.monospace,fontSize:"16px"},children:null===(n=s.snapshotId)||void 0===n?void 0:n.slice(0,8)}),tags:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.V,{icon:"schema",children:["Snapshot of"," ",(0,o.jsx)(c.rU,{to:(0,g.r4)(s.pipelineName),children:s.pipelineName})]}),y?(0,o.jsx)(a.V,{intent:"none",minimal:!0,children:"..."}):P&&(P===j||(null==I?void 0:I.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==I?void 0:null===(t=I.pipelineSnapshotOrError)||void 0===t?void 0:t.parentSnapshotId)===P)?(0,o.jsx)(a.V,{intent:"success",minimal:!0,children:"Current"}):(0,o.jsx)(a.V,{intent:"warning",minimal:!0,children:"Snapshot"})]}),tabs:(0,o.jsx)(h.mQ,{selectedTabId:r,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(S)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(S,"runs")}].map(e=>{let{href:n,text:t,pathComponent:r}=e;return(0,o.jsx)(m.f,{id:r,title:t,to:n},t)})})})};var N=t(98768),P=t(82411);let I=()=>{let{pipelinePath:e,tab:n}=(0,r.UO)(),t=(0,x.p3)(e);return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,o.jsx)(S,{activeTab:n,explorerPath:t}),(0,o.jsxs)(r.rs,{children:[(0,o.jsx)(N.A,{path:"/snapshots/:pipelinePath/runs",children:(0,o.jsx)(P.N,{})}),(0,o.jsx)(N.A,{path:"/snapshots/(/?.*)",children:(0,o.jsx)(s.CY,{})})]})]})};var y=I}}]);
//# sourceMappingURL=1500.4abf19d442101487.js.map